var RN=e=>{throw TypeError(e)};var nx=(e,t,n)=>t.has(e)||RN("Cannot "+n);var U=(e,t,n)=>(nx(e,t,"read from private field"),n?n.call(e):t.get(e)),Ve=(e,t,n)=>t.has(e)?RN("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Ce=(e,t,n,r)=>(nx(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),mt=(e,t,n)=>(nx(e,t,"access private method"),n);var up=(e,t,n,r)=>({set _(a){Ce(e,t,a,n)},get _(){return U(e,t,r)}});function hL(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(r,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();var dp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ot(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var N_={exports:{}},vv={},S_={exports:{}},jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zf=Symbol.for("react.element"),vL=Symbol.for("react.portal"),gL=Symbol.for("react.fragment"),xL=Symbol.for("react.strict_mode"),yL=Symbol.for("react.profiler"),bL=Symbol.for("react.provider"),jL=Symbol.for("react.context"),wL=Symbol.for("react.forward_ref"),NL=Symbol.for("react.suspense"),SL=Symbol.for("react.memo"),CL=Symbol.for("react.lazy"),$N=Symbol.iterator;function EL(e){return e===null||typeof e!="object"?null:(e=$N&&e[$N]||e["@@iterator"],typeof e=="function"?e:null)}var C_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E_=Object.assign,A_={};function Zc(e,t,n){this.props=e,this.context=t,this.refs=A_,this.updater=n||C_}Zc.prototype.isReactComponent={};Zc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function k_(){}k_.prototype=Zc.prototype;function $j(e,t,n){this.props=e,this.context=t,this.refs=A_,this.updater=n||C_}var Mj=$j.prototype=new k_;Mj.constructor=$j;E_(Mj,Zc.prototype);Mj.isPureReactComponent=!0;var MN=Array.isArray,__=Object.prototype.hasOwnProperty,Dj={current:null},O_={key:!0,ref:!0,__self:!0,__source:!0};function P_(e,t,n){var r,a={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)__.call(t,r)&&!O_.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(l===1)a.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)a[r]===void 0&&(a[r]=l[r]);return{$$typeof:zf,type:e,key:s,ref:o,props:a,_owner:Dj.current}}function AL(e,t){return{$$typeof:zf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Fj(e){return typeof e=="object"&&e!==null&&e.$$typeof===zf}function kL(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var DN=/\/+/g;function rx(e,t){return typeof e=="object"&&e!==null&&e.key!=null?kL(""+e.key):t.toString(36)}function em(e,t,n,r,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case zf:case vL:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+rx(o,0):r,MN(a)?(n="",e!=null&&(n=e.replace(DN,"$&/")+"/"),em(a,t,n,"",function(u){return u})):a!=null&&(Fj(a)&&(a=AL(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(DN,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",MN(e))for(var l=0;l<e.length;l++){s=e[l];var c=r+rx(s,l);o+=em(s,t,n,c,a)}else if(c=EL(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=r+rx(s,l++),o+=em(s,t,n,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function fp(e,t,n){if(e==null)return e;var r=[],a=0;return em(e,r,"","",function(s){return t.call(n,s,a++)}),r}function _L(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var sr={current:null},tm={transition:null},OL={ReactCurrentDispatcher:sr,ReactCurrentBatchConfig:tm,ReactCurrentOwner:Dj};function T_(){throw Error("act(...) is not supported in production builds of React.")}jt.Children={map:fp,forEach:function(e,t,n){fp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return fp(e,function(){t++}),t},toArray:function(e){return fp(e,function(t){return t})||[]},only:function(e){if(!Fj(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};jt.Component=Zc;jt.Fragment=gL;jt.Profiler=yL;jt.PureComponent=$j;jt.StrictMode=xL;jt.Suspense=NL;jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OL;jt.act=T_;jt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=E_({},e.props),a=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Dj.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)__.call(t,c)&&!O_.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:zf,type:e.type,key:a,ref:s,props:r,_owner:o}};jt.createContext=function(e){return e={$$typeof:jL,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bL,_context:e},e.Consumer=e};jt.createElement=P_;jt.createFactory=function(e){var t=P_.bind(null,e);return t.type=e,t};jt.createRef=function(){return{current:null}};jt.forwardRef=function(e){return{$$typeof:wL,render:e}};jt.isValidElement=Fj;jt.lazy=function(e){return{$$typeof:CL,_payload:{_status:-1,_result:e},_init:_L}};jt.memo=function(e,t){return{$$typeof:SL,type:e,compare:t===void 0?null:t}};jt.startTransition=function(e){var t=tm.transition;tm.transition={};try{e()}finally{tm.transition=t}};jt.unstable_act=T_;jt.useCallback=function(e,t){return sr.current.useCallback(e,t)};jt.useContext=function(e){return sr.current.useContext(e)};jt.useDebugValue=function(){};jt.useDeferredValue=function(e){return sr.current.useDeferredValue(e)};jt.useEffect=function(e,t){return sr.current.useEffect(e,t)};jt.useId=function(){return sr.current.useId()};jt.useImperativeHandle=function(e,t,n){return sr.current.useImperativeHandle(e,t,n)};jt.useInsertionEffect=function(e,t){return sr.current.useInsertionEffect(e,t)};jt.useLayoutEffect=function(e,t){return sr.current.useLayoutEffect(e,t)};jt.useMemo=function(e,t){return sr.current.useMemo(e,t)};jt.useReducer=function(e,t,n){return sr.current.useReducer(e,t,n)};jt.useRef=function(e){return sr.current.useRef(e)};jt.useState=function(e){return sr.current.useState(e)};jt.useSyncExternalStore=function(e,t,n){return sr.current.useSyncExternalStore(e,t,n)};jt.useTransition=function(){return sr.current.useTransition()};jt.version="18.3.1";S_.exports=jt;var N=S_.exports;const F=Ot(N),Lj=hL({__proto__:null,default:F},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PL=N,TL=Symbol.for("react.element"),IL=Symbol.for("react.fragment"),RL=Object.prototype.hasOwnProperty,$L=PL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ML={key:!0,ref:!0,__self:!0,__source:!0};function I_(e,t,n){var r,a={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)RL.call(t,r)&&!ML.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:TL,type:e,key:s,ref:o,props:a,_owner:$L.current}}vv.Fragment=IL;vv.jsx=I_;vv.jsxs=I_;N_.exports=vv;var i=N_.exports,R_={exports:{}},Ir={},$_={exports:{}},M_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,B){var W=q.length;q.push(B);e:for(;0<W;){var Z=W-1>>>1,te=q[Z];if(0<a(te,B))q[Z]=B,q[W]=te,W=Z;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var B=q[0],W=q.pop();if(W!==B){q[0]=W;e:for(var Z=0,te=q.length,fe=te>>>1;Z<fe;){var Ae=2*(Z+1)-1,He=q[Ae],ze=Ae+1,xe=q[ze];if(0>a(He,W))ze<te&&0>a(xe,He)?(q[Z]=xe,q[ze]=W,Z=ze):(q[Z]=He,q[Ae]=W,Z=Ae);else if(ze<te&&0>a(xe,W))q[Z]=xe,q[ze]=W,Z=ze;else break e}}return B}function a(q,B){var W=q.sortIndex-B.sortIndex;return W!==0?W:q.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,p=3,h=!1,x=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(q){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=q)r(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=n(u)}}function w(q){if(m=!1,y(q),!x)if(n(c)!==null)x=!0,R(j);else{var B=n(u);B!==null&&V(w,B.startTime-q)}}function j(q,B){x=!1,m&&(m=!1,b(E),E=-1),h=!0;var W=p;try{for(y(B),f=n(c);f!==null&&(!(f.expirationTime>B)||q&&!O());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,p=f.priorityLevel;var te=Z(f.expirationTime<=B);B=e.unstable_now(),typeof te=="function"?f.callback=te:f===n(c)&&r(c),y(B)}else r(c);f=n(c)}if(f!==null)var fe=!0;else{var Ae=n(u);Ae!==null&&V(w,Ae.startTime-B),fe=!1}return fe}finally{f=null,p=W,h=!1}}var S=!1,C=null,E=-1,k=5,$=-1;function O(){return!(e.unstable_now()-$<k)}function T(){if(C!==null){var q=e.unstable_now();$=q;var B=!0;try{B=C(!0,q)}finally{B?P():(S=!1,C=null)}}else S=!1}var P;if(typeof v=="function")P=function(){v(T)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,D=I.port2;I.port1.onmessage=T,P=function(){D.postMessage(null)}}else P=function(){g(T,0)};function R(q){C=q,S||(S=!0,P())}function V(q,B){E=g(function(){q(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){x||h||(x=!0,R(j))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(q){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var W=p;p=B;try{return q()}finally{p=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,B){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var W=p;p=q;try{return B()}finally{p=W}},e.unstable_scheduleCallback=function(q,B,W){var Z=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Z+W:Z):W=Z,q){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=W+te,q={id:d++,callback:B,priorityLevel:q,startTime:W,expirationTime:te,sortIndex:-1},W>Z?(q.sortIndex=W,t(u,q),n(c)===null&&q===n(u)&&(m?(b(E),E=-1):m=!0,V(w,W-Z))):(q.sortIndex=te,t(c,q),x||h||(x=!0,R(j))),q},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(q){var B=p;return function(){var W=p;p=B;try{return q.apply(this,arguments)}finally{p=W}}}})(M_);$_.exports=M_;var DL=$_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FL=N,Tr=DL;function pe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var D_=new Set,gd={};function Uo(e,t){lc(e,t),lc(e+"Capture",t)}function lc(e,t){for(gd[e]=t,e=0;e<t.length;e++)D_.add(t[e])}var Ea=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sy=Object.prototype.hasOwnProperty,LL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,FN={},LN={};function qL(e){return Sy.call(LN,e)?!0:Sy.call(FN,e)?!1:LL.test(e)?LN[e]=!0:(FN[e]=!0,!1)}function zL(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function BL(e,t,n,r){if(t===null||typeof t>"u"||zL(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function or(e,t,n,r,a,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Dn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Dn[e]=new or(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Dn[t]=new or(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Dn[e]=new or(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Dn[e]=new or(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Dn[e]=new or(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Dn[e]=new or(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Dn[e]=new or(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Dn[e]=new or(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Dn[e]=new or(e,5,!1,e.toLowerCase(),null,!1,!1)});var qj=/[\-:]([a-z])/g;function zj(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qj,zj);Dn[t]=new or(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qj,zj);Dn[t]=new or(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qj,zj);Dn[t]=new or(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Dn[e]=new or(e,1,!1,e.toLowerCase(),null,!1,!1)});Dn.xlinkHref=new or("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Dn[e]=new or(e,1,!1,e.toLowerCase(),null,!0,!0)});function Bj(e,t,n,r){var a=Dn.hasOwnProperty(t)?Dn[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(BL(t,n,a,r)&&(n=null),r||a===null?qL(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var La=FL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pp=Symbol.for("react.element"),ul=Symbol.for("react.portal"),dl=Symbol.for("react.fragment"),Uj=Symbol.for("react.strict_mode"),Cy=Symbol.for("react.profiler"),F_=Symbol.for("react.provider"),L_=Symbol.for("react.context"),Vj=Symbol.for("react.forward_ref"),Ey=Symbol.for("react.suspense"),Ay=Symbol.for("react.suspense_list"),Hj=Symbol.for("react.memo"),Qa=Symbol.for("react.lazy"),q_=Symbol.for("react.offscreen"),qN=Symbol.iterator;function wu(e){return e===null||typeof e!="object"?null:(e=qN&&e[qN]||e["@@iterator"],typeof e=="function"?e:null)}var nn=Object.assign,ix;function Vu(e){if(ix===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ix=t&&t[1]||""}return`
`+ix+e}var ax=!1;function sx(e,t){if(!e||ax)return"";ax=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=r.stack.split(`
`),o=a.length-1,l=s.length-1;1<=o&&0<=l&&a[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==s[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{ax=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Vu(e):""}function UL(e){switch(e.tag){case 5:return Vu(e.type);case 16:return Vu("Lazy");case 13:return Vu("Suspense");case 19:return Vu("SuspenseList");case 0:case 2:case 15:return e=sx(e.type,!1),e;case 11:return e=sx(e.type.render,!1),e;case 1:return e=sx(e.type,!0),e;default:return""}}function ky(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case dl:return"Fragment";case ul:return"Portal";case Cy:return"Profiler";case Uj:return"StrictMode";case Ey:return"Suspense";case Ay:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case L_:return(e.displayName||"Context")+".Consumer";case F_:return(e._context.displayName||"Context")+".Provider";case Vj:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hj:return t=e.displayName||null,t!==null?t:ky(e.type)||"Memo";case Qa:t=e._payload,e=e._init;try{return ky(e(t))}catch{}}return null}function VL(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ky(t);case 8:return t===Uj?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ks(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function z_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function HL(e){var t=z_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function mp(e){e._valueTracker||(e._valueTracker=HL(e))}function B_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=z_(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function jm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _y(e,t){var n=t.checked;return nn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function zN(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ks(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function U_(e,t){t=t.checked,t!=null&&Bj(e,"checked",t,!1)}function Oy(e,t){U_(e,t);var n=ks(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Py(e,t.type,n):t.hasOwnProperty("defaultValue")&&Py(e,t.type,ks(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function BN(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Py(e,t,n){(t!=="number"||jm(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Hu=Array.isArray;function kl(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ks(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Ty(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(pe(91));return nn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function UN(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(pe(92));if(Hu(n)){if(1<n.length)throw Error(pe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ks(n)}}function V_(e,t){var n=ks(t.value),r=ks(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function VN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function H_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Iy(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?H_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hp,W_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hp=hp||document.createElement("div"),hp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xd(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ju={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WL=["Webkit","ms","Moz","O"];Object.keys(Ju).forEach(function(e){WL.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ju[t]=Ju[e]})});function G_(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ju.hasOwnProperty(e)&&Ju[e]?(""+t).trim():t+"px"}function K_(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=G_(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var GL=nn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ry(e,t){if(t){if(GL[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(pe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(pe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(pe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(pe(62))}}function $y(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var My=null;function Wj(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Dy=null,_l=null,Ol=null;function HN(e){if(e=Vf(e)){if(typeof Dy!="function")throw Error(pe(280));var t=e.stateNode;t&&(t=jv(t),Dy(e.stateNode,e.type,t))}}function Y_(e){_l?Ol?Ol.push(e):Ol=[e]:_l=e}function Q_(){if(_l){var e=_l,t=Ol;if(Ol=_l=null,HN(e),t)for(e=0;e<t.length;e++)HN(t[e])}}function X_(e,t){return e(t)}function Z_(){}var ox=!1;function J_(e,t,n){if(ox)return e(t,n);ox=!0;try{return X_(e,t,n)}finally{ox=!1,(_l!==null||Ol!==null)&&(Z_(),Q_())}}function yd(e,t){var n=e.stateNode;if(n===null)return null;var r=jv(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(pe(231,t,typeof n));return n}var Fy=!1;if(Ea)try{var Nu={};Object.defineProperty(Nu,"passive",{get:function(){Fy=!0}}),window.addEventListener("test",Nu,Nu),window.removeEventListener("test",Nu,Nu)}catch{Fy=!1}function KL(e,t,n,r,a,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var ed=!1,wm=null,Nm=!1,Ly=null,YL={onError:function(e){ed=!0,wm=e}};function QL(e,t,n,r,a,s,o,l,c){ed=!1,wm=null,KL.apply(YL,arguments)}function XL(e,t,n,r,a,s,o,l,c){if(QL.apply(this,arguments),ed){if(ed){var u=wm;ed=!1,wm=null}else throw Error(pe(198));Nm||(Nm=!0,Ly=u)}}function Vo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function eO(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function WN(e){if(Vo(e)!==e)throw Error(pe(188))}function ZL(e){var t=e.alternate;if(!t){if(t=Vo(e),t===null)throw Error(pe(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return WN(a),e;if(s===r)return WN(a),t;s=s.sibling}throw Error(pe(188))}if(n.return!==r.return)n=a,r=s;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o)throw Error(pe(189))}}if(n.alternate!==r)throw Error(pe(190))}if(n.tag!==3)throw Error(pe(188));return n.stateNode.current===n?e:t}function tO(e){return e=ZL(e),e!==null?nO(e):null}function nO(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nO(e);if(t!==null)return t;e=e.sibling}return null}var rO=Tr.unstable_scheduleCallback,GN=Tr.unstable_cancelCallback,JL=Tr.unstable_shouldYield,e3=Tr.unstable_requestPaint,un=Tr.unstable_now,t3=Tr.unstable_getCurrentPriorityLevel,Gj=Tr.unstable_ImmediatePriority,iO=Tr.unstable_UserBlockingPriority,Sm=Tr.unstable_NormalPriority,n3=Tr.unstable_LowPriority,aO=Tr.unstable_IdlePriority,gv=null,Bi=null;function r3(e){if(Bi&&typeof Bi.onCommitFiberRoot=="function")try{Bi.onCommitFiberRoot(gv,e,void 0,(e.current.flags&128)===128)}catch{}}var hi=Math.clz32?Math.clz32:s3,i3=Math.log,a3=Math.LN2;function s3(e){return e>>>=0,e===0?32:31-(i3(e)/a3|0)|0}var vp=64,gp=4194304;function Wu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cm(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~a;l!==0?r=Wu(l):(s&=o,s!==0&&(r=Wu(s)))}else o=n&~a,o!==0?r=Wu(o):s!==0&&(r=Wu(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-hi(t),a=1<<n,r|=e[n],t&=~a;return r}function o3(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function l3(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-hi(s),l=1<<o,c=a[o];c===-1?(!(l&n)||l&r)&&(a[o]=o3(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function qy(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function sO(){var e=vp;return vp<<=1,!(vp&4194240)&&(vp=64),e}function lx(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bf(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-hi(t),e[t]=n}function c3(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-hi(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}function Kj(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-hi(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var Tt=0;function oO(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var lO,Yj,cO,uO,dO,zy=!1,xp=[],vs=null,gs=null,xs=null,bd=new Map,jd=new Map,es=[],u3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function KN(e,t){switch(e){case"focusin":case"focusout":vs=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":bd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jd.delete(t.pointerId)}}function Su(e,t,n,r,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},t!==null&&(t=Vf(t),t!==null&&Yj(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function d3(e,t,n,r,a){switch(t){case"focusin":return vs=Su(vs,e,t,n,r,a),!0;case"dragenter":return gs=Su(gs,e,t,n,r,a),!0;case"mouseover":return xs=Su(xs,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return bd.set(s,Su(bd.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,jd.set(s,Su(jd.get(s)||null,e,t,n,r,a)),!0}return!1}function fO(e){var t=no(e.target);if(t!==null){var n=Vo(t);if(n!==null){if(t=n.tag,t===13){if(t=eO(n),t!==null){e.blockedOn=t,dO(e.priority,function(){cO(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=By(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);My=r,n.target.dispatchEvent(r),My=null}else return t=Vf(n),t!==null&&Yj(t),e.blockedOn=n,!1;t.shift()}return!0}function YN(e,t,n){nm(e)&&n.delete(t)}function f3(){zy=!1,vs!==null&&nm(vs)&&(vs=null),gs!==null&&nm(gs)&&(gs=null),xs!==null&&nm(xs)&&(xs=null),bd.forEach(YN),jd.forEach(YN)}function Cu(e,t){e.blockedOn===t&&(e.blockedOn=null,zy||(zy=!0,Tr.unstable_scheduleCallback(Tr.unstable_NormalPriority,f3)))}function wd(e){function t(a){return Cu(a,e)}if(0<xp.length){Cu(xp[0],e);for(var n=1;n<xp.length;n++){var r=xp[n];r.blockedOn===e&&(r.blockedOn=null)}}for(vs!==null&&Cu(vs,e),gs!==null&&Cu(gs,e),xs!==null&&Cu(xs,e),bd.forEach(t),jd.forEach(t),n=0;n<es.length;n++)r=es[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<es.length&&(n=es[0],n.blockedOn===null);)fO(n),n.blockedOn===null&&es.shift()}var Pl=La.ReactCurrentBatchConfig,Em=!0;function p3(e,t,n,r){var a=Tt,s=Pl.transition;Pl.transition=null;try{Tt=1,Qj(e,t,n,r)}finally{Tt=a,Pl.transition=s}}function m3(e,t,n,r){var a=Tt,s=Pl.transition;Pl.transition=null;try{Tt=4,Qj(e,t,n,r)}finally{Tt=a,Pl.transition=s}}function Qj(e,t,n,r){if(Em){var a=By(e,t,n,r);if(a===null)xx(e,t,r,Am,n),KN(e,r);else if(d3(a,e,t,n,r))r.stopPropagation();else if(KN(e,r),t&4&&-1<u3.indexOf(e)){for(;a!==null;){var s=Vf(a);if(s!==null&&lO(s),s=By(e,t,n,r),s===null&&xx(e,t,r,Am,n),s===a)break;a=s}a!==null&&r.stopPropagation()}else xx(e,t,r,null,n)}}var Am=null;function By(e,t,n,r){if(Am=null,e=Wj(r),e=no(e),e!==null)if(t=Vo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=eO(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Am=e,null}function pO(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(t3()){case Gj:return 1;case iO:return 4;case Sm:case n3:return 16;case aO:return 536870912;default:return 16}default:return 16}}var ps=null,Xj=null,rm=null;function mO(){if(rm)return rm;var e,t=Xj,n=t.length,r,a="value"in ps?ps.value:ps.textContent,s=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[s-r];r++);return rm=a.slice(e,1<r?1-r:void 0)}function im(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yp(){return!0}function QN(){return!1}function Rr(e){function t(n,r,a,s,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?yp:QN,this.isPropagationStopped=QN,this}return nn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yp)},persist:function(){},isPersistent:yp}),t}var Jc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zj=Rr(Jc),Uf=nn({},Jc,{view:0,detail:0}),h3=Rr(Uf),cx,ux,Eu,xv=nn({},Uf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jj,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Eu&&(Eu&&e.type==="mousemove"?(cx=e.screenX-Eu.screenX,ux=e.screenY-Eu.screenY):ux=cx=0,Eu=e),cx)},movementY:function(e){return"movementY"in e?e.movementY:ux}}),XN=Rr(xv),v3=nn({},xv,{dataTransfer:0}),g3=Rr(v3),x3=nn({},Uf,{relatedTarget:0}),dx=Rr(x3),y3=nn({},Jc,{animationName:0,elapsedTime:0,pseudoElement:0}),b3=Rr(y3),j3=nn({},Jc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),w3=Rr(j3),N3=nn({},Jc,{data:0}),ZN=Rr(N3),S3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},C3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},E3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function A3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=E3[e])?!!t[e]:!1}function Jj(){return A3}var k3=nn({},Uf,{key:function(e){if(e.key){var t=S3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=im(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?C3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jj,charCode:function(e){return e.type==="keypress"?im(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?im(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_3=Rr(k3),O3=nn({},xv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),JN=Rr(O3),P3=nn({},Uf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jj}),T3=Rr(P3),I3=nn({},Jc,{propertyName:0,elapsedTime:0,pseudoElement:0}),R3=Rr(I3),$3=nn({},xv,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),M3=Rr($3),D3=[9,13,27,32],ew=Ea&&"CompositionEvent"in window,td=null;Ea&&"documentMode"in document&&(td=document.documentMode);var F3=Ea&&"TextEvent"in window&&!td,hO=Ea&&(!ew||td&&8<td&&11>=td),eS=" ",tS=!1;function vO(e,t){switch(e){case"keyup":return D3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fl=!1;function L3(e,t){switch(e){case"compositionend":return gO(t);case"keypress":return t.which!==32?null:(tS=!0,eS);case"textInput":return e=t.data,e===eS&&tS?null:e;default:return null}}function q3(e,t){if(fl)return e==="compositionend"||!ew&&vO(e,t)?(e=mO(),rm=Xj=ps=null,fl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hO&&t.locale!=="ko"?null:t.data;default:return null}}var z3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!z3[e.type]:t==="textarea"}function xO(e,t,n,r){Y_(r),t=km(t,"onChange"),0<t.length&&(n=new Zj("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var nd=null,Nd=null;function B3(e){_O(e,0)}function yv(e){var t=hl(e);if(B_(t))return e}function U3(e,t){if(e==="change")return t}var yO=!1;if(Ea){var fx;if(Ea){var px="oninput"in document;if(!px){var rS=document.createElement("div");rS.setAttribute("oninput","return;"),px=typeof rS.oninput=="function"}fx=px}else fx=!1;yO=fx&&(!document.documentMode||9<document.documentMode)}function iS(){nd&&(nd.detachEvent("onpropertychange",bO),Nd=nd=null)}function bO(e){if(e.propertyName==="value"&&yv(Nd)){var t=[];xO(t,Nd,e,Wj(e)),J_(B3,t)}}function V3(e,t,n){e==="focusin"?(iS(),nd=t,Nd=n,nd.attachEvent("onpropertychange",bO)):e==="focusout"&&iS()}function H3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yv(Nd)}function W3(e,t){if(e==="click")return yv(t)}function G3(e,t){if(e==="input"||e==="change")return yv(t)}function K3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yi=typeof Object.is=="function"?Object.is:K3;function Sd(e,t){if(yi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!Sy.call(t,a)||!yi(e[a],t[a]))return!1}return!0}function aS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sS(e,t){var n=aS(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=aS(n)}}function jO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wO(){for(var e=window,t=jm();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=jm(e.document)}return t}function tw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Y3(e){var t=wO(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&jO(n.ownerDocument.documentElement,n)){if(r!==null&&tw(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=r.end===void 0?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=sS(n,s);var o=sS(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Q3=Ea&&"documentMode"in document&&11>=document.documentMode,pl=null,Uy=null,rd=null,Vy=!1;function oS(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vy||pl==null||pl!==jm(r)||(r=pl,"selectionStart"in r&&tw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rd&&Sd(rd,r)||(rd=r,r=km(Uy,"onSelect"),0<r.length&&(t=new Zj("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pl)))}function bp(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ml={animationend:bp("Animation","AnimationEnd"),animationiteration:bp("Animation","AnimationIteration"),animationstart:bp("Animation","AnimationStart"),transitionend:bp("Transition","TransitionEnd")},mx={},NO={};Ea&&(NO=document.createElement("div").style,"AnimationEvent"in window||(delete ml.animationend.animation,delete ml.animationiteration.animation,delete ml.animationstart.animation),"TransitionEvent"in window||delete ml.transitionend.transition);function bv(e){if(mx[e])return mx[e];if(!ml[e])return e;var t=ml[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in NO)return mx[e]=t[n];return e}var SO=bv("animationend"),CO=bv("animationiteration"),EO=bv("animationstart"),AO=bv("transitionend"),kO=new Map,lS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ds(e,t){kO.set(e,t),Uo(t,[e])}for(var hx=0;hx<lS.length;hx++){var vx=lS[hx],X3=vx.toLowerCase(),Z3=vx[0].toUpperCase()+vx.slice(1);Ds(X3,"on"+Z3)}Ds(SO,"onAnimationEnd");Ds(CO,"onAnimationIteration");Ds(EO,"onAnimationStart");Ds("dblclick","onDoubleClick");Ds("focusin","onFocus");Ds("focusout","onBlur");Ds(AO,"onTransitionEnd");lc("onMouseEnter",["mouseout","mouseover"]);lc("onMouseLeave",["mouseout","mouseover"]);lc("onPointerEnter",["pointerout","pointerover"]);lc("onPointerLeave",["pointerout","pointerover"]);Uo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gu));function cS(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,XL(r,t,void 0,e),e.currentTarget=null}function _O(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;cS(a,l,u),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;cS(a,l,u),s=c}}}if(Nm)throw e=Ly,Nm=!1,Ly=null,e}function Ut(e,t){var n=t[Yy];n===void 0&&(n=t[Yy]=new Set);var r=e+"__bubble";n.has(r)||(OO(t,e,2,!1),n.add(r))}function gx(e,t,n){var r=0;t&&(r|=4),OO(n,e,r,t)}var jp="_reactListening"+Math.random().toString(36).slice(2);function Cd(e){if(!e[jp]){e[jp]=!0,D_.forEach(function(n){n!=="selectionchange"&&(J3.has(n)||gx(n,!1,e),gx(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[jp]||(t[jp]=!0,gx("selectionchange",!1,t))}}function OO(e,t,n,r){switch(pO(t)){case 1:var a=p3;break;case 4:a=m3;break;default:a=Qj}n=a.bind(null,t,n,e),a=void 0,!Fy||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function xx(e,t,n,r,a){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=no(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}J_(function(){var u=s,d=Wj(n),f=[];e:{var p=kO.get(e);if(p!==void 0){var h=Zj,x=e;switch(e){case"keypress":if(im(n)===0)break e;case"keydown":case"keyup":h=_3;break;case"focusin":x="focus",h=dx;break;case"focusout":x="blur",h=dx;break;case"beforeblur":case"afterblur":h=dx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=XN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=g3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=T3;break;case SO:case CO:case EO:h=b3;break;case AO:h=R3;break;case"scroll":h=h3;break;case"wheel":h=M3;break;case"copy":case"cut":case"paste":h=w3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=JN}var m=(t&4)!==0,g=!m&&e==="scroll",b=m?p!==null?p+"Capture":null:p;m=[];for(var v=u,y;v!==null;){y=v;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,b!==null&&(w=yd(v,b),w!=null&&m.push(Ed(v,w,y)))),g)break;v=v.return}0<m.length&&(p=new h(p,x,null,n,d),f.push({event:p,listeners:m}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&n!==My&&(x=n.relatedTarget||n.fromElement)&&(no(x)||x[Aa]))break e;if((h||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,h?(x=n.relatedTarget||n.toElement,h=u,x=x?no(x):null,x!==null&&(g=Vo(x),x!==g||x.tag!==5&&x.tag!==6)&&(x=null)):(h=null,x=u),h!==x)){if(m=XN,w="onMouseLeave",b="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(m=JN,w="onPointerLeave",b="onPointerEnter",v="pointer"),g=h==null?p:hl(h),y=x==null?p:hl(x),p=new m(w,v+"leave",h,n,d),p.target=g,p.relatedTarget=y,w=null,no(d)===u&&(m=new m(b,v+"enter",x,n,d),m.target=y,m.relatedTarget=g,w=m),g=w,h&&x)t:{for(m=h,b=x,v=0,y=m;y;y=tl(y))v++;for(y=0,w=b;w;w=tl(w))y++;for(;0<v-y;)m=tl(m),v--;for(;0<y-v;)b=tl(b),y--;for(;v--;){if(m===b||b!==null&&m===b.alternate)break t;m=tl(m),b=tl(b)}m=null}else m=null;h!==null&&uS(f,p,h,m,!1),x!==null&&g!==null&&uS(f,g,x,m,!0)}}e:{if(p=u?hl(u):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var j=U3;else if(nS(p))if(yO)j=G3;else{j=H3;var S=V3}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(j=W3);if(j&&(j=j(e,u))){xO(f,j,n,d);break e}S&&S(e,p,u),e==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&Py(p,"number",p.value)}switch(S=u?hl(u):window,e){case"focusin":(nS(S)||S.contentEditable==="true")&&(pl=S,Uy=u,rd=null);break;case"focusout":rd=Uy=pl=null;break;case"mousedown":Vy=!0;break;case"contextmenu":case"mouseup":case"dragend":Vy=!1,oS(f,n,d);break;case"selectionchange":if(Q3)break;case"keydown":case"keyup":oS(f,n,d)}var C;if(ew)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else fl?vO(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(hO&&n.locale!=="ko"&&(fl||E!=="onCompositionStart"?E==="onCompositionEnd"&&fl&&(C=mO()):(ps=d,Xj="value"in ps?ps.value:ps.textContent,fl=!0)),S=km(u,E),0<S.length&&(E=new ZN(E,e,null,n,d),f.push({event:E,listeners:S}),C?E.data=C:(C=gO(n),C!==null&&(E.data=C)))),(C=F3?L3(e,n):q3(e,n))&&(u=km(u,"onBeforeInput"),0<u.length&&(d=new ZN("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=C))}_O(f,t)})}function Ed(e,t,n){return{instance:e,listener:t,currentTarget:n}}function km(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=yd(e,n),s!=null&&r.unshift(Ed(e,s,a)),s=yd(e,t),s!=null&&r.push(Ed(e,s,a))),e=e.return}return r}function tl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function uS(e,t,n,r,a){for(var s=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,a?(c=yd(n,s),c!=null&&o.unshift(Ed(n,c,l))):a||(c=yd(n,s),c!=null&&o.push(Ed(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var e5=/\r\n?/g,t5=/\u0000|\uFFFD/g;function dS(e){return(typeof e=="string"?e:""+e).replace(e5,`
`).replace(t5,"")}function wp(e,t,n){if(t=dS(t),dS(e)!==t&&n)throw Error(pe(425))}function _m(){}var Hy=null,Wy=null;function Gy(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ky=typeof setTimeout=="function"?setTimeout:void 0,n5=typeof clearTimeout=="function"?clearTimeout:void 0,fS=typeof Promise=="function"?Promise:void 0,r5=typeof queueMicrotask=="function"?queueMicrotask:typeof fS<"u"?function(e){return fS.resolve(null).then(e).catch(i5)}:Ky;function i5(e){setTimeout(function(){throw e})}function yx(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),wd(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);wd(t)}function ys(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function pS(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var eu=Math.random().toString(36).slice(2),$i="__reactFiber$"+eu,Ad="__reactProps$"+eu,Aa="__reactContainer$"+eu,Yy="__reactEvents$"+eu,a5="__reactListeners$"+eu,s5="__reactHandles$"+eu;function no(e){var t=e[$i];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Aa]||n[$i]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=pS(e);e!==null;){if(n=e[$i])return n;e=pS(e)}return t}e=n,n=e.parentNode}return null}function Vf(e){return e=e[$i]||e[Aa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(pe(33))}function jv(e){return e[Ad]||null}var Qy=[],vl=-1;function Fs(e){return{current:e}}function Wt(e){0>vl||(e.current=Qy[vl],Qy[vl]=null,vl--)}function qt(e,t){vl++,Qy[vl]=e.current,e.current=t}var _s={},Wn=Fs(_s),pr=Fs(!1),No=_s;function cc(e,t){var n=e.type.contextTypes;if(!n)return _s;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in n)a[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mr(e){return e=e.childContextTypes,e!=null}function Om(){Wt(pr),Wt(Wn)}function mS(e,t,n){if(Wn.current!==_s)throw Error(pe(168));qt(Wn,t),qt(pr,n)}function PO(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(pe(108,VL(e)||"Unknown",a));return nn({},n,r)}function Pm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_s,No=Wn.current,qt(Wn,e),qt(pr,pr.current),!0}function hS(e,t,n){var r=e.stateNode;if(!r)throw Error(pe(169));n?(e=PO(e,t,No),r.__reactInternalMemoizedMergedChildContext=e,Wt(pr),Wt(Wn),qt(Wn,e)):Wt(pr),qt(pr,n)}var da=null,wv=!1,bx=!1;function TO(e){da===null?da=[e]:da.push(e)}function o5(e){wv=!0,TO(e)}function Ls(){if(!bx&&da!==null){bx=!0;var e=0,t=Tt;try{var n=da;for(Tt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}da=null,wv=!1}catch(a){throw da!==null&&(da=da.slice(e+1)),rO(Gj,Ls),a}finally{Tt=t,bx=!1}}return null}var gl=[],xl=0,Tm=null,Im=0,qr=[],zr=0,So=null,ma=1,ha="";function Ys(e,t){gl[xl++]=Im,gl[xl++]=Tm,Tm=e,Im=t}function IO(e,t,n){qr[zr++]=ma,qr[zr++]=ha,qr[zr++]=So,So=e;var r=ma;e=ha;var a=32-hi(r)-1;r&=~(1<<a),n+=1;var s=32-hi(t)+a;if(30<s){var o=a-a%5;s=(r&(1<<o)-1).toString(32),r>>=o,a-=o,ma=1<<32-hi(t)+a|n<<a|r,ha=s+e}else ma=1<<s|n<<a|r,ha=e}function nw(e){e.return!==null&&(Ys(e,1),IO(e,1,0))}function rw(e){for(;e===Tm;)Tm=gl[--xl],gl[xl]=null,Im=gl[--xl],gl[xl]=null;for(;e===So;)So=qr[--zr],qr[zr]=null,ha=qr[--zr],qr[zr]=null,ma=qr[--zr],qr[zr]=null}var Ar=null,Cr=null,Gt=!1,ci=null;function RO(e,t){var n=Ur(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function vS(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ar=e,Cr=ys(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ar=e,Cr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=So!==null?{id:ma,overflow:ha}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ur(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ar=e,Cr=null,!0):!1;default:return!1}}function Xy(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Zy(e){if(Gt){var t=Cr;if(t){var n=t;if(!vS(e,t)){if(Xy(e))throw Error(pe(418));t=ys(n.nextSibling);var r=Ar;t&&vS(e,t)?RO(r,n):(e.flags=e.flags&-4097|2,Gt=!1,Ar=e)}}else{if(Xy(e))throw Error(pe(418));e.flags=e.flags&-4097|2,Gt=!1,Ar=e}}}function gS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ar=e}function Np(e){if(e!==Ar)return!1;if(!Gt)return gS(e),Gt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gy(e.type,e.memoizedProps)),t&&(t=Cr)){if(Xy(e))throw $O(),Error(pe(418));for(;t;)RO(e,t),t=ys(t.nextSibling)}if(gS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(pe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Cr=ys(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Cr=null}}else Cr=Ar?ys(e.stateNode.nextSibling):null;return!0}function $O(){for(var e=Cr;e;)e=ys(e.nextSibling)}function uc(){Cr=Ar=null,Gt=!1}function iw(e){ci===null?ci=[e]:ci.push(e)}var l5=La.ReactCurrentBatchConfig;function Au(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(pe(309));var r=n.stateNode}if(!r)throw Error(pe(147,e));var a=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=a.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(pe(284));if(!n._owner)throw Error(pe(290,e))}return e}function Sp(e,t){throw e=Object.prototype.toString.call(t),Error(pe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xS(e){var t=e._init;return t(e._payload)}function MO(e){function t(b,v){if(e){var y=b.deletions;y===null?(b.deletions=[v],b.flags|=16):y.push(v)}}function n(b,v){if(!e)return null;for(;v!==null;)t(b,v),v=v.sibling;return null}function r(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function a(b,v){return b=Ns(b,v),b.index=0,b.sibling=null,b}function s(b,v,y){return b.index=y,e?(y=b.alternate,y!==null?(y=y.index,y<v?(b.flags|=2,v):y):(b.flags|=2,v)):(b.flags|=1048576,v)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,v,y,w){return v===null||v.tag!==6?(v=Ax(y,b.mode,w),v.return=b,v):(v=a(v,y),v.return=b,v)}function c(b,v,y,w){var j=y.type;return j===dl?d(b,v,y.props.children,w,y.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Qa&&xS(j)===v.type)?(w=a(v,y.props),w.ref=Au(b,v,y),w.return=b,w):(w=dm(y.type,y.key,y.props,null,b.mode,w),w.ref=Au(b,v,y),w.return=b,w)}function u(b,v,y,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=kx(y,b.mode,w),v.return=b,v):(v=a(v,y.children||[]),v.return=b,v)}function d(b,v,y,w,j){return v===null||v.tag!==7?(v=yo(y,b.mode,w,j),v.return=b,v):(v=a(v,y),v.return=b,v)}function f(b,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Ax(""+v,b.mode,y),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case pp:return y=dm(v.type,v.key,v.props,null,b.mode,y),y.ref=Au(b,null,v),y.return=b,y;case ul:return v=kx(v,b.mode,y),v.return=b,v;case Qa:var w=v._init;return f(b,w(v._payload),y)}if(Hu(v)||wu(v))return v=yo(v,b.mode,y,null),v.return=b,v;Sp(b,v)}return null}function p(b,v,y,w){var j=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return j!==null?null:l(b,v,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case pp:return y.key===j?c(b,v,y,w):null;case ul:return y.key===j?u(b,v,y,w):null;case Qa:return j=y._init,p(b,v,j(y._payload),w)}if(Hu(y)||wu(y))return j!==null?null:d(b,v,y,w,null);Sp(b,y)}return null}function h(b,v,y,w,j){if(typeof w=="string"&&w!==""||typeof w=="number")return b=b.get(y)||null,l(v,b,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case pp:return b=b.get(w.key===null?y:w.key)||null,c(v,b,w,j);case ul:return b=b.get(w.key===null?y:w.key)||null,u(v,b,w,j);case Qa:var S=w._init;return h(b,v,y,S(w._payload),j)}if(Hu(w)||wu(w))return b=b.get(y)||null,d(v,b,w,j,null);Sp(v,w)}return null}function x(b,v,y,w){for(var j=null,S=null,C=v,E=v=0,k=null;C!==null&&E<y.length;E++){C.index>E?(k=C,C=null):k=C.sibling;var $=p(b,C,y[E],w);if($===null){C===null&&(C=k);break}e&&C&&$.alternate===null&&t(b,C),v=s($,v,E),S===null?j=$:S.sibling=$,S=$,C=k}if(E===y.length)return n(b,C),Gt&&Ys(b,E),j;if(C===null){for(;E<y.length;E++)C=f(b,y[E],w),C!==null&&(v=s(C,v,E),S===null?j=C:S.sibling=C,S=C);return Gt&&Ys(b,E),j}for(C=r(b,C);E<y.length;E++)k=h(C,b,E,y[E],w),k!==null&&(e&&k.alternate!==null&&C.delete(k.key===null?E:k.key),v=s(k,v,E),S===null?j=k:S.sibling=k,S=k);return e&&C.forEach(function(O){return t(b,O)}),Gt&&Ys(b,E),j}function m(b,v,y,w){var j=wu(y);if(typeof j!="function")throw Error(pe(150));if(y=j.call(y),y==null)throw Error(pe(151));for(var S=j=null,C=v,E=v=0,k=null,$=y.next();C!==null&&!$.done;E++,$=y.next()){C.index>E?(k=C,C=null):k=C.sibling;var O=p(b,C,$.value,w);if(O===null){C===null&&(C=k);break}e&&C&&O.alternate===null&&t(b,C),v=s(O,v,E),S===null?j=O:S.sibling=O,S=O,C=k}if($.done)return n(b,C),Gt&&Ys(b,E),j;if(C===null){for(;!$.done;E++,$=y.next())$=f(b,$.value,w),$!==null&&(v=s($,v,E),S===null?j=$:S.sibling=$,S=$);return Gt&&Ys(b,E),j}for(C=r(b,C);!$.done;E++,$=y.next())$=h(C,b,E,$.value,w),$!==null&&(e&&$.alternate!==null&&C.delete($.key===null?E:$.key),v=s($,v,E),S===null?j=$:S.sibling=$,S=$);return e&&C.forEach(function(T){return t(b,T)}),Gt&&Ys(b,E),j}function g(b,v,y,w){if(typeof y=="object"&&y!==null&&y.type===dl&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case pp:e:{for(var j=y.key,S=v;S!==null;){if(S.key===j){if(j=y.type,j===dl){if(S.tag===7){n(b,S.sibling),v=a(S,y.props.children),v.return=b,b=v;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Qa&&xS(j)===S.type){n(b,S.sibling),v=a(S,y.props),v.ref=Au(b,S,y),v.return=b,b=v;break e}n(b,S);break}else t(b,S);S=S.sibling}y.type===dl?(v=yo(y.props.children,b.mode,w,y.key),v.return=b,b=v):(w=dm(y.type,y.key,y.props,null,b.mode,w),w.ref=Au(b,v,y),w.return=b,b=w)}return o(b);case ul:e:{for(S=y.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){n(b,v.sibling),v=a(v,y.children||[]),v.return=b,b=v;break e}else{n(b,v);break}else t(b,v);v=v.sibling}v=kx(y,b.mode,w),v.return=b,b=v}return o(b);case Qa:return S=y._init,g(b,v,S(y._payload),w)}if(Hu(y))return x(b,v,y,w);if(wu(y))return m(b,v,y,w);Sp(b,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(n(b,v.sibling),v=a(v,y),v.return=b,b=v):(n(b,v),v=Ax(y,b.mode,w),v.return=b,b=v),o(b)):n(b,v)}return g}var dc=MO(!0),DO=MO(!1),Rm=Fs(null),$m=null,yl=null,aw=null;function sw(){aw=yl=$m=null}function ow(e){var t=Rm.current;Wt(Rm),e._currentValue=t}function Jy(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Tl(e,t){$m=e,aw=yl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(dr=!0),e.firstContext=null)}function Kr(e){var t=e._currentValue;if(aw!==e)if(e={context:e,memoizedValue:t,next:null},yl===null){if($m===null)throw Error(pe(308));yl=e,$m.dependencies={lanes:0,firstContext:e}}else yl=yl.next=e;return t}var ro=null;function lw(e){ro===null?ro=[e]:ro.push(e)}function FO(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,lw(t)):(n.next=a.next,a.next=n),t.interleaved=n,ka(e,r)}function ka(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Xa=!1;function cw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function LO(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ba(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Et&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,ka(e,n)}return a=r.interleaved,a===null?(t.next=t,lw(r)):(t.next=a.next,a.next=t),r.interleaved=t,ka(e,n)}function am(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Kj(e,n)}}function yS(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?a=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?a=s=t:s=s.next=t}else a=s=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Mm(e,t,n,r){var a=e.updateQueue;Xa=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;o=0,d=u=c=null,l=s;do{var p=l.lane,h=l.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,m=l;switch(p=t,h=n,m.tag){case 1:if(x=m.payload,typeof x=="function"){f=x.call(h,f,p);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=m.payload,p=typeof x=="function"?x.call(h,f,p):x,p==null)break e;f=nn({},f,p);break e;case 2:Xa=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[l]:p.push(l))}else h={eventTime:h,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,c=f):d=d.next=h,o|=p;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;p=l,l=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Eo|=o,e.lanes=o,e.memoizedState=f}}function bS(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(pe(191,a));a.call(r)}}}var Hf={},Ui=Fs(Hf),kd=Fs(Hf),_d=Fs(Hf);function io(e){if(e===Hf)throw Error(pe(174));return e}function uw(e,t){switch(qt(_d,t),qt(kd,e),qt(Ui,Hf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Iy(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Iy(t,e)}Wt(Ui),qt(Ui,t)}function fc(){Wt(Ui),Wt(kd),Wt(_d)}function qO(e){io(_d.current);var t=io(Ui.current),n=Iy(t,e.type);t!==n&&(qt(kd,e),qt(Ui,n))}function dw(e){kd.current===e&&(Wt(Ui),Wt(kd))}var en=Fs(0);function Dm(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jx=[];function fw(){for(var e=0;e<jx.length;e++)jx[e]._workInProgressVersionPrimary=null;jx.length=0}var sm=La.ReactCurrentDispatcher,wx=La.ReactCurrentBatchConfig,Co=0,tn=null,jn=null,kn=null,Fm=!1,id=!1,Od=0,c5=0;function Fn(){throw Error(pe(321))}function pw(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yi(e[n],t[n]))return!1;return!0}function mw(e,t,n,r,a,s){if(Co=s,tn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sm.current=e===null||e.memoizedState===null?p5:m5,e=n(r,a),id){s=0;do{if(id=!1,Od=0,25<=s)throw Error(pe(301));s+=1,kn=jn=null,t.updateQueue=null,sm.current=h5,e=n(r,a)}while(id)}if(sm.current=Lm,t=jn!==null&&jn.next!==null,Co=0,kn=jn=tn=null,Fm=!1,t)throw Error(pe(300));return e}function hw(){var e=Od!==0;return Od=0,e}function Oi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?tn.memoizedState=kn=e:kn=kn.next=e,kn}function Yr(){if(jn===null){var e=tn.alternate;e=e!==null?e.memoizedState:null}else e=jn.next;var t=kn===null?tn.memoizedState:kn.next;if(t!==null)kn=t,jn=e;else{if(e===null)throw Error(pe(310));jn=e,e={memoizedState:jn.memoizedState,baseState:jn.baseState,baseQueue:jn.baseQueue,queue:jn.queue,next:null},kn===null?tn.memoizedState=kn=e:kn=kn.next=e}return kn}function Pd(e,t){return typeof t=="function"?t(e):t}function Nx(e){var t=Yr(),n=t.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=e;var r=jn,a=r.baseQueue,s=n.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}r.baseQueue=a=s,n.pending=null}if(a!==null){s=a.next,r=r.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((Co&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,tn.lanes|=d,Eo|=d}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=l,yi(r,t.memoizedState)||(dr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do s=a.lane,tn.lanes|=s,Eo|=s,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sx(e){var t=Yr(),n=t.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do s=e(s,o.action),o=o.next;while(o!==a);yi(s,t.memoizedState)||(dr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function zO(){}function BO(e,t){var n=tn,r=Yr(),a=t(),s=!yi(r.memoizedState,a);if(s&&(r.memoizedState=a,dr=!0),r=r.queue,vw(HO.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||kn!==null&&kn.memoizedState.tag&1){if(n.flags|=2048,Td(9,VO.bind(null,n,r,a,t),void 0,null),On===null)throw Error(pe(349));Co&30||UO(n,t,a)}return a}function UO(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=tn.updateQueue,t===null?(t={lastEffect:null,stores:null},tn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function VO(e,t,n,r){t.value=n,t.getSnapshot=r,WO(t)&&GO(e)}function HO(e,t,n){return n(function(){WO(t)&&GO(e)})}function WO(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yi(e,n)}catch{return!0}}function GO(e){var t=ka(e,1);t!==null&&vi(t,e,1,-1)}function jS(e){var t=Oi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pd,lastRenderedState:e},t.queue=e,e=e.dispatch=f5.bind(null,tn,e),[t.memoizedState,e]}function Td(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=tn.updateQueue,t===null?(t={lastEffect:null,stores:null},tn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function KO(){return Yr().memoizedState}function om(e,t,n,r){var a=Oi();tn.flags|=e,a.memoizedState=Td(1|t,n,void 0,r===void 0?null:r)}function Nv(e,t,n,r){var a=Yr();r=r===void 0?null:r;var s=void 0;if(jn!==null){var o=jn.memoizedState;if(s=o.destroy,r!==null&&pw(r,o.deps)){a.memoizedState=Td(t,n,s,r);return}}tn.flags|=e,a.memoizedState=Td(1|t,n,s,r)}function wS(e,t){return om(8390656,8,e,t)}function vw(e,t){return Nv(2048,8,e,t)}function YO(e,t){return Nv(4,2,e,t)}function QO(e,t){return Nv(4,4,e,t)}function XO(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ZO(e,t,n){return n=n!=null?n.concat([e]):null,Nv(4,4,XO.bind(null,t,e),n)}function gw(){}function JO(e,t){var n=Yr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&pw(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function eP(e,t){var n=Yr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&pw(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function tP(e,t,n){return Co&21?(yi(n,t)||(n=sO(),tn.lanes|=n,Eo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,dr=!0),e.memoizedState=n)}function u5(e,t){var n=Tt;Tt=n!==0&&4>n?n:4,e(!0);var r=wx.transition;wx.transition={};try{e(!1),t()}finally{Tt=n,wx.transition=r}}function nP(){return Yr().memoizedState}function d5(e,t,n){var r=ws(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rP(e))iP(t,n);else if(n=FO(e,t,n,r),n!==null){var a=ir();vi(n,e,r,a),aP(n,t,r)}}function f5(e,t,n){var r=ws(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rP(e))iP(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,n);if(a.hasEagerState=!0,a.eagerState=l,yi(l,o)){var c=t.interleaved;c===null?(a.next=a,lw(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=FO(e,t,a,r),n!==null&&(a=ir(),vi(n,e,r,a),aP(n,t,r))}}function rP(e){var t=e.alternate;return e===tn||t!==null&&t===tn}function iP(e,t){id=Fm=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function aP(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Kj(e,n)}}var Lm={readContext:Kr,useCallback:Fn,useContext:Fn,useEffect:Fn,useImperativeHandle:Fn,useInsertionEffect:Fn,useLayoutEffect:Fn,useMemo:Fn,useReducer:Fn,useRef:Fn,useState:Fn,useDebugValue:Fn,useDeferredValue:Fn,useTransition:Fn,useMutableSource:Fn,useSyncExternalStore:Fn,useId:Fn,unstable_isNewReconciler:!1},p5={readContext:Kr,useCallback:function(e,t){return Oi().memoizedState=[e,t===void 0?null:t],e},useContext:Kr,useEffect:wS,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,om(4194308,4,XO.bind(null,t,e),n)},useLayoutEffect:function(e,t){return om(4194308,4,e,t)},useInsertionEffect:function(e,t){return om(4,2,e,t)},useMemo:function(e,t){var n=Oi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Oi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=d5.bind(null,tn,e),[r.memoizedState,e]},useRef:function(e){var t=Oi();return e={current:e},t.memoizedState=e},useState:jS,useDebugValue:gw,useDeferredValue:function(e){return Oi().memoizedState=e},useTransition:function(){var e=jS(!1),t=e[0];return e=u5.bind(null,e[1]),Oi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=tn,a=Oi();if(Gt){if(n===void 0)throw Error(pe(407));n=n()}else{if(n=t(),On===null)throw Error(pe(349));Co&30||UO(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,wS(HO.bind(null,r,s,e),[e]),r.flags|=2048,Td(9,VO.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Oi(),t=On.identifierPrefix;if(Gt){var n=ha,r=ma;n=(r&~(1<<32-hi(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Od++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=c5++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},m5={readContext:Kr,useCallback:JO,useContext:Kr,useEffect:vw,useImperativeHandle:ZO,useInsertionEffect:YO,useLayoutEffect:QO,useMemo:eP,useReducer:Nx,useRef:KO,useState:function(){return Nx(Pd)},useDebugValue:gw,useDeferredValue:function(e){var t=Yr();return tP(t,jn.memoizedState,e)},useTransition:function(){var e=Nx(Pd)[0],t=Yr().memoizedState;return[e,t]},useMutableSource:zO,useSyncExternalStore:BO,useId:nP,unstable_isNewReconciler:!1},h5={readContext:Kr,useCallback:JO,useContext:Kr,useEffect:vw,useImperativeHandle:ZO,useInsertionEffect:YO,useLayoutEffect:QO,useMemo:eP,useReducer:Sx,useRef:KO,useState:function(){return Sx(Pd)},useDebugValue:gw,useDeferredValue:function(e){var t=Yr();return jn===null?t.memoizedState=e:tP(t,jn.memoizedState,e)},useTransition:function(){var e=Sx(Pd)[0],t=Yr().memoizedState;return[e,t]},useMutableSource:zO,useSyncExternalStore:BO,useId:nP,unstable_isNewReconciler:!1};function ii(e,t){if(e&&e.defaultProps){t=nn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function e0(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:nn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Sv={isMounted:function(e){return(e=e._reactInternals)?Vo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ir(),a=ws(e),s=ba(r,a);s.payload=t,n!=null&&(s.callback=n),t=bs(e,s,a),t!==null&&(vi(t,e,a,r),am(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ir(),a=ws(e),s=ba(r,a);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=bs(e,s,a),t!==null&&(vi(t,e,a,r),am(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ir(),r=ws(e),a=ba(n,r);a.tag=2,t!=null&&(a.callback=t),t=bs(e,a,r),t!==null&&(vi(t,e,r,n),am(t,e,r))}};function NS(e,t,n,r,a,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Sd(n,r)||!Sd(a,s):!0}function sP(e,t,n){var r=!1,a=_s,s=t.contextType;return typeof s=="object"&&s!==null?s=Kr(s):(a=mr(t)?No:Wn.current,r=t.contextTypes,s=(r=r!=null)?cc(e,a):_s),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Sv,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function SS(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Sv.enqueueReplaceState(t,t.state,null)}function t0(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},cw(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=Kr(s):(s=mr(t)?No:Wn.current,a.context=cc(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(e0(e,t,s,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Sv.enqueueReplaceState(a,a.state,null),Mm(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function pc(e,t){try{var n="",r=t;do n+=UL(r),r=r.return;while(r);var a=n}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function Cx(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function n0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var v5=typeof WeakMap=="function"?WeakMap:Map;function oP(e,t,n){n=ba(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zm||(zm=!0,f0=r),n0(e,t)},n}function lP(e,t,n){n=ba(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){n0(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){n0(e,t),typeof r!="function"&&(js===null?js=new Set([this]):js.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function CS(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new v5;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=O5.bind(null,e,t,n),t.then(e,e))}function ES(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function AS(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ba(-1,1),t.tag=2,bs(n,t,1))),n.lanes|=1),e)}var g5=La.ReactCurrentOwner,dr=!1;function Zn(e,t,n,r){t.child=e===null?DO(t,null,n,r):dc(t,e.child,n,r)}function kS(e,t,n,r,a){n=n.render;var s=t.ref;return Tl(t,a),r=mw(e,t,n,r,s,a),n=hw(),e!==null&&!dr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,_a(e,t,a)):(Gt&&n&&nw(t),t.flags|=1,Zn(e,t,r,a),t.child)}function _S(e,t,n,r,a){if(e===null){var s=n.type;return typeof s=="function"&&!Cw(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,cP(e,t,s,r,a)):(e=dm(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Sd,n(o,r)&&e.ref===t.ref)return _a(e,t,a)}return t.flags|=1,e=Ns(s,r),e.ref=t.ref,e.return=t,t.child=e}function cP(e,t,n,r,a){if(e!==null){var s=e.memoizedProps;if(Sd(s,r)&&e.ref===t.ref)if(dr=!1,t.pendingProps=r=s,(e.lanes&a)!==0)e.flags&131072&&(dr=!0);else return t.lanes=e.lanes,_a(e,t,a)}return r0(e,t,n,r,a)}function uP(e,t,n){var r=t.pendingProps,a=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qt(jl,br),br|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qt(jl,br),br|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,qt(jl,br),br|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,qt(jl,br),br|=r;return Zn(e,t,a,n),t.child}function dP(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function r0(e,t,n,r,a){var s=mr(n)?No:Wn.current;return s=cc(t,s),Tl(t,a),n=mw(e,t,n,r,s,a),r=hw(),e!==null&&!dr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,_a(e,t,a)):(Gt&&r&&nw(t),t.flags|=1,Zn(e,t,n,a),t.child)}function OS(e,t,n,r,a){if(mr(n)){var s=!0;Pm(t)}else s=!1;if(Tl(t,a),t.stateNode===null)lm(e,t),sP(t,n,r),t0(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Kr(u):(u=mr(n)?No:Wn.current,u=cc(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&SS(t,o,r,u),Xa=!1;var p=t.memoizedState;o.state=p,Mm(t,r,o,a),c=t.memoizedState,l!==r||p!==c||pr.current||Xa?(typeof d=="function"&&(e0(t,n,d,r),c=t.memoizedState),(l=Xa||NS(t,n,l,r,p,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,LO(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ii(t.type,l),o.props=u,f=t.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Kr(c):(c=mr(n)?No:Wn.current,c=cc(t,c));var h=n.getDerivedStateFromProps;(d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||p!==c)&&SS(t,o,r,c),Xa=!1,p=t.memoizedState,o.state=p,Mm(t,r,o,a);var x=t.memoizedState;l!==f||p!==x||pr.current||Xa?(typeof h=="function"&&(e0(t,n,h,r),x=t.memoizedState),(u=Xa||NS(t,n,u,r,p,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return i0(e,t,n,r,s,a)}function i0(e,t,n,r,a,s){dP(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&hS(t,n,!1),_a(e,t,s);r=t.stateNode,g5.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=dc(t,e.child,null,s),t.child=dc(t,null,l,s)):Zn(e,t,l,s),t.memoizedState=r.state,a&&hS(t,n,!0),t.child}function fP(e){var t=e.stateNode;t.pendingContext?mS(e,t.pendingContext,t.pendingContext!==t.context):t.context&&mS(e,t.context,!1),uw(e,t.containerInfo)}function PS(e,t,n,r,a){return uc(),iw(a),t.flags|=256,Zn(e,t,n,r),t.child}var a0={dehydrated:null,treeContext:null,retryLane:0};function s0(e){return{baseLanes:e,cachePool:null,transitions:null}}function pP(e,t,n){var r=t.pendingProps,a=en.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),qt(en,a&1),e===null)return Zy(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Av(o,r,0,null),e=yo(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=s0(n),t.memoizedState=a0,e):xw(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return x5(e,t,o,r,l,a,n);if(s){s=r.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ns(a,c),r.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=Ns(l,s):(s=yo(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?s0(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=a0,r}return s=e.child,e=s.sibling,r=Ns(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function xw(e,t){return t=Av({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Cp(e,t,n,r){return r!==null&&iw(r),dc(t,e.child,null,n),e=xw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function x5(e,t,n,r,a,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Cx(Error(pe(422))),Cp(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,a=t.mode,r=Av({mode:"visible",children:r.children},a,0,null),s=yo(s,a,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&dc(t,e.child,null,o),t.child.memoizedState=s0(o),t.memoizedState=a0,s);if(!(t.mode&1))return Cp(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(pe(419)),r=Cx(s,r,void 0),Cp(e,t,o,r)}if(l=(o&e.childLanes)!==0,dr||l){if(r=On,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,ka(e,a),vi(r,e,a,-1))}return Sw(),r=Cx(Error(pe(421))),Cp(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=P5.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,Cr=ys(a.nextSibling),Ar=t,Gt=!0,ci=null,e!==null&&(qr[zr++]=ma,qr[zr++]=ha,qr[zr++]=So,ma=e.id,ha=e.overflow,So=t),t=xw(t,r.children),t.flags|=4096,t)}function TS(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Jy(e.return,t,n)}function Ex(e,t,n,r,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function mP(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(Zn(e,t,r.children,n),r=en.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&TS(e,n,t);else if(e.tag===19)TS(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(qt(en,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Dm(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ex(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Dm(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ex(t,!0,n,null,s);break;case"together":Ex(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function lm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _a(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Eo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(pe(153));if(t.child!==null){for(e=t.child,n=Ns(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ns(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function y5(e,t,n){switch(t.tag){case 3:fP(t),uc();break;case 5:qO(t);break;case 1:mr(t.type)&&Pm(t);break;case 4:uw(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;qt(Rm,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(qt(en,en.current&1),t.flags|=128,null):n&t.child.childLanes?pP(e,t,n):(qt(en,en.current&1),e=_a(e,t,n),e!==null?e.sibling:null);qt(en,en.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return mP(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),qt(en,en.current),r)break;return null;case 22:case 23:return t.lanes=0,uP(e,t,n)}return _a(e,t,n)}var hP,o0,vP,gP;hP=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};o0=function(){};vP=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,io(Ui.current);var s=null;switch(n){case"input":a=_y(e,a),r=_y(e,r),s=[];break;case"select":a=nn({},a,{value:void 0}),r=nn({},r,{value:void 0}),s=[];break;case"textarea":a=Ty(e,a),r=Ty(e,r),s=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=_m)}Ry(n,r);var o;n=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(gd.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=a!=null?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(gd.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ut("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};gP=function(e,t,n,r){n!==r&&(t.flags|=4)};function ku(e,t){if(!Gt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ln(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function b5(e,t,n){var r=t.pendingProps;switch(rw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ln(t),null;case 1:return mr(t.type)&&Om(),Ln(t),null;case 3:return r=t.stateNode,fc(),Wt(pr),Wt(Wn),fw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Np(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ci!==null&&(h0(ci),ci=null))),o0(e,t),Ln(t),null;case 5:dw(t);var a=io(_d.current);if(n=t.type,e!==null&&t.stateNode!=null)vP(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(pe(166));return Ln(t),null}if(e=io(Ui.current),Np(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[$i]=t,r[Ad]=s,e=(t.mode&1)!==0,n){case"dialog":Ut("cancel",r),Ut("close",r);break;case"iframe":case"object":case"embed":Ut("load",r);break;case"video":case"audio":for(a=0;a<Gu.length;a++)Ut(Gu[a],r);break;case"source":Ut("error",r);break;case"img":case"image":case"link":Ut("error",r),Ut("load",r);break;case"details":Ut("toggle",r);break;case"input":zN(r,s),Ut("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ut("invalid",r);break;case"textarea":UN(r,s),Ut("invalid",r)}Ry(n,s),a=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&wp(r.textContent,l,e),a=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&wp(r.textContent,l,e),a=["children",""+l]):gd.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ut("scroll",r)}switch(n){case"input":mp(r),BN(r,s,!0);break;case"textarea":mp(r),VN(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=_m)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=H_(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[$i]=t,e[Ad]=r,hP(e,t,!1,!1),t.stateNode=e;e:{switch(o=$y(n,r),n){case"dialog":Ut("cancel",e),Ut("close",e),a=r;break;case"iframe":case"object":case"embed":Ut("load",e),a=r;break;case"video":case"audio":for(a=0;a<Gu.length;a++)Ut(Gu[a],e);a=r;break;case"source":Ut("error",e),a=r;break;case"img":case"image":case"link":Ut("error",e),Ut("load",e),a=r;break;case"details":Ut("toggle",e),a=r;break;case"input":zN(e,r),a=_y(e,r),Ut("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=nn({},r,{value:void 0}),Ut("invalid",e);break;case"textarea":UN(e,r),a=Ty(e,r),Ut("invalid",e);break;default:a=r}Ry(n,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?K_(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&W_(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&xd(e,c):typeof c=="number"&&xd(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(gd.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ut("scroll",e):c!=null&&Bj(e,s,c,o))}switch(n){case"input":mp(e),BN(e,r,!1);break;case"textarea":mp(e),VN(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ks(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?kl(e,!!r.multiple,s,!1):r.defaultValue!=null&&kl(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=_m)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ln(t),null;case 6:if(e&&t.stateNode!=null)gP(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(pe(166));if(n=io(_d.current),io(Ui.current),Np(t)){if(r=t.stateNode,n=t.memoizedProps,r[$i]=t,(s=r.nodeValue!==n)&&(e=Ar,e!==null))switch(e.tag){case 3:wp(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wp(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$i]=t,t.stateNode=r}return Ln(t),null;case 13:if(Wt(en),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Gt&&Cr!==null&&t.mode&1&&!(t.flags&128))$O(),uc(),t.flags|=98560,s=!1;else if(s=Np(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(pe(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(pe(317));s[$i]=t}else uc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ln(t),s=!1}else ci!==null&&(h0(ci),ci=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||en.current&1?Nn===0&&(Nn=3):Sw())),t.updateQueue!==null&&(t.flags|=4),Ln(t),null);case 4:return fc(),o0(e,t),e===null&&Cd(t.stateNode.containerInfo),Ln(t),null;case 10:return ow(t.type._context),Ln(t),null;case 17:return mr(t.type)&&Om(),Ln(t),null;case 19:if(Wt(en),s=t.memoizedState,s===null)return Ln(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)ku(s,!1);else{if(Nn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Dm(e),o!==null){for(t.flags|=128,ku(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return qt(en,en.current&1|2),t.child}e=e.sibling}s.tail!==null&&un()>mc&&(t.flags|=128,r=!0,ku(s,!1),t.lanes=4194304)}else{if(!r)if(e=Dm(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ku(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Gt)return Ln(t),null}else 2*un()-s.renderingStartTime>mc&&n!==1073741824&&(t.flags|=128,r=!0,ku(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=un(),t.sibling=null,n=en.current,qt(en,r?n&1|2:n&1),t):(Ln(t),null);case 22:case 23:return Nw(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?br&1073741824&&(Ln(t),t.subtreeFlags&6&&(t.flags|=8192)):Ln(t),null;case 24:return null;case 25:return null}throw Error(pe(156,t.tag))}function j5(e,t){switch(rw(t),t.tag){case 1:return mr(t.type)&&Om(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fc(),Wt(pr),Wt(Wn),fw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dw(t),null;case 13:if(Wt(en),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(pe(340));uc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Wt(en),null;case 4:return fc(),null;case 10:return ow(t.type._context),null;case 22:case 23:return Nw(),null;case 24:return null;default:return null}}var Ep=!1,Bn=!1,w5=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function bl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){an(e,t,r)}else n.current=null}function l0(e,t,n){try{n()}catch(r){an(e,t,r)}}var IS=!1;function N5(e,t){if(Hy=Em,e=wO(),tw(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||a!==0&&f.nodeType!==3||(l=o+a),f!==s||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++u===a&&(l=o),p===s&&++d===r&&(c=o),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wy={focusedElem:e,selectionRange:n},Em=!1,Oe=t;Oe!==null;)if(t=Oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Oe=e;else for(;Oe!==null;){t=Oe;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var m=x.memoizedProps,g=x.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:ii(t.type,m),g);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(w){an(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,Oe=e;break}Oe=t.return}return x=IS,IS=!1,x}function ad(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&l0(t,n,s)}a=a.next}while(a!==r)}}function Cv(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function c0(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function xP(e){var t=e.alternate;t!==null&&(e.alternate=null,xP(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$i],delete t[Ad],delete t[Yy],delete t[a5],delete t[s5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yP(e){return e.tag===5||e.tag===3||e.tag===4}function RS(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yP(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function u0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=_m));else if(r!==4&&(e=e.child,e!==null))for(u0(e,t,n),e=e.sibling;e!==null;)u0(e,t,n),e=e.sibling}function d0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(d0(e,t,n),e=e.sibling;e!==null;)d0(e,t,n),e=e.sibling}var $n=null,si=!1;function Ha(e,t,n){for(n=n.child;n!==null;)bP(e,t,n),n=n.sibling}function bP(e,t,n){if(Bi&&typeof Bi.onCommitFiberUnmount=="function")try{Bi.onCommitFiberUnmount(gv,n)}catch{}switch(n.tag){case 5:Bn||bl(n,t);case 6:var r=$n,a=si;$n=null,Ha(e,t,n),$n=r,si=a,$n!==null&&(si?(e=$n,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$n.removeChild(n.stateNode));break;case 18:$n!==null&&(si?(e=$n,n=n.stateNode,e.nodeType===8?yx(e.parentNode,n):e.nodeType===1&&yx(e,n),wd(e)):yx($n,n.stateNode));break;case 4:r=$n,a=si,$n=n.stateNode.containerInfo,si=!0,Ha(e,t,n),$n=r,si=a;break;case 0:case 11:case 14:case 15:if(!Bn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var s=a,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&l0(n,t,o),a=a.next}while(a!==r)}Ha(e,t,n);break;case 1:if(!Bn&&(bl(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){an(n,t,l)}Ha(e,t,n);break;case 21:Ha(e,t,n);break;case 22:n.mode&1?(Bn=(r=Bn)||n.memoizedState!==null,Ha(e,t,n),Bn=r):Ha(e,t,n);break;default:Ha(e,t,n)}}function $S(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new w5),t.forEach(function(r){var a=T5.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function ti(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:$n=l.stateNode,si=!1;break e;case 3:$n=l.stateNode.containerInfo,si=!0;break e;case 4:$n=l.stateNode.containerInfo,si=!0;break e}l=l.return}if($n===null)throw Error(pe(160));bP(s,o,a),$n=null,si=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){an(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)jP(t,e),t=t.sibling}function jP(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ti(t,e),ki(e),r&4){try{ad(3,e,e.return),Cv(3,e)}catch(m){an(e,e.return,m)}try{ad(5,e,e.return)}catch(m){an(e,e.return,m)}}break;case 1:ti(t,e),ki(e),r&512&&n!==null&&bl(n,n.return);break;case 5:if(ti(t,e),ki(e),r&512&&n!==null&&bl(n,n.return),e.flags&32){var a=e.stateNode;try{xd(a,"")}catch(m){an(e,e.return,m)}}if(r&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&U_(a,s),$y(l,o);var u=$y(l,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?K_(a,f):d==="dangerouslySetInnerHTML"?W_(a,f):d==="children"?xd(a,f):Bj(a,d,f,u)}switch(l){case"input":Oy(a,s);break;case"textarea":V_(a,s);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?kl(a,!!s.multiple,h,!1):p!==!!s.multiple&&(s.defaultValue!=null?kl(a,!!s.multiple,s.defaultValue,!0):kl(a,!!s.multiple,s.multiple?[]:"",!1))}a[Ad]=s}catch(m){an(e,e.return,m)}}break;case 6:if(ti(t,e),ki(e),r&4){if(e.stateNode===null)throw Error(pe(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(m){an(e,e.return,m)}}break;case 3:if(ti(t,e),ki(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wd(t.containerInfo)}catch(m){an(e,e.return,m)}break;case 4:ti(t,e),ki(e);break;case 13:ti(t,e),ki(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(jw=un())),r&4&&$S(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Bn=(u=Bn)||d,ti(t,e),Bn=u):ti(t,e),ki(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Oe=e,d=e.child;d!==null;){for(f=Oe=d;Oe!==null;){switch(p=Oe,h=p.child,p.tag){case 0:case 11:case 14:case 15:ad(4,p,p.return);break;case 1:bl(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(m){an(r,n,m)}}break;case 5:bl(p,p.return);break;case 22:if(p.memoizedState!==null){DS(f);continue}}h!==null?(h.return=p,Oe=h):DS(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=G_("display",o))}catch(m){an(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){an(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ti(t,e),ki(e),r&4&&$S(e);break;case 21:break;default:ti(t,e),ki(e)}}function ki(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(yP(n)){var r=n;break e}n=n.return}throw Error(pe(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(xd(a,""),r.flags&=-33);var s=RS(e);d0(e,s,a);break;case 3:case 4:var o=r.stateNode.containerInfo,l=RS(e);u0(e,l,o);break;default:throw Error(pe(161))}}catch(c){an(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function S5(e,t,n){Oe=e,wP(e)}function wP(e,t,n){for(var r=(e.mode&1)!==0;Oe!==null;){var a=Oe,s=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||Ep;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Bn;l=Ep;var u=Bn;if(Ep=o,(Bn=c)&&!u)for(Oe=a;Oe!==null;)o=Oe,c=o.child,o.tag===22&&o.memoizedState!==null?FS(a):c!==null?(c.return=o,Oe=c):FS(a);for(;s!==null;)Oe=s,wP(s),s=s.sibling;Oe=a,Ep=l,Bn=u}MS(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,Oe=s):MS(e)}}function MS(e){for(;Oe!==null;){var t=Oe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Bn||Cv(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Bn)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ii(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&bS(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}bS(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&wd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}Bn||t.flags&512&&c0(t)}catch(p){an(t,t.return,p)}}if(t===e){Oe=null;break}if(n=t.sibling,n!==null){n.return=t.return,Oe=n;break}Oe=t.return}}function DS(e){for(;Oe!==null;){var t=Oe;if(t===e){Oe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Oe=n;break}Oe=t.return}}function FS(e){for(;Oe!==null;){var t=Oe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Cv(4,t)}catch(c){an(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){an(t,a,c)}}var s=t.return;try{c0(t)}catch(c){an(t,s,c)}break;case 5:var o=t.return;try{c0(t)}catch(c){an(t,o,c)}}}catch(c){an(t,t.return,c)}if(t===e){Oe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Oe=l;break}Oe=t.return}}var C5=Math.ceil,qm=La.ReactCurrentDispatcher,yw=La.ReactCurrentOwner,Wr=La.ReactCurrentBatchConfig,Et=0,On=null,hn=null,Mn=0,br=0,jl=Fs(0),Nn=0,Id=null,Eo=0,Ev=0,bw=0,sd=null,ur=null,jw=0,mc=1/0,ca=null,zm=!1,f0=null,js=null,Ap=!1,ms=null,Bm=0,od=0,p0=null,cm=-1,um=0;function ir(){return Et&6?un():cm!==-1?cm:cm=un()}function ws(e){return e.mode&1?Et&2&&Mn!==0?Mn&-Mn:l5.transition!==null?(um===0&&(um=sO()),um):(e=Tt,e!==0||(e=window.event,e=e===void 0?16:pO(e.type)),e):1}function vi(e,t,n,r){if(50<od)throw od=0,p0=null,Error(pe(185));Bf(e,n,r),(!(Et&2)||e!==On)&&(e===On&&(!(Et&2)&&(Ev|=n),Nn===4&&ts(e,Mn)),hr(e,r),n===1&&Et===0&&!(t.mode&1)&&(mc=un()+500,wv&&Ls()))}function hr(e,t){var n=e.callbackNode;l3(e,t);var r=Cm(e,e===On?Mn:0);if(r===0)n!==null&&GN(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&GN(n),t===1)e.tag===0?o5(LS.bind(null,e)):TO(LS.bind(null,e)),r5(function(){!(Et&6)&&Ls()}),n=null;else{switch(oO(r)){case 1:n=Gj;break;case 4:n=iO;break;case 16:n=Sm;break;case 536870912:n=aO;break;default:n=Sm}n=OP(n,NP.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function NP(e,t){if(cm=-1,um=0,Et&6)throw Error(pe(327));var n=e.callbackNode;if(Il()&&e.callbackNode!==n)return null;var r=Cm(e,e===On?Mn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Um(e,r);else{t=r;var a=Et;Et|=2;var s=CP();(On!==e||Mn!==t)&&(ca=null,mc=un()+500,xo(e,t));do try{k5();break}catch(l){SP(e,l)}while(!0);sw(),qm.current=s,Et=a,hn!==null?t=0:(On=null,Mn=0,t=Nn)}if(t!==0){if(t===2&&(a=qy(e),a!==0&&(r=a,t=m0(e,a))),t===1)throw n=Id,xo(e,0),ts(e,r),hr(e,un()),n;if(t===6)ts(e,r);else{if(a=e.current.alternate,!(r&30)&&!E5(a)&&(t=Um(e,r),t===2&&(s=qy(e),s!==0&&(r=s,t=m0(e,s))),t===1))throw n=Id,xo(e,0),ts(e,r),hr(e,un()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(pe(345));case 2:Qs(e,ur,ca);break;case 3:if(ts(e,r),(r&130023424)===r&&(t=jw+500-un(),10<t)){if(Cm(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){ir(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Ky(Qs.bind(null,e,ur,ca),t);break}Qs(e,ur,ca);break;case 4:if(ts(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-hi(r);s=1<<o,o=t[o],o>a&&(a=o),r&=~s}if(r=a,r=un()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*C5(r/1960))-r,10<r){e.timeoutHandle=Ky(Qs.bind(null,e,ur,ca),r);break}Qs(e,ur,ca);break;case 5:Qs(e,ur,ca);break;default:throw Error(pe(329))}}}return hr(e,un()),e.callbackNode===n?NP.bind(null,e):null}function m0(e,t){var n=sd;return e.current.memoizedState.isDehydrated&&(xo(e,t).flags|=256),e=Um(e,t),e!==2&&(t=ur,ur=n,t!==null&&h0(t)),e}function h0(e){ur===null?ur=e:ur.push.apply(ur,e)}function E5(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!yi(s(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ts(e,t){for(t&=~bw,t&=~Ev,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-hi(t),r=1<<n;e[n]=-1,t&=~r}}function LS(e){if(Et&6)throw Error(pe(327));Il();var t=Cm(e,0);if(!(t&1))return hr(e,un()),null;var n=Um(e,t);if(e.tag!==0&&n===2){var r=qy(e);r!==0&&(t=r,n=m0(e,r))}if(n===1)throw n=Id,xo(e,0),ts(e,t),hr(e,un()),n;if(n===6)throw Error(pe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qs(e,ur,ca),hr(e,un()),null}function ww(e,t){var n=Et;Et|=1;try{return e(t)}finally{Et=n,Et===0&&(mc=un()+500,wv&&Ls())}}function Ao(e){ms!==null&&ms.tag===0&&!(Et&6)&&Il();var t=Et;Et|=1;var n=Wr.transition,r=Tt;try{if(Wr.transition=null,Tt=1,e)return e()}finally{Tt=r,Wr.transition=n,Et=t,!(Et&6)&&Ls()}}function Nw(){br=jl.current,Wt(jl)}function xo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,n5(n)),hn!==null)for(n=hn.return;n!==null;){var r=n;switch(rw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Om();break;case 3:fc(),Wt(pr),Wt(Wn),fw();break;case 5:dw(r);break;case 4:fc();break;case 13:Wt(en);break;case 19:Wt(en);break;case 10:ow(r.type._context);break;case 22:case 23:Nw()}n=n.return}if(On=e,hn=e=Ns(e.current,null),Mn=br=t,Nn=0,Id=null,bw=Ev=Eo=0,ur=sd=null,ro!==null){for(t=0;t<ro.length;t++)if(n=ro[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=a,r.next=o}n.pending=r}ro=null}return e}function SP(e,t){do{var n=hn;try{if(sw(),sm.current=Lm,Fm){for(var r=tn.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Fm=!1}if(Co=0,kn=jn=tn=null,id=!1,Od=0,yw.current=null,n===null||n.return===null){Nn=1,Id=t,hn=null;break}e:{var s=e,o=n.return,l=n,c=t;if(t=Mn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=ES(o);if(h!==null){h.flags&=-257,AS(h,o,l,s,t),h.mode&1&&CS(s,u,t),t=h,c=u;var x=t.updateQueue;if(x===null){var m=new Set;m.add(c),t.updateQueue=m}else x.add(c);break e}else{if(!(t&1)){CS(s,u,t),Sw();break e}c=Error(pe(426))}}else if(Gt&&l.mode&1){var g=ES(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),AS(g,o,l,s,t),iw(pc(c,l));break e}}s=c=pc(c,l),Nn!==4&&(Nn=2),sd===null?sd=[s]:sd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var b=oP(s,c,t);yS(s,b);break e;case 1:l=c;var v=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(js===null||!js.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=lP(s,l,t);yS(s,w);break e}}s=s.return}while(s!==null)}AP(n)}catch(j){t=j,hn===n&&n!==null&&(hn=n=n.return);continue}break}while(!0)}function CP(){var e=qm.current;return qm.current=Lm,e===null?Lm:e}function Sw(){(Nn===0||Nn===3||Nn===2)&&(Nn=4),On===null||!(Eo&268435455)&&!(Ev&268435455)||ts(On,Mn)}function Um(e,t){var n=Et;Et|=2;var r=CP();(On!==e||Mn!==t)&&(ca=null,xo(e,t));do try{A5();break}catch(a){SP(e,a)}while(!0);if(sw(),Et=n,qm.current=r,hn!==null)throw Error(pe(261));return On=null,Mn=0,Nn}function A5(){for(;hn!==null;)EP(hn)}function k5(){for(;hn!==null&&!JL();)EP(hn)}function EP(e){var t=_P(e.alternate,e,br);e.memoizedProps=e.pendingProps,t===null?AP(e):hn=t,yw.current=null}function AP(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=j5(n,t),n!==null){n.flags&=32767,hn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Nn=6,hn=null;return}}else if(n=b5(n,t,br),n!==null){hn=n;return}if(t=t.sibling,t!==null){hn=t;return}hn=t=e}while(t!==null);Nn===0&&(Nn=5)}function Qs(e,t,n){var r=Tt,a=Wr.transition;try{Wr.transition=null,Tt=1,_5(e,t,n,r)}finally{Wr.transition=a,Tt=r}return null}function _5(e,t,n,r){do Il();while(ms!==null);if(Et&6)throw Error(pe(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(pe(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(c3(e,s),e===On&&(hn=On=null,Mn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ap||(Ap=!0,OP(Sm,function(){return Il(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Wr.transition,Wr.transition=null;var o=Tt;Tt=1;var l=Et;Et|=4,yw.current=null,N5(e,n),jP(n,e),Y3(Wy),Em=!!Hy,Wy=Hy=null,e.current=n,S5(n),e3(),Et=l,Tt=o,Wr.transition=s}else e.current=n;if(Ap&&(Ap=!1,ms=e,Bm=a),s=e.pendingLanes,s===0&&(js=null),r3(n.stateNode),hr(e,un()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(zm)throw zm=!1,e=f0,f0=null,e;return Bm&1&&e.tag!==0&&Il(),s=e.pendingLanes,s&1?e===p0?od++:(od=0,p0=e):od=0,Ls(),null}function Il(){if(ms!==null){var e=oO(Bm),t=Wr.transition,n=Tt;try{if(Wr.transition=null,Tt=16>e?16:e,ms===null)var r=!1;else{if(e=ms,ms=null,Bm=0,Et&6)throw Error(pe(331));var a=Et;for(Et|=4,Oe=e.current;Oe!==null;){var s=Oe,o=s.child;if(Oe.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Oe=u;Oe!==null;){var d=Oe;switch(d.tag){case 0:case 11:case 15:ad(8,d,s)}var f=d.child;if(f!==null)f.return=d,Oe=f;else for(;Oe!==null;){d=Oe;var p=d.sibling,h=d.return;if(xP(d),d===u){Oe=null;break}if(p!==null){p.return=h,Oe=p;break}Oe=h}}}var x=s.alternate;if(x!==null){var m=x.child;if(m!==null){x.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}Oe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Oe=o;else e:for(;Oe!==null;){if(s=Oe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ad(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,Oe=b;break e}Oe=s.return}}var v=e.current;for(Oe=v;Oe!==null;){o=Oe;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,Oe=y;else e:for(o=v;Oe!==null;){if(l=Oe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Cv(9,l)}}catch(j){an(l,l.return,j)}if(l===o){Oe=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,Oe=w;break e}Oe=l.return}}if(Et=a,Ls(),Bi&&typeof Bi.onPostCommitFiberRoot=="function")try{Bi.onPostCommitFiberRoot(gv,e)}catch{}r=!0}return r}finally{Tt=n,Wr.transition=t}}return!1}function qS(e,t,n){t=pc(n,t),t=oP(e,t,1),e=bs(e,t,1),t=ir(),e!==null&&(Bf(e,1,t),hr(e,t))}function an(e,t,n){if(e.tag===3)qS(e,e,n);else for(;t!==null;){if(t.tag===3){qS(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(js===null||!js.has(r))){e=pc(n,e),e=lP(t,e,1),t=bs(t,e,1),e=ir(),t!==null&&(Bf(t,1,e),hr(t,e));break}}t=t.return}}function O5(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ir(),e.pingedLanes|=e.suspendedLanes&n,On===e&&(Mn&n)===n&&(Nn===4||Nn===3&&(Mn&130023424)===Mn&&500>un()-jw?xo(e,0):bw|=n),hr(e,t)}function kP(e,t){t===0&&(e.mode&1?(t=gp,gp<<=1,!(gp&130023424)&&(gp=4194304)):t=1);var n=ir();e=ka(e,t),e!==null&&(Bf(e,t,n),hr(e,n))}function P5(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),kP(e,n)}function T5(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(pe(314))}r!==null&&r.delete(t),kP(e,n)}var _P;_P=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||pr.current)dr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return dr=!1,y5(e,t,n);dr=!!(e.flags&131072)}else dr=!1,Gt&&t.flags&1048576&&IO(t,Im,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;lm(e,t),e=t.pendingProps;var a=cc(t,Wn.current);Tl(t,n),a=mw(null,t,r,e,a,n);var s=hw();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mr(r)?(s=!0,Pm(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,cw(t),a.updater=Sv,t.stateNode=a,a._reactInternals=t,t0(t,r,e,n),t=i0(null,t,r,!0,s,n)):(t.tag=0,Gt&&s&&nw(t),Zn(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(lm(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=R5(r),e=ii(r,e),a){case 0:t=r0(null,t,r,e,n);break e;case 1:t=OS(null,t,r,e,n);break e;case 11:t=kS(null,t,r,e,n);break e;case 14:t=_S(null,t,r,ii(r.type,e),n);break e}throw Error(pe(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ii(r,a),r0(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ii(r,a),OS(e,t,r,a,n);case 3:e:{if(fP(t),e===null)throw Error(pe(387));r=t.pendingProps,s=t.memoizedState,a=s.element,LO(e,t),Mm(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=pc(Error(pe(423)),t),t=PS(e,t,r,n,a);break e}else if(r!==a){a=pc(Error(pe(424)),t),t=PS(e,t,r,n,a);break e}else for(Cr=ys(t.stateNode.containerInfo.firstChild),Ar=t,Gt=!0,ci=null,n=DO(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(uc(),r===a){t=_a(e,t,n);break e}Zn(e,t,r,n)}t=t.child}return t;case 5:return qO(t),e===null&&Zy(t),r=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,o=a.children,Gy(r,a)?o=null:s!==null&&Gy(r,s)&&(t.flags|=32),dP(e,t),Zn(e,t,o,n),t.child;case 6:return e===null&&Zy(t),null;case 13:return pP(e,t,n);case 4:return uw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=dc(t,null,r,n):Zn(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ii(r,a),kS(e,t,r,a,n);case 7:return Zn(e,t,t.pendingProps,n),t.child;case 8:return Zn(e,t,t.pendingProps.children,n),t.child;case 12:return Zn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,qt(Rm,r._currentValue),r._currentValue=o,s!==null)if(yi(s.value,o)){if(s.children===a.children&&!pr.current){t=_a(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=ba(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Jy(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(pe(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Jy(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Zn(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Tl(t,n),a=Kr(a),r=r(a),t.flags|=1,Zn(e,t,r,n),t.child;case 14:return r=t.type,a=ii(r,t.pendingProps),a=ii(r.type,a),_S(e,t,r,a,n);case 15:return cP(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ii(r,a),lm(e,t),t.tag=1,mr(r)?(e=!0,Pm(t)):e=!1,Tl(t,n),sP(t,r,a),t0(t,r,a,n),i0(null,t,r,!0,e,n);case 19:return mP(e,t,n);case 22:return uP(e,t,n)}throw Error(pe(156,t.tag))};function OP(e,t){return rO(e,t)}function I5(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(e,t,n,r){return new I5(e,t,n,r)}function Cw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function R5(e){if(typeof e=="function")return Cw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Vj)return 11;if(e===Hj)return 14}return 2}function Ns(e,t){var n=e.alternate;return n===null?(n=Ur(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function dm(e,t,n,r,a,s){var o=2;if(r=e,typeof e=="function")Cw(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case dl:return yo(n.children,a,s,t);case Uj:o=8,a|=8;break;case Cy:return e=Ur(12,n,t,a|2),e.elementType=Cy,e.lanes=s,e;case Ey:return e=Ur(13,n,t,a),e.elementType=Ey,e.lanes=s,e;case Ay:return e=Ur(19,n,t,a),e.elementType=Ay,e.lanes=s,e;case q_:return Av(n,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F_:o=10;break e;case L_:o=9;break e;case Vj:o=11;break e;case Hj:o=14;break e;case Qa:o=16,r=null;break e}throw Error(pe(130,e==null?e:typeof e,""))}return t=Ur(o,n,t,a),t.elementType=e,t.type=r,t.lanes=s,t}function yo(e,t,n,r){return e=Ur(7,e,r,t),e.lanes=n,e}function Av(e,t,n,r){return e=Ur(22,e,r,t),e.elementType=q_,e.lanes=n,e.stateNode={isHidden:!1},e}function Ax(e,t,n){return e=Ur(6,e,null,t),e.lanes=n,e}function kx(e,t,n){return t=Ur(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $5(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lx(0),this.expirationTimes=lx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lx(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Ew(e,t,n,r,a,s,o,l,c){return e=new $5(e,t,n,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ur(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cw(s),e}function M5(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ul,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function PP(e){if(!e)return _s;e=e._reactInternals;e:{if(Vo(e)!==e||e.tag!==1)throw Error(pe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(pe(171))}if(e.tag===1){var n=e.type;if(mr(n))return PO(e,n,t)}return t}function TP(e,t,n,r,a,s,o,l,c){return e=Ew(n,r,!0,e,a,s,o,l,c),e.context=PP(null),n=e.current,r=ir(),a=ws(n),s=ba(r,a),s.callback=t??null,bs(n,s,a),e.current.lanes=a,Bf(e,a,r),hr(e,r),e}function kv(e,t,n,r){var a=t.current,s=ir(),o=ws(a);return n=PP(n),t.context===null?t.context=n:t.pendingContext=n,t=ba(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=bs(a,t,o),e!==null&&(vi(e,a,o,s),am(e,a,o)),o}function Vm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zS(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Aw(e,t){zS(e,t),(e=e.alternate)&&zS(e,t)}function D5(){return null}var IP=typeof reportError=="function"?reportError:function(e){console.error(e)};function kw(e){this._internalRoot=e}_v.prototype.render=kw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(pe(409));kv(e,t,null,null)};_v.prototype.unmount=kw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ao(function(){kv(null,e,null,null)}),t[Aa]=null}};function _v(e){this._internalRoot=e}_v.prototype.unstable_scheduleHydration=function(e){if(e){var t=uO();e={blockedOn:null,target:e,priority:t};for(var n=0;n<es.length&&t!==0&&t<es[n].priority;n++);es.splice(n,0,e),n===0&&fO(e)}};function _w(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ov(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function BS(){}function F5(e,t,n,r,a){if(a){if(typeof r=="function"){var s=r;r=function(){var u=Vm(o);s.call(u)}}var o=TP(t,r,e,0,null,!1,!1,"",BS);return e._reactRootContainer=o,e[Aa]=o.current,Cd(e.nodeType===8?e.parentNode:e),Ao(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var l=r;r=function(){var u=Vm(c);l.call(u)}}var c=Ew(e,0,!1,null,null,!1,!1,"",BS);return e._reactRootContainer=c,e[Aa]=c.current,Cd(e.nodeType===8?e.parentNode:e),Ao(function(){kv(t,c,n,r)}),c}function Pv(e,t,n,r,a){var s=n._reactRootContainer;if(s){var o=s;if(typeof a=="function"){var l=a;a=function(){var c=Vm(o);l.call(c)}}kv(t,o,e,a)}else o=F5(n,t,e,a,r);return Vm(o)}lO=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Wu(t.pendingLanes);n!==0&&(Kj(t,n|1),hr(t,un()),!(Et&6)&&(mc=un()+500,Ls()))}break;case 13:Ao(function(){var r=ka(e,1);if(r!==null){var a=ir();vi(r,e,1,a)}}),Aw(e,1)}};Yj=function(e){if(e.tag===13){var t=ka(e,134217728);if(t!==null){var n=ir();vi(t,e,134217728,n)}Aw(e,134217728)}};cO=function(e){if(e.tag===13){var t=ws(e),n=ka(e,t);if(n!==null){var r=ir();vi(n,e,t,r)}Aw(e,t)}};uO=function(){return Tt};dO=function(e,t){var n=Tt;try{return Tt=e,t()}finally{Tt=n}};Dy=function(e,t,n){switch(t){case"input":if(Oy(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=jv(r);if(!a)throw Error(pe(90));B_(r),Oy(r,a)}}}break;case"textarea":V_(e,n);break;case"select":t=n.value,t!=null&&kl(e,!!n.multiple,t,!1)}};X_=ww;Z_=Ao;var L5={usingClientEntryPoint:!1,Events:[Vf,hl,jv,Y_,Q_,ww]},_u={findFiberByHostInstance:no,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},q5={bundleType:_u.bundleType,version:_u.version,rendererPackageName:_u.rendererPackageName,rendererConfig:_u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:La.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=tO(e),e===null?null:e.stateNode},findFiberByHostInstance:_u.findFiberByHostInstance||D5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kp.isDisabled&&kp.supportsFiber)try{gv=kp.inject(q5),Bi=kp}catch{}}Ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L5;Ir.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_w(t))throw Error(pe(200));return M5(e,t,null,n)};Ir.createRoot=function(e,t){if(!_w(e))throw Error(pe(299));var n=!1,r="",a=IP;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Ew(e,1,!1,null,null,n,!1,r,a),e[Aa]=t.current,Cd(e.nodeType===8?e.parentNode:e),new kw(t)};Ir.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(pe(188)):(e=Object.keys(e).join(","),Error(pe(268,e)));return e=tO(t),e=e===null?null:e.stateNode,e};Ir.flushSync=function(e){return Ao(e)};Ir.hydrate=function(e,t,n){if(!Ov(t))throw Error(pe(200));return Pv(null,e,t,!0,n)};Ir.hydrateRoot=function(e,t,n){if(!_w(e))throw Error(pe(405));var r=n!=null&&n.hydratedSources||null,a=!1,s="",o=IP;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=TP(t,null,e,1,n??null,a,!1,s,o),e[Aa]=t.current,Cd(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new _v(t)};Ir.render=function(e,t,n){if(!Ov(t))throw Error(pe(200));return Pv(null,e,t,!1,n)};Ir.unmountComponentAtNode=function(e){if(!Ov(e))throw Error(pe(40));return e._reactRootContainer?(Ao(function(){Pv(null,null,e,!1,function(){e._reactRootContainer=null,e[Aa]=null})}),!0):!1};Ir.unstable_batchedUpdates=ww;Ir.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ov(n))throw Error(pe(200));if(e==null||e._reactInternals===void 0)throw Error(pe(38));return Pv(e,t,n,!1,r)};Ir.version="18.3.1-next-f1338f8080-20240426";function RP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RP)}catch(e){console.error(e)}}RP(),R_.exports=Ir;var Ho=R_.exports;const z5=Ot(Ho);var $P,US=Ho;$P=US.createRoot,US.hydrateRoot;function B5(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,a,s,o=[],l="",c=e.split("/");for(c[0]||c.shift();a=c.shift();)n=a[0],n==="*"?(o.push(n),l+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=a.indexOf("?",1),s=a.indexOf(".",1),o.push(a.substring(1,~r?r:~s?s:a.length)),l+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(l+=(~r?"?":"")+"\\"+a.substring(s))):l+="/"+a;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var MP={exports:{}},DP={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hc=N;function U5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var V5=typeof Object.is=="function"?Object.is:U5,H5=hc.useState,W5=hc.useEffect,G5=hc.useLayoutEffect,K5=hc.useDebugValue;function Y5(e,t){var n=t(),r=H5({inst:{value:n,getSnapshot:t}}),a=r[0].inst,s=r[1];return G5(function(){a.value=n,a.getSnapshot=t,_x(a)&&s({inst:a})},[e,n,t]),W5(function(){return _x(a)&&s({inst:a}),e(function(){_x(a)&&s({inst:a})})},[e]),K5(n),n}function _x(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!V5(e,n)}catch{return!0}}function Q5(e,t){return t()}var X5=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Q5:Y5;DP.useSyncExternalStore=hc.useSyncExternalStore!==void 0?hc.useSyncExternalStore:X5;MP.exports=DP;var Z5=MP.exports;const J5=Lj.useInsertionEffect,eq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tq=eq?N.useLayoutEffect:N.useEffect,nq=J5||tq,FP=e=>{const t=N.useRef([e,(...n)=>t[0](...n)]).current;return nq(()=>{t[0]=e}),t[1]},rq="popstate",Ow="pushState",Pw="replaceState",iq="hashchange",VS=[rq,Ow,Pw,iq],aq=e=>{for(const t of VS)addEventListener(t,e);return()=>{for(const t of VS)removeEventListener(t,e)}},LP=(e,t)=>Z5.useSyncExternalStore(aq,e,t),sq=()=>location.search,oq=({ssrSearch:e=""}={})=>LP(sq,()=>e),HS=()=>location.pathname,lq=({ssrPath:e}={})=>LP(HS,e?()=>e:HS),cq=(e,{replace:t=!1,state:n=null}={})=>history[t?Pw:Ow](n,"",e),uq=(e={})=>[lq(e),cq],WS=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[WS]>"u"){for(const e of[Ow,Pw]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,WS,{value:!0})}const dq=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",qP=(e="")=>e==="/"?"":e,fq=(e,t)=>e[0]==="~"?e.slice(1):qP(t)+e,pq=(e="",t)=>dq(GS(qP(e)),GS(t)),GS=e=>{try{return decodeURI(e)}catch{return e}},zP={hook:uq,searchHook:oq,parser:B5,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},BP=N.createContext(zP),tu=()=>N.useContext(BP),UP={},VP=N.createContext(UP),Tw=()=>N.useContext(VP),Tv=e=>{const[t,n]=e.hook(e);return[pq(e.base,t),FP((r,a)=>n(fq(r,e.base),a))]},Xr=()=>Tv(tu()),Iw=(e,t,n,r)=>{const{pattern:a,keys:s}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),o=a.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=s!==!1?Object.fromEntries(s.map((f,p)=>[f,c[p]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...r?[l]:[]]:[!1,null]},Iv=e=>Iw(tu().parser,e,Xr()[0]),mq=({children:e,...t})=>{var d,f;const n=tu(),r=t.hook?zP:n;let a=r;const[s,o]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=s),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs);let l=N.useRef({}),c=l.current,u=c;for(let p in r){const h=p==="base"?r[p]+(t[p]||""):t[p]||r[p];c===u&&h!==u[p]&&(l.current=u={...u}),u[p]=h,h!==r[p]&&(a=u)}return N.createElement(BP.Provider,{value:a,children:e})},KS=({children:e,component:t},n)=>t?N.createElement(t,{params:n}):typeof e=="function"?e(n):e,hq=e=>{let t=N.useRef(UP),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},$t=({path:e,nest:t,match:n,...r})=>{const a=tu(),[s]=Tv(a),[o,l,c]=n??Iw(a.parser,e,s,t),u=hq({...Tw(),...l});if(!o)return null;const d=c?N.createElement(mq,{base:c},KS(r,u)):KS(r,u);return N.createElement(VP.Provider,{value:u,children:d})},fn=N.forwardRef((e,t)=>{const n=tu(),[r,a]=Tv(n),{to:s="",href:o=s,onClick:l,asChild:c,children:u,className:d,replace:f,state:p,...h}=e,x=FP(g=>{g.ctrlKey||g.metaKey||g.altKey||g.shiftKey||g.button!==0||(l==null||l(g),g.defaultPrevented||(g.preventDefault(),a(o,e)))}),m=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&N.isValidElement(u)?N.cloneElement(u,{onClick:x,href:m}):N.createElement("a",{...h,onClick:x,href:m,className:d!=null&&d.call?d(r===o):d,children:u,ref:t})}),HP=e=>Array.isArray(e)?e.flatMap(t=>HP(t&&t.type===N.Fragment?t.props.children:t)):[e],vq=({children:e,location:t})=>{const n=tu(),[r]=Tv(n);for(const a of HP(e)){let s=0;if(N.isValidElement(a)&&(s=Iw(n.parser,a.props.path,t||r,a.props.nest))[0])return N.cloneElement(a,{match:s})}return null};var nu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ko=typeof window>"u"||"Deno"in globalThis;function Lr(){}function gq(e,t){return typeof e=="function"?e(t):e}function v0(e){return typeof e=="number"&&e>=0&&e!==1/0}function WP(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Rl(e,t){return typeof e=="function"?e(t):e}function ui(e,t){return typeof e=="function"?e(t):e}function YS(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:s,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==Rw(o,t.options))return!1}else if(!Rd(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||s&&!s(t))}function QS(e,t){const{exact:n,status:r,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(_o(t.options.mutationKey)!==_o(s))return!1}else if(!Rd(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function Rw(e,t){return((t==null?void 0:t.queryKeyHashFn)||_o)(e)}function _o(e){return JSON.stringify(e,(t,n)=>g0(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function Rd(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Rd(e[n],t[n])):!1}function GP(e,t){if(e===t)return e;const n=XS(e)&&XS(t);if(n||g0(e)&&g0(t)){const r=n?e:Object.keys(e),a=r.length,s=n?t:Object.keys(t),o=s.length,l=n?[]:{};let c=0;for(let u=0;u<o;u++){const d=n?u:s[u];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=GP(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function Hm(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function XS(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function g0(e){if(!ZS(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!ZS(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ZS(e){return Object.prototype.toString.call(e)==="[object Object]"}function xq(e){return new Promise(t=>{setTimeout(t,e)})}function x0(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?GP(e,t):t}function yq(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function bq(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var $w=Symbol();function KP(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===$w?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var uo,is,Yl,p_,jq=(p_=class extends nu{constructor(){super();Ve(this,uo);Ve(this,is);Ve(this,Yl);Ce(this,Yl,t=>{if(!ko&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,is)||this.setEventListener(U(this,Yl))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,is))==null||t.call(this),Ce(this,is,void 0))}setEventListener(t){var n;Ce(this,Yl,t),(n=U(this,is))==null||n.call(this),Ce(this,is,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){U(this,uo)!==t&&(Ce(this,uo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof U(this,uo)=="boolean"?U(this,uo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},uo=new WeakMap,is=new WeakMap,Yl=new WeakMap,p_),Mw=new jq,Ql,as,Xl,m_,wq=(m_=class extends nu{constructor(){super();Ve(this,Ql,!0);Ve(this,as);Ve(this,Xl);Ce(this,Xl,t=>{if(!ko&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,as)||this.setEventListener(U(this,Xl))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,as))==null||t.call(this),Ce(this,as,void 0))}setEventListener(t){var n;Ce(this,Xl,t),(n=U(this,as))==null||n.call(this),Ce(this,as,t(this.setOnline.bind(this)))}setOnline(t){U(this,Ql)!==t&&(Ce(this,Ql,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return U(this,Ql)}},Ql=new WeakMap,as=new WeakMap,Xl=new WeakMap,m_),Wm=new wq;function y0(){let e,t;const n=new Promise((a,s)=>{e=a,t=s});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},n.reject=a=>{r({status:"rejected",reason:a}),t(a)},n}function Nq(e){return Math.min(1e3*2**e,3e4)}function YP(e){return(e??"online")==="online"?Wm.isOnline():!0}var QP=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Ox(e){return e instanceof QP}function XP(e){let t=!1,n=0,r=!1,a;const s=y0(),o=m=>{var g;r||(p(new QP(m)),(g=e.abort)==null||g.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>Mw.isFocused()&&(e.networkMode==="always"||Wm.isOnline())&&e.canRun(),d=()=>YP(e.networkMode)&&e.canRun(),f=m=>{var g;r||(r=!0,(g=e.onSuccess)==null||g.call(e,m),a==null||a(),s.resolve(m))},p=m=>{var g;r||(r=!0,(g=e.onError)==null||g.call(e,m),a==null||a(),s.reject(m))},h=()=>new Promise(m=>{var g;a=b=>{(r||u())&&m(b)},(g=e.onPause)==null||g.call(e)}).then(()=>{var m;a=void 0,r||(m=e.onContinue)==null||m.call(e)}),x=()=>{if(r)return;let m;const g=n===0?e.initialPromise:void 0;try{m=g??e.fn()}catch(b){m=Promise.reject(b)}Promise.resolve(m).then(f).catch(b=>{var S;if(r)return;const v=e.retry??(ko?0:3),y=e.retryDelay??Nq,w=typeof y=="function"?y(n,b):y,j=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,b);if(t||!j){p(b);return}n++,(S=e.onFail)==null||S.call(e,n,b),xq(w).then(()=>u()?void 0:h()).then(()=>{t?p(b):x()})})};return{promise:s,cancel:o,continue:()=>(a==null||a(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():h().then(x),s)}}function Sq(){let e=[],t=0,n=l=>{l()},r=l=>{l()},a=l=>setTimeout(l,0);const s=l=>{t?e.push(l):a(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{a=l}}}var wn=Sq(),fo,h_,ZP=(h_=class{constructor(){Ve(this,fo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),v0(this.gcTime)&&Ce(this,fo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ko?1/0:5*60*1e3))}clearGcTimeout(){U(this,fo)&&(clearTimeout(U(this,fo)),Ce(this,fo,void 0))}},fo=new WeakMap,h_),Zl,Jl,Fr,qn,Df,po,ai,oa,v_,Cq=(v_=class extends ZP{constructor(t){super();Ve(this,ai);Ve(this,Zl);Ve(this,Jl);Ve(this,Fr);Ve(this,qn);Ve(this,Df);Ve(this,po);Ce(this,po,!1),Ce(this,Df,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ce(this,Fr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ce(this,Zl,Eq(this.options)),this.state=t.state??U(this,Zl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=U(this,qn))==null?void 0:t.promise}setOptions(t){this.options={...U(this,Df),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,Fr).remove(this)}setData(t,n){const r=x0(this.state.data,t,this.options);return mt(this,ai,oa).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){mt(this,ai,oa).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,a;const n=(r=U(this,qn))==null?void 0:r.promise;return(a=U(this,qn))==null||a.cancel(t),n?n.then(Lr).catch(Lr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,Zl))}isActive(){return this.observers.some(t=>ui(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$w||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!WP(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=U(this,qn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=U(this,qn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),U(this,Fr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(U(this,qn)&&(U(this,po)?U(this,qn).cancel({revert:!0}):U(this,qn).cancelRetry()),this.scheduleGc()),U(this,Fr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||mt(this,ai,oa).call(this,{type:"invalidate"})}fetch(t,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(U(this,qn))return U(this,qn).continueRetry(),U(this,qn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Ce(this,po,!0),r.signal)})},s=()=>{const f=KP(this.options,n),p={queryKey:this.queryKey,meta:this.meta};return a(p),Ce(this,po,!1),this.options.persister?this.options.persister(f,p,this):f(p)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),Ce(this,Jl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&mt(this,ai,oa).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=f=>{var p,h,x,m;Ox(f)&&f.silent||mt(this,ai,oa).call(this,{type:"error",error:f}),Ox(f)||((h=(p=U(this,Fr).config).onError)==null||h.call(p,f,this),(m=(x=U(this,Fr).config).onSettled)==null||m.call(x,this.state.data,f,this)),this.scheduleGc()};return Ce(this,qn,XP({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var p,h,x,m;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(g){l(g);return}(h=(p=U(this,Fr).config).onSuccess)==null||h.call(p,f,this),(m=(x=U(this,Fr).config).onSettled)==null||m.call(x,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,p)=>{mt(this,ai,oa).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{mt(this,ai,oa).call(this,{type:"pause"})},onContinue:()=>{mt(this,ai,oa).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),U(this,qn).start()}},Zl=new WeakMap,Jl=new WeakMap,Fr=new WeakMap,qn=new WeakMap,Df=new WeakMap,po=new WeakMap,ai=new WeakSet,oa=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...JP(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return Ox(a)&&a.revert&&U(this,Jl)?{...U(this,Jl),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),wn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),U(this,Fr).notify({query:this,type:"updated",action:t})})},v_);function JP(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:YP(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Eq(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Pi,g_,Aq=(g_=class extends nu{constructor(t={}){super();Ve(this,Pi);this.config=t,Ce(this,Pi,new Map)}build(t,n,r){const a=n.queryKey,s=n.queryHash??Rw(a,n);let o=this.get(s);return o||(o=new Cq({cache:this,queryKey:a,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){U(this,Pi).has(t.queryHash)||(U(this,Pi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=U(this,Pi).get(t.queryHash);n&&(t.destroy(),n===t&&U(this,Pi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){wn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return U(this,Pi).get(t)}getAll(){return[...U(this,Pi).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>YS(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>YS(t,r)):n}notify(t){wn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){wn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){wn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Pi=new WeakMap,g_),Ti,Yn,mo,Ii,Ka,x_,kq=(x_=class extends ZP{constructor(t){super();Ve(this,Ii);Ve(this,Ti);Ve(this,Yn);Ve(this,mo);this.mutationId=t.mutationId,Ce(this,Yn,t.mutationCache),Ce(this,Ti,[]),this.state=t.state||eT(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){U(this,Ti).includes(t)||(U(this,Ti).push(t),this.clearGcTimeout(),U(this,Yn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ce(this,Ti,U(this,Ti).filter(n=>n!==t)),this.scheduleGc(),U(this,Yn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){U(this,Ti).length||(this.state.status==="pending"?this.scheduleGc():U(this,Yn).remove(this))}continue(){var t;return((t=U(this,mo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,s,o,l,c,u,d,f,p,h,x,m,g,b,v,y,w,j,S,C;Ce(this,mo,XP({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(E,k)=>{mt(this,Ii,Ka).call(this,{type:"failed",failureCount:E,error:k})},onPause:()=>{mt(this,Ii,Ka).call(this,{type:"pause"})},onContinue:()=>{mt(this,Ii,Ka).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Yn).canRun(this)}));const n=this.state.status==="pending",r=!U(this,mo).canStart();try{if(!n){mt(this,Ii,Ka).call(this,{type:"pending",variables:t,isPaused:r}),await((s=(a=U(this,Yn).config).onMutate)==null?void 0:s.call(a,t,this));const k=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));k!==this.state.context&&mt(this,Ii,Ka).call(this,{type:"pending",context:k,variables:t,isPaused:r})}const E=await U(this,mo).start();return await((u=(c=U(this,Yn).config).onSuccess)==null?void 0:u.call(c,E,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,E,t,this.state.context)),await((h=(p=U(this,Yn).config).onSettled)==null?void 0:h.call(p,E,null,this.state.variables,this.state.context,this)),await((m=(x=this.options).onSettled)==null?void 0:m.call(x,E,null,t,this.state.context)),mt(this,Ii,Ka).call(this,{type:"success",data:E}),E}catch(E){try{throw await((b=(g=U(this,Yn).config).onError)==null?void 0:b.call(g,E,t,this.state.context,this)),await((y=(v=this.options).onError)==null?void 0:y.call(v,E,t,this.state.context)),await((j=(w=U(this,Yn).config).onSettled)==null?void 0:j.call(w,void 0,E,this.state.variables,this.state.context,this)),await((C=(S=this.options).onSettled)==null?void 0:C.call(S,void 0,E,t,this.state.context)),E}finally{mt(this,Ii,Ka).call(this,{type:"error",error:E})}}finally{U(this,Yn).runNext(this)}}},Ti=new WeakMap,Yn=new WeakMap,mo=new WeakMap,Ii=new WeakSet,Ka=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),wn.batch(()=>{U(this,Ti).forEach(r=>{r.onMutationUpdate(t)}),U(this,Yn).notify({mutation:this,type:"updated",action:t})})},x_);function eT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var yr,Ff,y_,_q=(y_=class extends nu{constructor(t={}){super();Ve(this,yr);Ve(this,Ff);this.config=t,Ce(this,yr,new Map),Ce(this,Ff,Date.now())}build(t,n,r){const a=new kq({mutationCache:this,mutationId:++up(this,Ff)._,options:t.defaultMutationOptions(n),state:r});return this.add(a),a}add(t){const n=_p(t),r=U(this,yr).get(n)??[];r.push(t),U(this,yr).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=_p(t);if(U(this,yr).has(n)){const a=(r=U(this,yr).get(n))==null?void 0:r.filter(s=>s!==t);a&&(a.length===0?U(this,yr).delete(n):U(this,yr).set(n,a))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=U(this,yr).get(_p(t)))==null?void 0:r.find(a=>a.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=U(this,yr).get(_p(t)))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){wn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...U(this,yr).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>QS(n,r))}findAll(t={}){return this.getAll().filter(n=>QS(t,n))}notify(t){wn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return wn.batch(()=>Promise.all(t.map(n=>n.continue().catch(Lr))))}},yr=new WeakMap,Ff=new WeakMap,y_);function _p(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function JS(e){return{onFetch:(t,n)=>{var d,f,p,h,x;const r=t.options,a=(p=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,s=((h=t.state.data)==null?void 0:h.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const g=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},b=KP(t.options,t.fetchOptions),v=async(y,w,j)=>{if(m)return Promise.reject();if(w==null&&y.pages.length)return Promise.resolve(y);const S={queryKey:t.queryKey,pageParam:w,direction:j?"backward":"forward",meta:t.options.meta};g(S);const C=await b(S),{maxPages:E}=t.options,k=j?bq:yq;return{pages:k(y.pages,C,E),pageParams:k(y.pageParams,w,E)}};if(a&&s.length){const y=a==="backward",w=y?Oq:eC,j={pages:s,pageParams:o},S=w(r,j);l=await v(j,S,y)}else{const y=e??s.length;do{const w=c===0?o[0]??r.initialPageParam:eC(r,l);if(c>0&&w==null)break;l=await v(l,w),c++}while(c<y)}return l};t.options.persister?t.fetchFn=()=>{var m,g;return(g=(m=t.options).persister)==null?void 0:g.call(m,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function eC(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Oq(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var rn,ss,os,ec,tc,ls,nc,rc,b_,Pq=(b_=class{constructor(e={}){Ve(this,rn);Ve(this,ss);Ve(this,os);Ve(this,ec);Ve(this,tc);Ve(this,ls);Ve(this,nc);Ve(this,rc);Ce(this,rn,e.queryCache||new Aq),Ce(this,ss,e.mutationCache||new _q),Ce(this,os,e.defaultOptions||{}),Ce(this,ec,new Map),Ce(this,tc,new Map),Ce(this,ls,0)}mount(){up(this,ls)._++,U(this,ls)===1&&(Ce(this,nc,Mw.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,rn).onFocus())})),Ce(this,rc,Wm.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,rn).onOnline())})))}unmount(){var e,t;up(this,ls)._--,U(this,ls)===0&&((e=U(this,nc))==null||e.call(this),Ce(this,nc,void 0),(t=U(this,rc))==null||t.call(this),Ce(this,rc,void 0))}isFetching(e){return U(this,rn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return U(this,ss).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=U(this,rn).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=U(this,rn).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Rl(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return U(this,rn).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),a=U(this,rn).get(r.queryHash),s=a==null?void 0:a.state.data,o=gq(t,s);if(o!==void 0)return U(this,rn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return wn.batch(()=>U(this,rn).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=U(this,rn).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=U(this,rn);wn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=U(this,rn),r={type:"active",...e};return wn.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=wn.batch(()=>U(this,rn).findAll(e).map(a=>a.cancel(n)));return Promise.all(r).then(Lr).catch(Lr)}invalidateQueries(e={},t={}){return wn.batch(()=>{if(U(this,rn).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=wn.batch(()=>U(this,rn).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let s=a.fetch(void 0,n);return n.throwOnError||(s=s.catch(Lr)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Lr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=U(this,rn).build(this,t);return n.isStaleByTime(Rl(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Lr).catch(Lr)}fetchInfiniteQuery(e){return e.behavior=JS(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Lr).catch(Lr)}ensureInfiniteQueryData(e){return e.behavior=JS(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Wm.isOnline()?U(this,ss).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,rn)}getMutationCache(){return U(this,ss)}getDefaultOptions(){return U(this,os)}setDefaultOptions(e){Ce(this,os,e)}setQueryDefaults(e,t){U(this,ec).set(_o(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...U(this,ec).values()];let n={};return t.forEach(r=>{Rd(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){U(this,tc).set(_o(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...U(this,tc).values()];let n={};return t.forEach(r=>{Rd(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...U(this,os).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Rw(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===$w&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...U(this,os).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){U(this,rn).clear(),U(this,ss).clear()}},rn=new WeakMap,ss=new WeakMap,os=new WeakMap,ec=new WeakMap,tc=new WeakMap,ls=new WeakMap,nc=new WeakMap,rc=new WeakMap,b_),lr,Nt,Lf,Qn,ho,ic,cs,Ri,qf,ac,sc,vo,go,us,oc,_t,Ku,b0,j0,w0,N0,S0,C0,E0,tT,j_,Tq=(j_=class extends nu{constructor(t,n){super();Ve(this,_t);Ve(this,lr);Ve(this,Nt);Ve(this,Lf);Ve(this,Qn);Ve(this,ho);Ve(this,ic);Ve(this,cs);Ve(this,Ri);Ve(this,qf);Ve(this,ac);Ve(this,sc);Ve(this,vo);Ve(this,go);Ve(this,us);Ve(this,oc,new Set);this.options=n,Ce(this,lr,t),Ce(this,Ri,null),Ce(this,cs,y0()),this.options.experimental_prefetchInRender||U(this,cs).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(U(this,Nt).addObserver(this),tC(U(this,Nt),this.options)?mt(this,_t,Ku).call(this):this.updateResult(),mt(this,_t,N0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return A0(U(this,Nt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return A0(U(this,Nt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,mt(this,_t,S0).call(this),mt(this,_t,C0).call(this),U(this,Nt).removeObserver(this)}setOptions(t,n){const r=this.options,a=U(this,Nt);if(this.options=U(this,lr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ui(this.options.enabled,U(this,Nt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");mt(this,_t,E0).call(this),U(this,Nt).setOptions(this.options),r._defaulted&&!Hm(this.options,r)&&U(this,lr).getQueryCache().notify({type:"observerOptionsUpdated",query:U(this,Nt),observer:this});const s=this.hasListeners();s&&nC(U(this,Nt),a,this.options,r)&&mt(this,_t,Ku).call(this),this.updateResult(n),s&&(U(this,Nt)!==a||ui(this.options.enabled,U(this,Nt))!==ui(r.enabled,U(this,Nt))||Rl(this.options.staleTime,U(this,Nt))!==Rl(r.staleTime,U(this,Nt)))&&mt(this,_t,b0).call(this);const o=mt(this,_t,j0).call(this);s&&(U(this,Nt)!==a||ui(this.options.enabled,U(this,Nt))!==ui(r.enabled,U(this,Nt))||o!==U(this,us))&&mt(this,_t,w0).call(this,o)}getOptimisticResult(t){const n=U(this,lr).getQueryCache().build(U(this,lr),t),r=this.createResult(n,t);return Rq(this,r)&&(Ce(this,Qn,r),Ce(this,ic,this.options),Ce(this,ho,U(this,Nt).state)),r}getCurrentResult(){return U(this,Qn)}trackResult(t,n){const r={};return Object.keys(t).forEach(a=>{Object.defineProperty(r,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),n==null||n(a),t[a])})}),r}trackProp(t){U(this,oc).add(t)}getCurrentQuery(){return U(this,Nt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=U(this,lr).defaultQueryOptions(t),r=U(this,lr).getQueryCache().build(U(this,lr),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return mt(this,_t,Ku).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),U(this,Qn)))}createResult(t,n){var E;const r=U(this,Nt),a=this.options,s=U(this,Qn),o=U(this,ho),l=U(this,ic),u=t!==r?t.state:U(this,Lf),{state:d}=t;let f={...d},p=!1,h;if(n._optimisticResults){const k=this.hasListeners(),$=!k&&tC(t,n),O=k&&nC(t,r,n,a);($||O)&&(f={...f,...JP(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:m,status:g}=f;if(n.select&&f.data!==void 0)if(s&&f.data===(o==null?void 0:o.data)&&n.select===U(this,qf))h=U(this,ac);else try{Ce(this,qf,n.select),h=n.select(f.data),h=x0(s==null?void 0:s.data,h,n),Ce(this,ac,h),Ce(this,Ri,null)}catch(k){Ce(this,Ri,k)}else h=f.data;if(n.placeholderData!==void 0&&h===void 0&&g==="pending"){let k;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))k=s.data;else if(k=typeof n.placeholderData=="function"?n.placeholderData((E=U(this,sc))==null?void 0:E.state.data,U(this,sc)):n.placeholderData,n.select&&k!==void 0)try{k=n.select(k),Ce(this,Ri,null)}catch($){Ce(this,Ri,$)}k!==void 0&&(g="success",h=x0(s==null?void 0:s.data,k,n),p=!0)}U(this,Ri)&&(x=U(this,Ri),h=U(this,ac),m=Date.now(),g="error");const b=f.fetchStatus==="fetching",v=g==="pending",y=g==="error",w=v&&b,j=h!==void 0,C={status:g,fetchStatus:f.fetchStatus,isPending:v,isSuccess:g==="success",isError:y,isInitialLoading:w,isLoading:w,data:h,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!v,isLoadingError:y&&!j,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:y&&j,isStale:Dw(t,n),refetch:this.refetch,promise:U(this,cs)};if(this.options.experimental_prefetchInRender){const k=T=>{C.status==="error"?T.reject(C.error):C.data!==void 0&&T.resolve(C.data)},$=()=>{const T=Ce(this,cs,C.promise=y0());k(T)},O=U(this,cs);switch(O.status){case"pending":t.queryHash===r.queryHash&&k(O);break;case"fulfilled":(C.status==="error"||C.data!==O.value)&&$();break;case"rejected":(C.status!=="error"||C.error!==O.reason)&&$();break}}return C}updateResult(t){const n=U(this,Qn),r=this.createResult(U(this,Nt),this.options);if(Ce(this,ho,U(this,Nt).state),Ce(this,ic,this.options),U(this,ho).data!==void 0&&Ce(this,sc,U(this,Nt)),Hm(r,n))return;Ce(this,Qn,r);const a={},s=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!U(this,oc).size)return!0;const c=new Set(l??U(this,oc));return this.options.throwOnError&&c.add("error"),Object.keys(U(this,Qn)).some(u=>{const d=u;return U(this,Qn)[d]!==n[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&s()&&(a.listeners=!0),mt(this,_t,tT).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&mt(this,_t,N0).call(this)}},lr=new WeakMap,Nt=new WeakMap,Lf=new WeakMap,Qn=new WeakMap,ho=new WeakMap,ic=new WeakMap,cs=new WeakMap,Ri=new WeakMap,qf=new WeakMap,ac=new WeakMap,sc=new WeakMap,vo=new WeakMap,go=new WeakMap,us=new WeakMap,oc=new WeakMap,_t=new WeakSet,Ku=function(t){mt(this,_t,E0).call(this);let n=U(this,Nt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Lr)),n},b0=function(){mt(this,_t,S0).call(this);const t=Rl(this.options.staleTime,U(this,Nt));if(ko||U(this,Qn).isStale||!v0(t))return;const r=WP(U(this,Qn).dataUpdatedAt,t)+1;Ce(this,vo,setTimeout(()=>{U(this,Qn).isStale||this.updateResult()},r))},j0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(U(this,Nt)):this.options.refetchInterval)??!1},w0=function(t){mt(this,_t,C0).call(this),Ce(this,us,t),!(ko||ui(this.options.enabled,U(this,Nt))===!1||!v0(U(this,us))||U(this,us)===0)&&Ce(this,go,setInterval(()=>{(this.options.refetchIntervalInBackground||Mw.isFocused())&&mt(this,_t,Ku).call(this)},U(this,us)))},N0=function(){mt(this,_t,b0).call(this),mt(this,_t,w0).call(this,mt(this,_t,j0).call(this))},S0=function(){U(this,vo)&&(clearTimeout(U(this,vo)),Ce(this,vo,void 0))},C0=function(){U(this,go)&&(clearInterval(U(this,go)),Ce(this,go,void 0))},E0=function(){const t=U(this,lr).getQueryCache().build(U(this,lr),this.options);if(t===U(this,Nt))return;const n=U(this,Nt);Ce(this,Nt,t),Ce(this,Lf,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},tT=function(t){wn.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(U(this,Qn))}),U(this,lr).getQueryCache().notify({query:U(this,Nt),type:"observerResultsUpdated"})})},j_);function Iq(e,t){return ui(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function tC(e,t){return Iq(e,t)||e.state.data!==void 0&&A0(e,t,t.refetchOnMount)}function A0(e,t,n){if(ui(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Dw(e,t)}return!1}function nC(e,t,n,r){return(e!==t||ui(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Dw(e,n)}function Dw(e,t){return ui(t.enabled,e)!==!1&&e.isStaleByTime(Rl(t.staleTime,e))}function Rq(e,t){return!Hm(e.getCurrentResult(),t)}var ds,fs,cr,pa,Ca,fm,k0,w_,$q=(w_=class extends nu{constructor(n,r){super();Ve(this,Ca);Ve(this,ds);Ve(this,fs);Ve(this,cr);Ve(this,pa);Ce(this,ds,n),this.setOptions(r),this.bindMethods(),mt(this,Ca,fm).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var a;const r=this.options;this.options=U(this,ds).defaultMutationOptions(n),Hm(this.options,r)||U(this,ds).getMutationCache().notify({type:"observerOptionsUpdated",mutation:U(this,cr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&_o(r.mutationKey)!==_o(this.options.mutationKey)?this.reset():((a=U(this,cr))==null?void 0:a.state.status)==="pending"&&U(this,cr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=U(this,cr))==null||n.removeObserver(this)}onMutationUpdate(n){mt(this,Ca,fm).call(this),mt(this,Ca,k0).call(this,n)}getCurrentResult(){return U(this,fs)}reset(){var n;(n=U(this,cr))==null||n.removeObserver(this),Ce(this,cr,void 0),mt(this,Ca,fm).call(this),mt(this,Ca,k0).call(this)}mutate(n,r){var a;return Ce(this,pa,r),(a=U(this,cr))==null||a.removeObserver(this),Ce(this,cr,U(this,ds).getMutationCache().build(U(this,ds),this.options)),U(this,cr).addObserver(this),U(this,cr).execute(n)}},ds=new WeakMap,fs=new WeakMap,cr=new WeakMap,pa=new WeakMap,Ca=new WeakSet,fm=function(){var r;const n=((r=U(this,cr))==null?void 0:r.state)??eT();Ce(this,fs,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},k0=function(n){wn.batch(()=>{var r,a,s,o,l,c,u,d;if(U(this,pa)&&this.hasListeners()){const f=U(this,fs).variables,p=U(this,fs).context;(n==null?void 0:n.type)==="success"?((a=(r=U(this,pa)).onSuccess)==null||a.call(r,n.data,f,p),(o=(s=U(this,pa)).onSettled)==null||o.call(s,n.data,null,f,p)):(n==null?void 0:n.type)==="error"&&((c=(l=U(this,pa)).onError)==null||c.call(l,n.error,f,p),(d=(u=U(this,pa)).onSettled)==null||d.call(u,void 0,n.error,f,p))}this.listeners.forEach(f=>{f(U(this,fs))})})},w_),nT=N.createContext(void 0),Wo=e=>{const t=N.useContext(nT);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Mq=({client:e,children:t})=>(N.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(nT.Provider,{value:e,children:t})),rT=N.createContext(!1),Dq=()=>N.useContext(rT);rT.Provider;function Fq(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Lq=N.createContext(Fq()),qq=()=>N.useContext(Lq);function iT(e,t){return typeof e=="function"?e(...t):!!e}function _0(){}var zq=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Bq=e=>{N.useEffect(()=>{e.clearReset()},[e])},Uq=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&iT(n,[e.error,r]),Vq=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Hq=(e,t)=>e.isLoading&&e.isFetching&&!t,Wq=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,rC=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Gq(e,t,n){var d,f,p,h,x;const r=Wo(),a=Dq(),s=qq(),o=r.defaultQueryOptions(e);(f=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=a?"isRestoring":"optimistic",Vq(o),zq(o,s),Bq(s);const l=!r.getQueryCache().get(o.queryHash),[c]=N.useState(()=>new t(r,o)),u=c.getOptimisticResult(o);if(N.useSyncExternalStore(N.useCallback(m=>{const g=a?_0:c.subscribe(wn.batchCalls(m));return c.updateResult(),g},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),N.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),Wq(o,u))throw rC(o,c,s);if(Uq({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw u.error;if((h=(p=r.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||h.call(p,o,u),o.experimental_prefetchInRender&&!ko&&Hq(u,a)){const m=l?rC(o,c,s):(x=r.getQueryCache().get(o.queryHash))==null?void 0:x.promise;m==null||m.catch(_0).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function Ye(e,t){return Gq(e,Tq)}function Je(e,t){const n=Wo(),[r]=N.useState(()=>new $q(n,e));N.useEffect(()=>{r.setOptions(e)},[r,e]);const a=N.useSyncExternalStore(N.useCallback(o=>r.subscribe(wn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=N.useCallback((o,l)=>{r.mutate(o,l).catch(_0)},[r]);if(a.error&&iT(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:s,mutateAsync:a.mutate}}async function aT(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function gt(e,t){const{method:n="GET",body:r,headers:a={}}=t||{};console.log(`[API Request] ${n} ${e}`);const s=await fetch(e,{method:n,headers:r?{"Content-Type":"application/json",Accept:"application/json","Cache-Control":"no-cache",...a}:{Accept:"application/json",...a},body:r,credentials:"include"});console.log(`[API Response] ${s.status} ${s.statusText}`);const o=s.headers.get("content-type");return o&&o.includes("text/html")&&s.status===200&&(console.warn(`[API Request] Detected Vite HTML interference for ${e}`),e.includes("/api/evidence-library/")&&n==="PUT")?(console.log("[API Request] Evidence Library update appears successful despite HTML response"),new Response(JSON.stringify({success:!0,message:"Update successful"}),{status:200,headers:{"Content-Type":"application/json"}})):(await aT(s),s)}const Kq=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t.join("/"),{credentials:"include"});return e==="returnNull"&&n.status===401?null:(await aT(n),await n.json())},Dt=new Pq({defaultOptions:{queries:{queryFn:Kq({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),Yq=1,Qq=1e6;let Px=0;function Xq(){return Px=(Px+1)%Number.MAX_SAFE_INTEGER,Px.toString()}const Tx=new Map,iC=e=>{if(Tx.has(e))return;const t=setTimeout(()=>{Tx.delete(e),ld({type:"REMOVE_TOAST",toastId:e})},Qq);Tx.set(e,t)},Zq=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Yq)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?iC(n):e.toasts.forEach(r=>{iC(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},pm=[];let mm={toasts:[]};function ld(e){mm=Zq(mm,e),pm.forEach(t=>{t(mm)})}function Jq({...e}){const t=Xq(),n=a=>ld({type:"UPDATE_TOAST",toast:{...a,id:t}}),r=()=>ld({type:"DISMISS_TOAST",toastId:t});return ld({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||r()}}}),{id:t,dismiss:r,update:n}}function Cn(){const[e,t]=N.useState(mm);return N.useEffect(()=>(pm.push(t),()=>{const n=pm.indexOf(t);n>-1&&pm.splice(n,1)}),[e]),{...e,toast:Jq,dismiss:n=>ld({type:"DISMISS_TOAST",toastId:n})}}function Me(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function aC(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Rv(...e){return t=>{let n=!1;const r=e.map(a=>{const s=aC(a,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let a=0;a<r.length;a++){const s=r[a];typeof s=="function"?s():aC(e[a],null)}}}}function St(...e){return N.useCallback(Rv(...e),e)}function e6(e,t){const n=N.createContext(t),r=s=>{const{children:o,...l}=s,c=N.useMemo(()=>l,Object.values(l));return i.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function a(s){const o=N.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,a]}function Ni(e,t=[]){let n=[];function r(s,o){const l=N.createContext(o),c=n.length;n=[...n,o];const u=f=>{var b;const{scope:p,children:h,...x}=f,m=((b=p==null?void 0:p[e])==null?void 0:b[c])||l,g=N.useMemo(()=>x,Object.values(x));return i.jsx(m.Provider,{value:g,children:h})};u.displayName=s+"Provider";function d(f,p){var m;const h=((m=p==null?void 0:p[e])==null?void 0:m[c])||l,x=N.useContext(h);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const a=()=>{const s=n.map(o=>N.createContext(o));return function(l){const c=(l==null?void 0:l[e])||s;return N.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[r,t6(a,...t)]}function t6(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function vc(e){const t=n6(e),n=N.forwardRef((r,a)=>{const{children:s,...o}=r,l=N.Children.toArray(s),c=l.find(i6);if(c){const u=c.props.children,d=l.map(f=>f===c?N.Children.count(u)>1?N.Children.only(null):N.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:N.isValidElement(u)?N.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return n.displayName=`${e}.Slot`,n}var sT=vc("Slot");function n6(e){const t=N.forwardRef((n,r)=>{const{children:a,...s}=n;if(N.isValidElement(a)){const o=s6(a),l=a6(s,a.props);return a.type!==N.Fragment&&(l.ref=r?Rv(r,o):o),N.cloneElement(a,l)}return N.Children.count(a)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var oT=Symbol("radix.slottable");function r6(e){const t=({children:n})=>i.jsx(i.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=oT,t}function i6(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===oT}function a6(e,t){const n={...t};for(const r in t){const a=e[r],s=t[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...l)=>{s(...l),a(...l)}:a&&(n[r]=a):r==="style"?n[r]={...a,...s}:r==="className"&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...e,...n}}function s6(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Fw(e){const t=e+"CollectionProvider",[n,r]=Ni(t),[a,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:b}=m,v=F.useRef(null),y=F.useRef(new Map).current;return i.jsx(a,{scope:g,itemMap:y,collectionRef:v,children:b})};o.displayName=t;const l=e+"CollectionSlot",c=vc(l),u=F.forwardRef((m,g)=>{const{scope:b,children:v}=m,y=s(l,b),w=St(g,y.collectionRef);return i.jsx(c,{ref:w,children:v})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",p=vc(d),h=F.forwardRef((m,g)=>{const{scope:b,children:v,...y}=m,w=F.useRef(null),j=St(g,w),S=s(d,b);return F.useEffect(()=>(S.itemMap.set(w,{ref:w,...y}),()=>void S.itemMap.delete(w))),i.jsx(p,{[f]:"",ref:j,children:v})});h.displayName=d;function x(m){const g=s(e+"CollectionConsumer",m);return F.useCallback(()=>{const v=g.collectionRef.current;if(!v)return[];const y=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((S,C)=>y.indexOf(S.ref.current)-y.indexOf(C.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:u,ItemSlot:h},x,r]}var o6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],rt=o6.reduce((e,t)=>{const n=vc(`Primitive.${t}`),r=N.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function lT(e,t){e&&Ho.flushSync(()=>e.dispatchEvent(t))}function dn(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e}),N.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function l6(e,t=globalThis==null?void 0:globalThis.document){const n=dn(e);N.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var c6="DismissableLayer",O0="dismissableLayer.update",u6="dismissableLayer.pointerDownOutside",d6="dismissableLayer.focusOutside",sC,cT=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wf=N.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=N.useContext(cT),[d,f]=N.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=N.useState({}),x=St(t,C=>f(C)),m=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=m.indexOf(g),v=d?m.indexOf(d):-1,y=u.layersWithOutsidePointerEventsDisabled.size>0,w=v>=b,j=p6(C=>{const E=C.target,k=[...u.branches].some($=>$.contains(E));!w||k||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},p),S=m6(C=>{const E=C.target;[...u.branches].some($=>$.contains(E))||(s==null||s(C),o==null||o(C),C.defaultPrevented||l==null||l())},p);return l6(C=>{v===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},p),N.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(sC=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),oC(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=sC)}},[d,p,n,u]),N.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),oC())},[d,u]),N.useEffect(()=>{const C=()=>h({});return document.addEventListener(O0,C),()=>document.removeEventListener(O0,C)},[]),i.jsx(rt.div,{...c,ref:x,style:{pointerEvents:y?w?"auto":"none":void 0,...e.style},onFocusCapture:Me(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Me(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Me(e.onPointerDownCapture,j.onPointerDownCapture)})});Wf.displayName=c6;var f6="DismissableLayerBranch",uT=N.forwardRef((e,t)=>{const n=N.useContext(cT),r=N.useRef(null),a=St(t,r);return N.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),i.jsx(rt.div,{...e,ref:a})});uT.displayName=f6;function p6(e,t=globalThis==null?void 0:globalThis.document){const n=dn(e),r=N.useRef(!1),a=N.useRef(()=>{});return N.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let c=function(){dT(u6,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function m6(e,t=globalThis==null?void 0:globalThis.document){const n=dn(e),r=N.useRef(!1);return N.useEffect(()=>{const a=s=>{s.target&&!r.current&&dT(d6,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function oC(){const e=new CustomEvent(O0);document.dispatchEvent(e)}function dT(e,t,n,{discrete:r}){const a=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?lT(a,s):a.dispatchEvent(s)}var h6=Wf,v6=uT,xn=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},g6="Portal",$v=N.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[a,s]=N.useState(!1);xn(()=>s(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?z5.createPortal(i.jsx(rt.div,{...r,ref:t}),o):null});$v.displayName=g6;function x6(e,t){return N.useReducer((n,r)=>t[n][r]??n,e)}var Si=e=>{const{present:t,children:n}=e,r=y6(t),a=typeof n=="function"?n({present:r.isPresent}):N.Children.only(n),s=St(r.ref,b6(a));return typeof n=="function"||r.isPresent?N.cloneElement(a,{ref:s}):null};Si.displayName="Presence";function y6(e){const[t,n]=N.useState(),r=N.useRef({}),a=N.useRef(e),s=N.useRef("none"),o=e?"mounted":"unmounted",[l,c]=x6(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const u=Op(r.current);s.current=l==="mounted"?u:"none"},[l]),xn(()=>{const u=r.current,d=a.current;if(d!==e){const p=s.current,h=Op(u);e?c("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),xn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=h=>{const m=Op(r.current).includes(h.animationName);if(h.target===t&&m&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},p=h=>{h.target===t&&(s.current=Op(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:N.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Op(e){return(e==null?void 0:e.animationName)||"none"}function b6(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function gc({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=j6({defaultProp:t,onChange:n}),s=e!==void 0,o=s?e:r,l=dn(n),c=N.useCallback(u=>{if(s){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else a(u)},[s,e,a,l]);return[o,c]}function j6({defaultProp:e,onChange:t}){const n=N.useState(e),[r]=n,a=N.useRef(r),s=dn(t);return N.useEffect(()=>{a.current!==r&&(s(r),a.current=r)},[r,a,s]),n}var w6="VisuallyHidden",Gf=N.forwardRef((e,t)=>i.jsx(rt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Gf.displayName=w6;var N6=Gf,Lw="ToastProvider",[qw,S6,C6]=Fw("Toast"),[fT,K0e]=Ni("Toast",[C6]),[E6,Mv]=fT(Lw),pT=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:s=50,children:o}=e,[l,c]=N.useState(null),[u,d]=N.useState(0),f=N.useRef(!1),p=N.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Lw}\`. Expected non-empty \`string\`.`),i.jsx(qw.Provider,{scope:t,children:i.jsx(E6,{scope:t,label:n,duration:r,swipeDirection:a,swipeThreshold:s,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:N.useCallback(()=>d(h=>h+1),[]),onToastRemove:N.useCallback(()=>d(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};pT.displayName=Lw;var mT="ToastViewport",A6=["F8"],P0="toast.viewportPause",T0="toast.viewportResume",hT=N.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=A6,label:a="Notifications ({hotkey})",...s}=e,o=Mv(mT,n),l=S6(n),c=N.useRef(null),u=N.useRef(null),d=N.useRef(null),f=N.useRef(null),p=St(t,f,o.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;N.useEffect(()=>{const g=b=>{var y;r.length!==0&&r.every(w=>b[w]||b.code===w)&&((y=f.current)==null||y.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[r]),N.useEffect(()=>{const g=c.current,b=f.current;if(x&&g&&b){const v=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(P0);b.dispatchEvent(S),o.isClosePausedRef.current=!0}},y=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(T0);b.dispatchEvent(S),o.isClosePausedRef.current=!1}},w=S=>{!g.contains(S.relatedTarget)&&y()},j=()=>{g.contains(document.activeElement)||y()};return g.addEventListener("focusin",v),g.addEventListener("focusout",w),g.addEventListener("pointermove",v),g.addEventListener("pointerleave",j),window.addEventListener("blur",v),window.addEventListener("focus",y),()=>{g.removeEventListener("focusin",v),g.removeEventListener("focusout",w),g.removeEventListener("pointermove",v),g.removeEventListener("pointerleave",j),window.removeEventListener("blur",v),window.removeEventListener("focus",y)}}},[x,o.isClosePausedRef]);const m=N.useCallback(({tabbingDirection:g})=>{const v=l().map(y=>{const w=y.ref.current,j=[w,...q6(w)];return g==="forwards"?j:j.reverse()});return(g==="forwards"?v.reverse():v).flat()},[l]);return N.useEffect(()=>{const g=f.current;if(g){const b=v=>{var j,S,C;const y=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!y){const E=document.activeElement,k=v.shiftKey;if(v.target===g&&k){(j=u.current)==null||j.focus();return}const T=m({tabbingDirection:k?"backwards":"forwards"}),P=T.findIndex(I=>I===E);Ix(T.slice(P+1))?v.preventDefault():k?(S=u.current)==null||S.focus():(C=d.current)==null||C.focus()}};return g.addEventListener("keydown",b),()=>g.removeEventListener("keydown",b)}},[l,m]),i.jsxs(v6,{ref:c,role:"region","aria-label":a.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&i.jsx(I0,{ref:u,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"forwards"});Ix(g)}}),i.jsx(qw.Slot,{scope:n,children:i.jsx(rt.ol,{tabIndex:-1,...s,ref:p})}),x&&i.jsx(I0,{ref:d,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"backwards"});Ix(g)}})]})});hT.displayName=mT;var vT="ToastFocusProxy",I0=N.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...a}=e,s=Mv(vT,n);return i.jsx(Gf,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(l))&&r()}})});I0.displayName=vT;var Dv="Toast",k6="toast.swipeStart",_6="toast.swipeMove",O6="toast.swipeCancel",P6="toast.swipeEnd",gT=N.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:a,onOpenChange:s,...o}=e,[l=!0,c]=gc({prop:r,defaultProp:a,onChange:s});return i.jsx(Si,{present:n||l,children:i.jsx(R6,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:dn(e.onPause),onResume:dn(e.onResume),onSwipeStart:Me(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Me(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Me(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Me(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});gT.displayName=Dv;var[T6,I6]=fT(Dv,{onClose(){}}),R6=N.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:a,open:s,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:h,...x}=e,m=Mv(Dv,n),[g,b]=N.useState(null),v=St(t,I=>b(I)),y=N.useRef(null),w=N.useRef(null),j=a||m.duration,S=N.useRef(0),C=N.useRef(j),E=N.useRef(0),{onToastAdd:k,onToastRemove:$}=m,O=dn(()=>{var D;(g==null?void 0:g.contains(document.activeElement))&&((D=m.viewport)==null||D.focus()),o()}),T=N.useCallback(I=>{!I||I===1/0||(window.clearTimeout(E.current),S.current=new Date().getTime(),E.current=window.setTimeout(O,I))},[O]);N.useEffect(()=>{const I=m.viewport;if(I){const D=()=>{T(C.current),u==null||u()},R=()=>{const V=new Date().getTime()-S.current;C.current=C.current-V,window.clearTimeout(E.current),c==null||c()};return I.addEventListener(P0,R),I.addEventListener(T0,D),()=>{I.removeEventListener(P0,R),I.removeEventListener(T0,D)}}},[m.viewport,j,c,u,T]),N.useEffect(()=>{s&&!m.isClosePausedRef.current&&T(j)},[s,j,m.isClosePausedRef,T]),N.useEffect(()=>(k(),()=>$()),[k,$]);const P=N.useMemo(()=>g?ST(g):null,[g]);return m.viewport?i.jsxs(i.Fragment,{children:[P&&i.jsx($6,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),i.jsx(T6,{scope:n,onClose:O,children:Ho.createPortal(i.jsx(qw.ItemSlot,{scope:n,children:i.jsx(h6,{asChild:!0,onEscapeKeyDown:Me(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||O(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(rt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":m.swipeDirection,...x,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Me(e.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:Me(e.onPointerDown,I=>{I.button===0&&(y.current={x:I.clientX,y:I.clientY})}),onPointerMove:Me(e.onPointerMove,I=>{if(!y.current)return;const D=I.clientX-y.current.x,R=I.clientY-y.current.y,V=!!w.current,q=["left","right"].includes(m.swipeDirection),B=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,W=q?B(0,D):0,Z=q?0:B(0,R),te=I.pointerType==="touch"?10:2,fe={x:W,y:Z},Ae={originalEvent:I,delta:fe};V?(w.current=fe,Pp(_6,f,Ae,{discrete:!1})):lC(fe,m.swipeDirection,te)?(w.current=fe,Pp(k6,d,Ae,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(D)>te||Math.abs(R)>te)&&(y.current=null)}),onPointerUp:Me(e.onPointerUp,I=>{const D=w.current,R=I.target;if(R.hasPointerCapture(I.pointerId)&&R.releasePointerCapture(I.pointerId),w.current=null,y.current=null,D){const V=I.currentTarget,q={originalEvent:I,delta:D};lC(D,m.swipeDirection,m.swipeThreshold)?Pp(P6,h,q,{discrete:!0}):Pp(O6,p,q,{discrete:!0}),V.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),$6=e=>{const{__scopeToast:t,children:n,...r}=e,a=Mv(Dv,t),[s,o]=N.useState(!1),[l,c]=N.useState(!1);return F6(()=>o(!0)),N.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx($v,{asChild:!0,children:i.jsx(Gf,{...r,children:s&&i.jsxs(i.Fragment,{children:[a.label," ",n]})})})},M6="ToastTitle",xT=N.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return i.jsx(rt.div,{...r,ref:t})});xT.displayName=M6;var D6="ToastDescription",yT=N.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return i.jsx(rt.div,{...r,ref:t})});yT.displayName=D6;var bT="ToastAction",jT=N.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?i.jsx(NT,{altText:n,asChild:!0,children:i.jsx(zw,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${bT}\`. Expected non-empty \`string\`.`),null)});jT.displayName=bT;var wT="ToastClose",zw=N.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,a=I6(wT,n);return i.jsx(NT,{asChild:!0,children:i.jsx(rt.button,{type:"button",...r,ref:t,onClick:Me(e.onClick,a.onClose)})})});zw.displayName=wT;var NT=N.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...a}=e;return i.jsx(rt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function ST(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),L6(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!a)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...ST(r))}}),t}function Pp(e,t,n,{discrete:r}){const a=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?lT(a,s):a.dispatchEvent(s)}var lC=(e,t,n=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),s=r>a;return t==="left"||t==="right"?s&&r>n:!s&&a>n};function F6(e=()=>{}){const t=dn(e);xn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function L6(e){return e.nodeType===e.ELEMENT_NODE}function q6(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Ix(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var z6=pT,CT=hT,ET=gT,AT=xT,kT=yT,_T=jT,OT=zw;function PT(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=PT(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ht(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=PT(e))&&(r&&(r+=" "),r+=t);return r}const cC=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,uC=ht,Kf=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return uC(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:s}=t,o=Object.keys(a).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const p=cC(d)||cC(f);return a[u][p]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:p,...h}=d;return Object.entries(h).every(x=>{let[m,g]=x;return Array.isArray(g)?g.includes({...s,...l}[m]):{...s,...l}[m]===g})?[...u,f,p]:u},[]);return uC(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),TT=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var U6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:s,iconNode:o,...l},c)=>N.createElement("svg",{ref:c,...U6,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:TT("lucide",a),...l},[...o.map(([u,d])=>N.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(e,t)=>{const n=N.forwardRef(({className:r,...a},s)=>N.createElement(V6,{ref:s,iconNode:t,className:TT(`lucide-${B6(e)}`,r),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=_e("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=_e("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=_e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=_e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=_e("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=_e("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=_e("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=_e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=_e("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=_e("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=_e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=_e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=_e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=_e("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=_e("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=_e("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=_e("Clock4",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=_e("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=_e("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=_e("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=_e("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=_e("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=_e("FileSearch",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=_e("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=_e("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=_e("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=_e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=_e("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=_e("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=_e("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=_e("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=_e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=_e("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=_e("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=_e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=_e("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=_e("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=_e("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=_e("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=_e("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=_e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=_e("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=_e("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=_e("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=_e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=_e("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=_e("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=_e("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=_e("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=_e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=_e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=_e("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=_e("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xc=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=_e("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=_e("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=_e("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=_e("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Bw="-",u8=e=>{const t=f8(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(Bw);return l[0]===""&&l.length!==1&&l.shift(),BT(l,t)||d8(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},BT=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?BT(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(Bw);return(o=t.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},mC=/^\[(.+)\]$/,d8=e=>{if(mC.test(e)){const t=mC.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},f8=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return m8(Object.entries(e.classGroups),n).forEach(([s,o])=>{F0(o,r,s,t)}),r},F0=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:hC(t,a);s.classGroupId=n;return}if(typeof a=="function"){if(p8(a)){F0(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([s,o])=>{F0(o,hC(t,s),n,r)})})},hC=(e,t)=>{let n=e;return t.split(Bw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},p8=e=>e.isThemeGetter,m8=(e,t)=>t?e.map(([n,r])=>{const a=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[n,a]}):e,h8=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(s,o)=>{n.set(s,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return a(s,o),o},set(s,o){n.has(s)?n.set(s,o):a(s,o)}}},UT="!",v8=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,a=t[0],s=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let g=0;g<l.length;g++){let b=l[g];if(u===0){if(b===a&&(r||l.slice(g,g+s)===t)){c.push(l.slice(d,g)),d=g+s;continue}if(b==="/"){f=g;continue}}b==="["?u++:b==="]"&&u--}const p=c.length===0?l:l.substring(d),h=p.startsWith(UT),x=h?p.substring(1):p,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:h,baseClassName:x,maybePostfixModifierPosition:m}};return n?l=>n({className:l,parseClassName:o}):o},g8=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},x8=e=>({cache:h8(e.cacheSize),parseClassName:v8(e),...u8(e)}),y8=/\s+/,b8=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=t,s=[],o=e.trim().split(y8);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:h}=n(u);let x=!!h,m=r(x?p.substring(0,h):p);if(!m){if(!x){l=u+(l.length>0?" "+l:l);continue}if(m=r(p),!m){l=u+(l.length>0?" "+l:l);continue}x=!1}const g=g8(d).join(":"),b=f?g+UT:g,v=b+m;if(s.includes(v))continue;s.push(v);const y=a(m,x);for(let w=0;w<y.length;++w){const j=y[w];s.push(b+j)}l=u+(l.length>0?" "+l:l)}return l};function j8(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=VT(t))&&(r&&(r+=" "),r+=n);return r}const VT=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=VT(e[r]))&&(n&&(n+=" "),n+=t);return n};function w8(e,...t){let n,r,a,s=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return n=x8(u),r=n.cache.get,a=n.cache.set,s=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=b8(c,n);return a(c,d),d}return function(){return s(j8.apply(null,arguments))}}const Bt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},HT=/^\[(?:([a-z-]+):)?(.+)\]$/i,N8=/^\d+\/\d+$/,S8=new Set(["px","full","screen"]),C8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,E8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,A8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,k8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ia=e=>Dl(e)||S8.has(e)||N8.test(e),Wa=e=>iu(e,"length",D8),Dl=e=>!!e&&!Number.isNaN(Number(e)),Rx=e=>iu(e,"number",Dl),Ou=e=>!!e&&Number.isInteger(Number(e)),O8=e=>e.endsWith("%")&&Dl(e.slice(0,-1)),pt=e=>HT.test(e),Ga=e=>C8.test(e),P8=new Set(["length","size","percentage"]),T8=e=>iu(e,P8,WT),I8=e=>iu(e,"position",WT),R8=new Set(["image","url"]),$8=e=>iu(e,R8,L8),M8=e=>iu(e,"",F8),Pu=()=>!0,iu=(e,t,n)=>{const r=HT.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},D8=e=>E8.test(e)&&!A8.test(e),WT=()=>!1,F8=e=>k8.test(e),L8=e=>_8.test(e),q8=()=>{const e=Bt("colors"),t=Bt("spacing"),n=Bt("blur"),r=Bt("brightness"),a=Bt("borderColor"),s=Bt("borderRadius"),o=Bt("borderSpacing"),l=Bt("borderWidth"),c=Bt("contrast"),u=Bt("grayscale"),d=Bt("hueRotate"),f=Bt("invert"),p=Bt("gap"),h=Bt("gradientColorStops"),x=Bt("gradientColorStopPositions"),m=Bt("inset"),g=Bt("margin"),b=Bt("opacity"),v=Bt("padding"),y=Bt("saturate"),w=Bt("scale"),j=Bt("sepia"),S=Bt("skew"),C=Bt("space"),E=Bt("translate"),k=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",pt,t],T=()=>[pt,t],P=()=>["",ia,Wa],I=()=>["auto",Dl,pt],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],R=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",pt],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[Dl,pt];return{cacheSize:500,separator:":",theme:{colors:[Pu],spacing:[ia,Wa],blur:["none","",Ga,pt],brightness:Z(),borderColor:[e],borderRadius:["none","","full",Ga,pt],borderSpacing:T(),borderWidth:P(),contrast:Z(),grayscale:B(),hueRotate:Z(),invert:B(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[O8,Wa],inset:O(),margin:O(),opacity:Z(),padding:T(),saturate:Z(),scale:Z(),sepia:B(),skew:Z(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",pt]}],container:["container"],columns:[{columns:[Ga]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),pt]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ou,pt]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pt]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",Ou,pt]}],"grid-cols":[{"grid-cols":[Pu]}],"col-start-end":[{col:["auto",{span:["full",Ou,pt]},pt]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[Pu]}],"row-start-end":[{row:["auto",{span:[Ou,pt]},pt]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pt]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",pt,t]}],"min-w":[{"min-w":[pt,t,"min","max","fit"]}],"max-w":[{"max-w":[pt,t,"none","full","min","max","fit","prose",{screen:[Ga]},Ga]}],h:[{h:[pt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[pt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[pt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[pt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ga,Wa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Rx]}],"font-family":[{font:[Pu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pt]}],"line-clamp":[{"line-clamp":["none",Dl,Rx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ia,pt]}],"list-image":[{"list-image":["none",pt]}],"list-style-type":[{list:["none","disc","decimal",pt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...R(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ia,Wa]}],"underline-offset":[{"underline-offset":["auto",ia,pt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),I8]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",T8]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$8]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...R(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:R()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...R()]}],"outline-offset":[{"outline-offset":[ia,pt]}],"outline-w":[{outline:[ia,Wa]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[ia,Wa]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ga,M8]}],"shadow-color":[{shadow:[Pu]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ga,pt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[y]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pt]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",pt]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",pt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Ou,pt]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ia,Wa,Rx]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},z8=w8(q8);function Le(...e){return z8(ht(e))}const B8=z6,GT=N.forwardRef(({className:e,...t},n)=>i.jsx(CT,{ref:n,className:Le("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));GT.displayName=CT.displayName;const U8=Kf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),KT=N.forwardRef(({className:e,variant:t,...n},r)=>i.jsx(ET,{ref:r,className:Le(U8({variant:t}),e),...n}));KT.displayName=ET.displayName;const V8=N.forwardRef(({className:e,...t},n)=>i.jsx(_T,{ref:n,className:Le("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));V8.displayName=_T.displayName;const YT=N.forwardRef(({className:e,...t},n)=>i.jsx(OT,{ref:n,className:Le("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(yc,{className:"h-4 w-4"})}));YT.displayName=OT.displayName;const QT=N.forwardRef(({className:e,...t},n)=>i.jsx(AT,{ref:n,className:Le("text-sm font-semibold",e),...t}));QT.displayName=AT.displayName;const XT=N.forwardRef(({className:e,...t},n)=>i.jsx(kT,{ref:n,className:Le("text-sm opacity-90",e),...t}));XT.displayName=kT.displayName;function H8(){const{toasts:e}=Cn();return i.jsxs(B8,{children:[e.map(function({id:t,title:n,description:r,action:a,...s}){return i.jsxs(KT,{...s,children:[i.jsxs("div",{className:"grid gap-1",children:[n&&i.jsx(QT,{children:n}),r&&i.jsx(XT,{children:r})]}),a,i.jsx(YT,{})]},t)}),i.jsx(GT,{})]})}var W8=Lj[" useId ".trim().toString()]||(()=>{}),G8=0;function Ss(e){const[t,n]=N.useState(W8());return xn(()=>{e||n(r=>r??String(G8++))},[e]),e||(t?`radix-${t}`:"")}const K8=["top","right","bottom","left"],Os=Math.min,Nr=Math.max,Ym=Math.round,Tp=Math.floor,Vi=e=>({x:e,y:e}),Y8={left:"right",right:"left",bottom:"top",top:"bottom"},Q8={start:"end",end:"start"};function L0(e,t,n){return Nr(e,Os(t,n))}function Ta(e,t){return typeof e=="function"?e(t):e}function Ia(e){return e.split("-")[0]}function au(e){return e.split("-")[1]}function Uw(e){return e==="x"?"y":"x"}function Vw(e){return e==="y"?"height":"width"}function Ps(e){return["top","bottom"].includes(Ia(e))?"y":"x"}function Hw(e){return Uw(Ps(e))}function X8(e,t,n){n===void 0&&(n=!1);const r=au(e),a=Hw(e),s=Vw(a);let o=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=Qm(o)),[o,Qm(o)]}function Z8(e){const t=Qm(e);return[q0(e),t,q0(t)]}function q0(e){return e.replace(/start|end/g,t=>Q8[t])}function J8(e,t,n){const r=["left","right"],a=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?a:r:t?r:a;case"left":case"right":return t?s:o;default:return[]}}function ez(e,t,n,r){const a=au(e);let s=J8(Ia(e),n==="start",r);return a&&(s=s.map(o=>o+"-"+a),t&&(s=s.concat(s.map(q0)))),s}function Qm(e){return e.replace(/left|right|bottom|top/g,t=>Y8[t])}function tz(e){return{top:0,right:0,bottom:0,left:0,...e}}function ZT(e){return typeof e!="number"?tz(e):{top:e,right:e,bottom:e,left:e}}function Xm(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function vC(e,t,n){let{reference:r,floating:a}=e;const s=Ps(t),o=Hw(t),l=Vw(o),c=Ia(t),u=s==="y",d=r.x+r.width/2-a.width/2,f=r.y+r.height/2-a.height/2,p=r[l]/2-a[l]/2;let h;switch(c){case"top":h={x:d,y:r.y-a.height};break;case"bottom":h={x:d,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-a.width,y:f};break;default:h={x:r.x,y:r.y}}switch(au(t)){case"start":h[o]-=p*(n&&u?-1:1);break;case"end":h[o]+=p*(n&&u?-1:1);break}return h}const nz=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=vC(u,r,c),p=r,h={},x=0;for(let m=0;m<l.length;m++){const{name:g,fn:b}=l[m],{x:v,y,data:w,reset:j}=await b({x:d,y:f,initialPlacement:r,placement:p,strategy:a,middlewareData:h,rects:u,platform:o,elements:{reference:e,floating:t}});d=v??d,f=y??f,h={...h,[g]:{...h[g],...w}},j&&x<=50&&(x++,typeof j=="object"&&(j.placement&&(p=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):j.rects),{x:d,y:f}=vC(u,p,c)),m=-1)}return{x:d,y:f,placement:p,strategy:a,middlewareData:h}};async function Ld(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:s,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:h=0}=Ta(t,e),x=ZT(h),g=l[p?f==="floating"?"reference":"floating":f],b=Xm(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(g)))==null||n?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:r,y:a,width:o.floating.width,height:o.floating.height}:o.reference,y=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),w=await(s.isElement==null?void 0:s.isElement(y))?await(s.getScale==null?void 0:s.getScale(y))||{x:1,y:1}:{x:1,y:1},j=Xm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:y,strategy:c}):v);return{top:(b.top-j.top+x.top)/w.y,bottom:(j.bottom-b.bottom+x.bottom)/w.y,left:(b.left-j.left+x.left)/w.x,right:(j.right-b.right+x.right)/w.x}}const rz=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:s,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Ta(e,t)||{};if(u==null)return{};const f=ZT(d),p={x:n,y:r},h=Hw(a),x=Vw(h),m=await o.getDimensions(u),g=h==="y",b=g?"top":"left",v=g?"bottom":"right",y=g?"clientHeight":"clientWidth",w=s.reference[x]+s.reference[h]-p[h]-s.floating[x],j=p[h]-s.reference[h],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=S?S[y]:0;(!C||!await(o.isElement==null?void 0:o.isElement(S)))&&(C=l.floating[y]||s.floating[x]);const E=w/2-j/2,k=C/2-m[x]/2-1,$=Os(f[b],k),O=Os(f[v],k),T=$,P=C-m[x]-O,I=C/2-m[x]/2+E,D=L0(T,I,P),R=!c.arrow&&au(a)!=null&&I!==D&&s.reference[x]/2-(I<T?$:O)-m[x]/2<0,V=R?I<T?I-T:I-P:0;return{[h]:p[h]+V,data:{[h]:D,centerOffset:I-D-V,...R&&{alignmentOffset:V}},reset:R}}}),iz=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:m=!0,...g}=Ta(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const b=Ia(a),v=Ps(l),y=Ia(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=p||(y||!m?[Qm(l)]:Z8(l)),S=x!=="none";!p&&S&&j.push(...ez(l,m,x,w));const C=[l,...j],E=await Ld(t,g),k=[];let $=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&k.push(E[b]),f){const I=X8(a,o,w);k.push(E[I[0]],E[I[1]])}if($=[...$,{placement:a,overflows:k}],!k.every(I=>I<=0)){var O,T;const I=(((O=s.flip)==null?void 0:O.index)||0)+1,D=C[I];if(D)return{data:{index:I,overflows:$},reset:{placement:D}};let R=(T=$.filter(V=>V.overflows[0]<=0).sort((V,q)=>V.overflows[1]-q.overflows[1])[0])==null?void 0:T.placement;if(!R)switch(h){case"bestFit":{var P;const V=(P=$.filter(q=>{if(S){const B=Ps(q.placement);return B===v||B==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(B=>B>0).reduce((B,W)=>B+W,0)]).sort((q,B)=>q[1]-B[1])[0])==null?void 0:P[0];V&&(R=V);break}case"initialPlacement":R=l;break}if(a!==R)return{reset:{placement:R}}}return{}}}};function gC(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function xC(e){return K8.some(t=>e[t]>=0)}const az=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=Ta(e,t);switch(r){case"referenceHidden":{const s=await Ld(t,{...a,elementContext:"reference"}),o=gC(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:xC(o)}}}case"escaped":{const s=await Ld(t,{...a,altBoundary:!0}),o=gC(s,n.floating);return{data:{escapedOffsets:o,escaped:xC(o)}}}default:return{}}}}};async function sz(e,t){const{placement:n,platform:r,elements:a}=e,s=await(r.isRTL==null?void 0:r.isRTL(a.floating)),o=Ia(n),l=au(n),c=Ps(n)==="y",u=["left","top"].includes(o)?-1:1,d=s&&c?-1:1,f=Ta(t,e);let{mainAxis:p,crossAxis:h,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(h=l==="end"?x*-1:x),c?{x:h*d,y:p*u}:{x:p*u,y:h*d}}const oz=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:s,placement:o,middlewareData:l}=t,c=await sz(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:o}}}}},lz=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:g=>{let{x:b,y:v}=g;return{x:b,y:v}}},...c}=Ta(e,t),u={x:n,y:r},d=await Ld(t,c),f=Ps(Ia(a)),p=Uw(f);let h=u[p],x=u[f];if(s){const g=p==="y"?"top":"left",b=p==="y"?"bottom":"right",v=h+d[g],y=h-d[b];h=L0(v,h,y)}if(o){const g=f==="y"?"top":"left",b=f==="y"?"bottom":"right",v=x+d[g],y=x-d[b];x=L0(v,x,y)}const m=l.fn({...t,[p]:h,[f]:x});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[p]:s,[f]:o}}}}}},cz=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:s,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ta(e,t),d={x:n,y:r},f=Ps(a),p=Uw(f);let h=d[p],x=d[f];const m=Ta(l,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const y=p==="y"?"height":"width",w=s.reference[p]-s.floating[y]+g.mainAxis,j=s.reference[p]+s.reference[y]-g.mainAxis;h<w?h=w:h>j&&(h=j)}if(u){var b,v;const y=p==="y"?"width":"height",w=["top","left"].includes(Ia(a)),j=s.reference[f]-s.floating[y]+(w&&((b=o.offset)==null?void 0:b[f])||0)+(w?0:g.crossAxis),S=s.reference[f]+s.reference[y]+(w?0:((v=o.offset)==null?void 0:v[f])||0)-(w?g.crossAxis:0);x<j?x=j:x>S&&(x=S)}return{[p]:h,[f]:x}}}},uz=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:s,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Ta(e,t),d=await Ld(t,u),f=Ia(a),p=au(a),h=Ps(a)==="y",{width:x,height:m}=s.floating;let g,b;f==="top"||f==="bottom"?(g=f,b=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,g=p==="end"?"top":"bottom");const v=m-d.top-d.bottom,y=x-d.left-d.right,w=Os(m-d[g],v),j=Os(x-d[b],y),S=!t.middlewareData.shift;let C=w,E=j;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(E=y),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=v),S&&!p){const $=Nr(d.left,0),O=Nr(d.right,0),T=Nr(d.top,0),P=Nr(d.bottom,0);h?E=x-2*($!==0||O!==0?$+O:Nr(d.left,d.right)):C=m-2*(T!==0||P!==0?T+P:Nr(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:C});const k=await o.getDimensions(l.floating);return x!==k.width||m!==k.height?{reset:{rects:!0}}:{}}}};function zv(){return typeof window<"u"}function su(e){return JT(e)?(e.nodeName||"").toLowerCase():"#document"}function _r(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ji(e){var t;return(t=(JT(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function JT(e){return zv()?e instanceof Node||e instanceof _r(e).Node:!1}function bi(e){return zv()?e instanceof Element||e instanceof _r(e).Element:!1}function Yi(e){return zv()?e instanceof HTMLElement||e instanceof _r(e).HTMLElement:!1}function yC(e){return!zv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof _r(e).ShadowRoot}function Xf(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=ji(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(a)}function dz(e){return["table","td","th"].includes(su(e))}function Bv(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Ww(e){const t=Gw(),n=bi(e)?ji(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function fz(e){let t=Ts(e);for(;Yi(t)&&!bc(t);){if(Ww(t))return t;if(Bv(t))return null;t=Ts(t)}return null}function Gw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function bc(e){return["html","body","#document"].includes(su(e))}function ji(e){return _r(e).getComputedStyle(e)}function Uv(e){return bi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ts(e){if(su(e)==="html")return e;const t=e.assignedSlot||e.parentNode||yC(e)&&e.host||Ji(e);return yC(t)?t.host:t}function eI(e){const t=Ts(e);return bc(t)?e.ownerDocument?e.ownerDocument.body:e.body:Yi(t)&&Xf(t)?t:eI(t)}function qd(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=eI(e),s=a===((r=e.ownerDocument)==null?void 0:r.body),o=_r(a);if(s){const l=z0(o);return t.concat(o,o.visualViewport||[],Xf(a)?a:[],l&&n?qd(l):[])}return t.concat(a,qd(a,[],n))}function z0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function tI(e){const t=ji(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Yi(e),s=a?e.offsetWidth:n,o=a?e.offsetHeight:r,l=Ym(n)!==s||Ym(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function Kw(e){return bi(e)?e:e.contextElement}function Fl(e){const t=Kw(e);if(!Yi(t))return Vi(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:s}=tI(t);let o=(s?Ym(n.width):n.width)/r,l=(s?Ym(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const pz=Vi(0);function nI(e){const t=_r(e);return!Gw()||!t.visualViewport?pz:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function mz(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==_r(e)?!1:t}function To(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),s=Kw(e);let o=Vi(1);t&&(r?bi(r)&&(o=Fl(r)):o=Fl(e));const l=mz(s,n,r)?nI(s):Vi(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(s){const p=_r(s),h=r&&bi(r)?_r(r):r;let x=p,m=z0(x);for(;m&&r&&h!==x;){const g=Fl(m),b=m.getBoundingClientRect(),v=ji(m),y=b.left+(m.clientLeft+parseFloat(v.paddingLeft))*g.x,w=b.top+(m.clientTop+parseFloat(v.paddingTop))*g.y;c*=g.x,u*=g.y,d*=g.x,f*=g.y,c+=y,u+=w,x=_r(m),m=z0(x)}}return Xm({width:d,height:f,x:c,y:u})}function Yw(e,t){const n=Uv(e).scrollLeft;return t?t.left+n:To(Ji(e)).left+n}function rI(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-(n?0:Yw(e,r)),s=r.top+t.scrollTop;return{x:a,y:s}}function hz(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const s=a==="fixed",o=Ji(r),l=t?Bv(t.floating):!1;if(r===o||l&&s)return n;let c={scrollLeft:0,scrollTop:0},u=Vi(1);const d=Vi(0),f=Yi(r);if((f||!f&&!s)&&((su(r)!=="body"||Xf(o))&&(c=Uv(r)),Yi(r))){const h=To(r);u=Fl(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}const p=o&&!f&&!s?rI(o,c,!0):Vi(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-c.scrollTop*u.y+d.y+p.y}}function vz(e){return Array.from(e.getClientRects())}function gz(e){const t=Ji(e),n=Uv(e),r=e.ownerDocument.body,a=Nr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Nr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Yw(e);const l=-n.scrollTop;return ji(r).direction==="rtl"&&(o+=Nr(t.clientWidth,r.clientWidth)-a),{width:a,height:s,x:o,y:l}}function xz(e,t){const n=_r(e),r=Ji(e),a=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,c=0;if(a){s=a.width,o=a.height;const u=Gw();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:s,height:o,x:l,y:c}}function yz(e,t){const n=To(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,s=Yi(e)?Fl(e):Vi(1),o=e.clientWidth*s.x,l=e.clientHeight*s.y,c=a*s.x,u=r*s.y;return{width:o,height:l,x:c,y:u}}function bC(e,t,n){let r;if(t==="viewport")r=xz(e,n);else if(t==="document")r=gz(Ji(e));else if(bi(t))r=yz(t,n);else{const a=nI(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Xm(r)}function iI(e,t){const n=Ts(e);return n===t||!bi(n)||bc(n)?!1:ji(n).position==="fixed"||iI(n,t)}function bz(e,t){const n=t.get(e);if(n)return n;let r=qd(e,[],!1).filter(l=>bi(l)&&su(l)!=="body"),a=null;const s=ji(e).position==="fixed";let o=s?Ts(e):e;for(;bi(o)&&!bc(o);){const l=ji(o),c=Ww(o);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Xf(o)&&!c&&iI(e,o))?r=r.filter(d=>d!==o):a=l,o=Ts(o)}return t.set(e,r),r}function jz(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const o=[...n==="clippingAncestors"?Bv(t)?[]:bz(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const f=bC(t,d,a);return u.top=Nr(f.top,u.top),u.right=Os(f.right,u.right),u.bottom=Os(f.bottom,u.bottom),u.left=Nr(f.left,u.left),u},bC(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function wz(e){const{width:t,height:n}=tI(e);return{width:t,height:n}}function Nz(e,t,n){const r=Yi(t),a=Ji(t),s=n==="fixed",o=To(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=Vi(0);if(r||!r&&!s)if((su(t)!=="body"||Xf(a))&&(l=Uv(t)),r){const p=To(t,!0,s,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&(c.x=Yw(a));const u=a&&!r&&!s?rI(a,l):Vi(0),d=o.left+l.scrollLeft-c.x-u.x,f=o.top+l.scrollTop-c.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function $x(e){return ji(e).position==="static"}function jC(e,t){if(!Yi(e)||ji(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ji(e)===n&&(n=n.ownerDocument.body),n}function aI(e,t){const n=_r(e);if(Bv(e))return n;if(!Yi(e)){let a=Ts(e);for(;a&&!bc(a);){if(bi(a)&&!$x(a))return a;a=Ts(a)}return n}let r=jC(e,t);for(;r&&dz(r)&&$x(r);)r=jC(r,t);return r&&bc(r)&&$x(r)&&!Ww(r)?n:r||fz(e)||n}const Sz=async function(e){const t=this.getOffsetParent||aI,n=this.getDimensions,r=await n(e.floating);return{reference:Nz(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Cz(e){return ji(e).direction==="rtl"}const Ez={convertOffsetParentRelativeRectToViewportRelativeRect:hz,getDocumentElement:Ji,getClippingRect:jz,getOffsetParent:aI,getElementRects:Sz,getClientRects:vz,getDimensions:wz,getScale:Fl,isElement:bi,isRTL:Cz};function sI(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Az(e,t){let n=null,r;const a=Ji(e);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:p,height:h}=u;if(l||t(),!p||!h)return;const x=Tp(f),m=Tp(a.clientWidth-(d+p)),g=Tp(a.clientHeight-(f+h)),b=Tp(d),y={rootMargin:-x+"px "+-m+"px "+-g+"px "+-b+"px",threshold:Nr(0,Os(1,c))||1};let w=!0;function j(S){const C=S[0].intersectionRatio;if(C!==c){if(!w)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!sI(u,e.getBoundingClientRect())&&o(),w=!1}try{n=new IntersectionObserver(j,{...y,root:a.ownerDocument})}catch{n=new IntersectionObserver(j,y)}n.observe(e)}return o(!0),s}function kz(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Kw(e),d=a||s?[...u?qd(u):[],...qd(t)]:[];d.forEach(b=>{a&&b.addEventListener("scroll",n,{passive:!0}),s&&b.addEventListener("resize",n)});const f=u&&l?Az(u,n):null;let p=-1,h=null;o&&(h=new ResizeObserver(b=>{let[v]=b;v&&v.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var y;(y=h)==null||y.observe(t)})),n()}),u&&!c&&h.observe(u),h.observe(t));let x,m=c?To(e):null;c&&g();function g(){const b=To(e);m&&!sI(m,b)&&n(),m=b,x=requestAnimationFrame(g)}return n(),()=>{var b;d.forEach(v=>{a&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),f==null||f(),(b=h)==null||b.disconnect(),h=null,c&&cancelAnimationFrame(x)}}const _z=oz,Oz=lz,Pz=iz,Tz=uz,Iz=az,wC=rz,Rz=cz,$z=(e,t,n)=>{const r=new Map,a={platform:Ez,...n},s={...a.platform,_c:r};return nz(e,t,{...a,platform:s})};var vm=typeof document<"u"?N.useLayoutEffect:N.useEffect;function Zm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Zm(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const s=a[r];if(!(s==="_owner"&&e.$$typeof)&&!Zm(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function oI(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function NC(e,t){const n=oI(e);return Math.round(t*n)/n}function Mx(e){const t=N.useRef(e);return vm(()=>{t.current=e}),t}function Mz(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=N.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,h]=N.useState(r);Zm(p,r)||h(r);const[x,m]=N.useState(null),[g,b]=N.useState(null),v=N.useCallback(q=>{q!==S.current&&(S.current=q,m(q))},[]),y=N.useCallback(q=>{q!==C.current&&(C.current=q,b(q))},[]),w=s||x,j=o||g,S=N.useRef(null),C=N.useRef(null),E=N.useRef(d),k=c!=null,$=Mx(c),O=Mx(a),T=Mx(u),P=N.useCallback(()=>{if(!S.current||!C.current)return;const q={placement:t,strategy:n,middleware:p};O.current&&(q.platform=O.current),$z(S.current,C.current,q).then(B=>{const W={...B,isPositioned:T.current!==!1};I.current&&!Zm(E.current,W)&&(E.current=W,Ho.flushSync(()=>{f(W)}))})},[p,t,n,O,T]);vm(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(q=>({...q,isPositioned:!1})))},[u]);const I=N.useRef(!1);vm(()=>(I.current=!0,()=>{I.current=!1}),[]),vm(()=>{if(w&&(S.current=w),j&&(C.current=j),w&&j){if($.current)return $.current(w,j,P);P()}},[w,j,P,$,k]);const D=N.useMemo(()=>({reference:S,floating:C,setReference:v,setFloating:y}),[v,y]),R=N.useMemo(()=>({reference:w,floating:j}),[w,j]),V=N.useMemo(()=>{const q={position:n,left:0,top:0};if(!R.floating)return q;const B=NC(R.floating,d.x),W=NC(R.floating,d.y);return l?{...q,transform:"translate("+B+"px, "+W+"px)",...oI(R.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:W}},[n,l,R.floating,d.x,d.y]);return N.useMemo(()=>({...d,update:P,refs:D,elements:R,floatingStyles:V}),[d,P,D,R,V])}const Dz=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?wC({element:r.current,padding:a}).fn(n):{}:r?wC({element:r,padding:a}).fn(n):{}}}},Fz=(e,t)=>({..._z(e),options:[e,t]}),Lz=(e,t)=>({...Oz(e),options:[e,t]}),qz=(e,t)=>({...Rz(e),options:[e,t]}),zz=(e,t)=>({...Pz(e),options:[e,t]}),Bz=(e,t)=>({...Tz(e),options:[e,t]}),Uz=(e,t)=>({...Iz(e),options:[e,t]}),Vz=(e,t)=>({...Dz(e),options:[e,t]});var Hz="Arrow",lI=N.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...s}=e;return i.jsx(rt.svg,{...s,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});lI.displayName=Hz;var Wz=lI;function cI(e){const[t,n]=N.useState(void 0);return xn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Qw="Popper",[uI,Vv]=Ni(Qw),[Gz,dI]=uI(Qw),fI=e=>{const{__scopePopper:t,children:n}=e,[r,a]=N.useState(null);return i.jsx(Gz,{scope:t,anchor:r,onAnchorChange:a,children:n})};fI.displayName=Qw;var pI="PopperAnchor",mI=N.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,s=dI(pI,n),o=N.useRef(null),l=St(t,o);return N.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:i.jsx(rt.div,{...a,ref:l})});mI.displayName=pI;var Xw="PopperContent",[Kz,Yz]=uI(Xw),hI=N.forwardRef((e,t)=>{var xe,Re,le,ce,me,Y;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:h="optimized",onPlaced:x,...m}=e,g=dI(Xw,n),[b,v]=N.useState(null),y=St(t,Ie=>v(Ie)),[w,j]=N.useState(null),S=cI(w),C=(S==null?void 0:S.width)??0,E=(S==null?void 0:S.height)??0,k=r+(s!=="center"?"-"+s:""),$=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],T=O.length>0,P={padding:$,boundary:O.filter(Xz),altBoundary:T},{refs:I,floatingStyles:D,placement:R,isPositioned:V,middlewareData:q}=Mz({strategy:"fixed",placement:k,whileElementsMounted:(...Ie)=>kz(...Ie,{animationFrame:h==="always"}),elements:{reference:g.anchor},middleware:[Fz({mainAxis:a+E,alignmentAxis:o}),c&&Lz({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?qz():void 0,...P}),c&&zz({...P}),Bz({...P,apply:({elements:Ie,rects:Ne,availableWidth:Q,availableHeight:de})=>{const{width:ye,height:Fe}=Ne.reference,Be=Ie.floating.style;Be.setProperty("--radix-popper-available-width",`${Q}px`),Be.setProperty("--radix-popper-available-height",`${de}px`),Be.setProperty("--radix-popper-anchor-width",`${ye}px`),Be.setProperty("--radix-popper-anchor-height",`${Fe}px`)}}),w&&Vz({element:w,padding:l}),Zz({arrowWidth:C,arrowHeight:E}),p&&Uz({strategy:"referenceHidden",...P})]}),[B,W]=xI(R),Z=dn(x);xn(()=>{V&&(Z==null||Z())},[V,Z]);const te=(xe=q.arrow)==null?void 0:xe.x,fe=(Re=q.arrow)==null?void 0:Re.y,Ae=((le=q.arrow)==null?void 0:le.centerOffset)!==0,[He,ze]=N.useState();return xn(()=>{b&&ze(window.getComputedStyle(b).zIndex)},[b]),i.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:V?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:He,"--radix-popper-transform-origin":[(ce=q.transformOrigin)==null?void 0:ce.x,(me=q.transformOrigin)==null?void 0:me.y].join(" "),...((Y=q.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(Kz,{scope:n,placedSide:B,onArrowChange:j,arrowX:te,arrowY:fe,shouldHideArrow:Ae,children:i.jsx(rt.div,{"data-side":B,"data-align":W,...m,ref:y,style:{...m.style,animation:V?void 0:"none"}})})})});hI.displayName=Xw;var vI="PopperArrow",Qz={top:"bottom",right:"left",bottom:"top",left:"right"},gI=N.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,s=Yz(vI,r),o=Qz[s.placedSide];return i.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:i.jsx(Wz,{...a,ref:n,style:{...a.style,display:"block"}})})});gI.displayName=vI;function Xz(e){return e!==null}var Zz=e=>({name:"transformOrigin",options:e,fn(t){var g,b,v;const{placement:n,rects:r,middlewareData:a}=t,o=((g=a.arrow)==null?void 0:g.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=xI(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((b=a.arrow)==null?void 0:b.x)??0)+l/2,h=(((v=a.arrow)==null?void 0:v.y)??0)+c/2;let x="",m="";return u==="bottom"?(x=o?f:`${p}px`,m=`${-c}px`):u==="top"?(x=o?f:`${p}px`,m=`${r.floating.height+c}px`):u==="right"?(x=`${-c}px`,m=o?f:`${h}px`):u==="left"&&(x=`${r.floating.width+c}px`,m=o?f:`${h}px`),{data:{x,y:m}}}});function xI(e){const[t,n="center"]=e.split("-");return[t,n]}var Jz=fI,yI=mI,bI=hI,jI=gI,[Hv,Y0e]=Ni("Tooltip",[Vv]),Zw=Vv(),wI="TooltipProvider",eB=700,SC="tooltip.open",[tB,NI]=Hv(wI),SI=e=>{const{__scopeTooltip:t,delayDuration:n=eB,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:s}=e,o=N.useRef(!0),l=N.useRef(!1),c=N.useRef(0);return N.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),i.jsx(tB,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:N.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:N.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:N.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:s})};SI.displayName=wI;var CI="Tooltip",[Q0e,Wv]=Hv(CI),B0="TooltipTrigger",nB=N.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=Wv(B0,n),s=NI(B0,n),o=Zw(n),l=N.useRef(null),c=St(t,l,a.onTriggerChange),u=N.useRef(!1),d=N.useRef(!1),f=N.useCallback(()=>u.current=!1,[]);return N.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),i.jsx(yI,{asChild:!0,...o,children:i.jsx(rt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:Me(e.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:Me(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:Me(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Me(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:Me(e.onBlur,a.onClose),onClick:Me(e.onClick,a.onClose)})})});nB.displayName=B0;var rB="TooltipPortal",[X0e,iB]=Hv(rB,{forceMount:void 0}),jc="TooltipContent",EI=N.forwardRef((e,t)=>{const n=iB(jc,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...s}=e,o=Wv(jc,e.__scopeTooltip);return i.jsx(Si,{present:r||o.open,children:o.disableHoverableContent?i.jsx(AI,{side:a,...s,ref:t}):i.jsx(aB,{side:a,...s,ref:t})})}),aB=N.forwardRef((e,t)=>{const n=Wv(jc,e.__scopeTooltip),r=NI(jc,e.__scopeTooltip),a=N.useRef(null),s=St(t,a),[o,l]=N.useState(null),{trigger:c,onClose:u}=n,d=a.current,{onPointerInTransitChange:f}=r,p=N.useCallback(()=>{l(null),f(!1)},[f]),h=N.useCallback((x,m)=>{const g=x.currentTarget,b={x:x.clientX,y:x.clientY},v=uB(b,g.getBoundingClientRect()),y=dB(b,v),w=fB(m.getBoundingClientRect()),j=mB([...y,...w]);l(j),f(!0)},[f]);return N.useEffect(()=>()=>p(),[p]),N.useEffect(()=>{if(c&&d){const x=g=>h(g,d),m=g=>h(g,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",m)}}},[c,d,h,p]),N.useEffect(()=>{if(o){const x=m=>{const g=m.target,b={x:m.clientX,y:m.clientY},v=(c==null?void 0:c.contains(g))||(d==null?void 0:d.contains(g)),y=!pB(b,o);v?p():y&&(p(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,o,u,p]),i.jsx(AI,{...e,ref:s})}),[sB,oB]=Hv(CI,{isInside:!1}),lB=r6("TooltipContent"),AI=N.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=e,c=Wv(jc,n),u=Zw(n),{onClose:d}=c;return N.useEffect(()=>(document.addEventListener(SC,d),()=>document.removeEventListener(SC,d)),[d]),N.useEffect(()=>{if(c.trigger){const f=p=>{const h=p.target;h!=null&&h.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),i.jsx(Wf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:i.jsxs(bI,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(lB,{children:r}),i.jsx(sB,{scope:n,isInside:!0,children:i.jsx(N6,{id:c.contentId,role:"tooltip",children:a||r})})]})})});EI.displayName=jc;var kI="TooltipArrow",cB=N.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=Zw(n);return oB(kI,n).isInside?null:i.jsx(jI,{...a,...r,ref:t})});cB.displayName=kI;function uB(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,a,s)){case s:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function dB(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function fB(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function pB(e,t){const{x:n,y:r}=e;let a=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s].x,c=t[s].y,u=t[o].x,d=t[o].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(a=!a)}return a}function mB(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),hB(t)}function hB(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(a.y-o.y)>=(s.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(a.y-o.y)>=(s.y-o.y)*(a.x-o.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var vB=SI,_I=EI;const gB=vB,xB=N.forwardRef(({className:e,sideOffset:t=4,...n},r)=>i.jsx(_I,{ref:r,sideOffset:t,className:Le("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));xB.displayName=_I.displayName;const yB=Kf("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Qt=N.forwardRef(({className:e,variant:t,...n},r)=>i.jsx("div",{ref:r,role:"alert",className:Le(yB({variant:t}),e),...n}));Qt.displayName="Alert";const bB=N.forwardRef(({className:e,...t},n)=>i.jsx("h5",{ref:n,className:Le("mb-1 font-medium leading-none tracking-tight",e),...t}));bB.displayName="AlertTitle";const Xt=N.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Le("text-sm [&_p]:leading-relaxed",e),...t}));Xt.displayName="AlertDescription";const jB=Kf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),H=N.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...a},s)=>{const o=r?sT:"button";return i.jsx(o,{className:Le(jB({variant:t,size:n,className:e})),ref:s,...a})});H.displayName="Button";const ee=N.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Le("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ee.displayName="Card";const ae=N.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Le("flex flex-col space-y-1.5 p-6",e),...t}));ae.displayName="CardHeader";const se=N.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Le("text-2xl font-semibold leading-none tracking-tight",e),...t}));se.displayName="CardTitle";const yt=N.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Le("text-sm text-muted-foreground",e),...t}));yt.displayName="CardDescription";const re=N.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Le("p-6 pt-0",e),...t}));re.displayName="CardContent";const wB=N.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:Le("flex items-center p-6 pt-0",e),...t}));wB.displayName="CardFooter";class NB extends N.Component{constructor(){super(...arguments),this.state={hasError:!1},this.handleRetry=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})},this.handleGoHome=()=>{window.location.href="/"},this.handleReportError=()=>{var n,r,a;const t={message:(n=this.state.error)==null?void 0:n.message,stack:(r=this.state.error)==null?void 0:r.stack,componentStack:(a=this.state.errorInfo)==null?void 0:a.componentStack,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href};console.log("Error Report:",t),alert("Error details have been logged. Please contact support if the problem persists.")}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("ErrorBoundary caught an error:",t,n),this.setState({error:t,errorInfo:n})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:i.jsxs(ee,{className:"w-full max-w-2xl",children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center gap-2 text-destructive",children:[i.jsx(xt,{className:"h-6 w-6"}),"Something went wrong"]})}),i.jsxs(re,{className:"space-y-4",children:[i.jsxs(Qt,{className:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",children:[i.jsx(xt,{className:"h-4 w-4"}),i.jsx(Xt,{children:"The application encountered an unexpected error. This has been logged for our development team."})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:i.jsx("strong",{children:"What you can do:"})}),i.jsxs("ul",{className:"text-sm text-muted-foreground list-disc list-inside space-y-1",children:[i.jsx("li",{children:"Try refreshing the page or going back to retry the action"}),i.jsx("li",{children:"Return to the home page to start over"}),i.jsx("li",{children:"Contact support if the problem continues"})]})]}),!1,i.jsxs("div",{className:"flex flex-wrap gap-3 pt-4",children:[i.jsxs(H,{onClick:this.handleRetry,className:"flex items-center gap-2",children:[i.jsx(M0,{className:"h-4 w-4"}),"Try Again"]}),i.jsxs(H,{variant:"outline",onClick:this.handleGoHome,className:"flex items-center gap-2",children:[i.jsx(Qf,{className:"h-4 w-4"}),"Go Home"]}),i.jsxs(H,{variant:"outline",onClick:this.handleReportError,className:"flex items-center gap-2",children:[i.jsx(K6,{className:"h-4 w-4"}),"Report Issue"]})]})]})]})}):this.props.children}}const SB=Kf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ne({className:e,variant:t,...n}){return i.jsx("div",{className:Le(SB({variant:t}),e),...n})}var CB=N.createContext(void 0);function Gv(e){const t=N.useContext(CB);return e||t||"ltr"}var Dx="rovingFocusGroup.onEntryFocus",EB={bubbles:!1,cancelable:!0},Kv="RovingFocusGroup",[U0,OI,AB]=Fw(Kv),[kB,PI]=Ni(Kv,[AB]),[_B,OB]=kB(Kv),TI=N.forwardRef((e,t)=>i.jsx(U0.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(U0.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(PB,{...e,ref:t})})}));TI.displayName=Kv;var PB=N.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,p=N.useRef(null),h=St(t,p),x=Gv(s),[m=null,g]=gc({prop:o,defaultProp:l,onChange:c}),[b,v]=N.useState(!1),y=dn(u),w=OI(n),j=N.useRef(!1),[S,C]=N.useState(0);return N.useEffect(()=>{const E=p.current;if(E)return E.addEventListener(Dx,y),()=>E.removeEventListener(Dx,y)},[y]),i.jsx(_B,{scope:n,orientation:r,dir:x,loop:a,currentTabStopId:m,onItemFocus:N.useCallback(E=>g(E),[g]),onItemShiftTab:N.useCallback(()=>v(!0),[]),onFocusableItemAdd:N.useCallback(()=>C(E=>E+1),[]),onFocusableItemRemove:N.useCallback(()=>C(E=>E-1),[]),children:i.jsx(rt.div,{tabIndex:b||S===0?-1:0,"data-orientation":r,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:Me(e.onMouseDown,()=>{j.current=!0}),onFocus:Me(e.onFocus,E=>{const k=!j.current;if(E.target===E.currentTarget&&k&&!b){const $=new CustomEvent(Dx,EB);if(E.currentTarget.dispatchEvent($),!$.defaultPrevented){const O=w().filter(R=>R.focusable),T=O.find(R=>R.active),P=O.find(R=>R.id===m),D=[T,P,...O].filter(Boolean).map(R=>R.ref.current);$I(D,d)}}j.current=!1}),onBlur:Me(e.onBlur,()=>v(!1))})})}),II="RovingFocusGroupItem",RI=N.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:s,...o}=e,l=Ss(),c=s||l,u=OB(II,n),d=u.currentTabStopId===c,f=OI(n),{onFocusableItemAdd:p,onFocusableItemRemove:h}=u;return N.useEffect(()=>{if(r)return p(),()=>h()},[r,p,h]),i.jsx(U0.ItemSlot,{scope:n,id:c,focusable:r,active:a,children:i.jsx(rt.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:Me(e.onMouseDown,x=>{r?u.onItemFocus(c):x.preventDefault()}),onFocus:Me(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:Me(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const m=RB(x,u.orientation,u.dir);if(m!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let b=f().filter(v=>v.focusable).map(v=>v.ref.current);if(m==="last")b.reverse();else if(m==="prev"||m==="next"){m==="prev"&&b.reverse();const v=b.indexOf(x.currentTarget);b=u.loop?$B(b,v+1):b.slice(v+1)}setTimeout(()=>$I(b))}})})})});RI.displayName=II;var TB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function IB(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function RB(e,t,n){const r=IB(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return TB[r]}function $I(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function $B(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var MB=TI,DB=RI,Jw="Tabs",[FB,Z0e]=Ni(Jw,[PI]),MI=PI(),[LB,e1]=FB(Jw),DI=N.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Gv(l),[f,p]=gc({prop:r,onChange:a,defaultProp:s});return i.jsx(LB,{scope:n,baseId:Ss(),value:f,onValueChange:p,orientation:o,dir:d,activationMode:c,children:i.jsx(rt.div,{dir:d,"data-orientation":o,...u,ref:t})})});DI.displayName=Jw;var FI="TabsList",LI=N.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,s=e1(FI,n),o=MI(n);return i.jsx(MB,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:i.jsx(rt.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:t})})});LI.displayName=FI;var qI="TabsTrigger",zI=N.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...s}=e,o=e1(qI,n),l=MI(n),c=VI(o.baseId,r),u=HI(o.baseId,r),d=r===o.value;return i.jsx(DB,{asChild:!0,...l,focusable:!a,active:d,children:i.jsx(rt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...s,ref:t,onMouseDown:Me(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:Me(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:Me(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(r)})})})});zI.displayName=qI;var BI="TabsContent",UI=N.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:s,...o}=e,l=e1(BI,n),c=VI(l.baseId,r),u=HI(l.baseId,r),d=r===l.value,f=N.useRef(d);return N.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),i.jsx(Si,{present:a||d,children:({present:p})=>i.jsx(rt.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:p&&s})})});UI.displayName=BI;function VI(e,t){return`${e}-trigger-${t}`}function HI(e,t){return`${e}-content-${t}`}var qB=DI,WI=LI,GI=zI,KI=UI;const ea=qB,Ci=N.forwardRef(({className:e,...t},n)=>i.jsx(WI,{ref:n,className:Le("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ci.displayName=WI.displayName;const Ze=N.forwardRef(({className:e,...t},n)=>i.jsx(GI,{ref:n,className:Le("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ze.displayName=GI.displayName;const tt=N.forwardRef(({className:e,...t},n)=>i.jsx(KI,{ref:n,className:Le("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));tt.displayName=KI.displayName;var zB=Array.isArray,gr=zB,BB=typeof dp=="object"&&dp&&dp.Object===Object&&dp,YI=BB,UB=YI,VB=typeof self=="object"&&self&&self.Object===Object&&self,HB=UB||VB||Function("return this")(),ta=HB,WB=ta,GB=WB.Symbol,Zf=GB,CC=Zf,QI=Object.prototype,KB=QI.hasOwnProperty,YB=QI.toString,Tu=CC?CC.toStringTag:void 0;function QB(e){var t=KB.call(e,Tu),n=e[Tu];try{e[Tu]=void 0;var r=!0}catch{}var a=YB.call(e);return r&&(t?e[Tu]=n:delete e[Tu]),a}var XB=QB,ZB=Object.prototype,JB=ZB.toString;function eU(e){return JB.call(e)}var tU=eU,EC=Zf,nU=XB,rU=tU,iU="[object Null]",aU="[object Undefined]",AC=EC?EC.toStringTag:void 0;function sU(e){return e==null?e===void 0?aU:iU:AC&&AC in Object(e)?nU(e):rU(e)}var qa=sU;function oU(e){return e!=null&&typeof e=="object"}var za=oU,lU=qa,cU=za,uU="[object Symbol]";function dU(e){return typeof e=="symbol"||cU(e)&&lU(e)==uU}var ou=dU,fU=gr,pU=ou,mU=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hU=/^\w*$/;function vU(e,t){if(fU(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||pU(e)?!0:hU.test(e)||!mU.test(e)||t!=null&&e in Object(t)}var t1=vU;function gU(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var qs=gU;const lu=Ot(qs);var xU=qa,yU=qs,bU="[object AsyncFunction]",jU="[object Function]",wU="[object GeneratorFunction]",NU="[object Proxy]";function SU(e){if(!yU(e))return!1;var t=xU(e);return t==jU||t==wU||t==bU||t==NU}var n1=SU;const et=Ot(n1);var CU=ta,EU=CU["__core-js_shared__"],AU=EU,Fx=AU,kC=function(){var e=/[^.]+$/.exec(Fx&&Fx.keys&&Fx.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function kU(e){return!!kC&&kC in e}var _U=kU,OU=Function.prototype,PU=OU.toString;function TU(e){if(e!=null){try{return PU.call(e)}catch{}try{return e+""}catch{}}return""}var XI=TU,IU=n1,RU=_U,$U=qs,MU=XI,DU=/[\\^$.*+?()[\]{}|]/g,FU=/^\[object .+?Constructor\]$/,LU=Function.prototype,qU=Object.prototype,zU=LU.toString,BU=qU.hasOwnProperty,UU=RegExp("^"+zU.call(BU).replace(DU,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function VU(e){if(!$U(e)||RU(e))return!1;var t=IU(e)?UU:FU;return t.test(MU(e))}var HU=VU;function WU(e,t){return e==null?void 0:e[t]}var GU=WU,KU=HU,YU=GU;function QU(e,t){var n=YU(e,t);return KU(n)?n:void 0}var Go=QU,XU=Go,ZU=XU(Object,"create"),Yv=ZU,_C=Yv;function JU(){this.__data__=_C?_C(null):{},this.size=0}var eV=JU;function tV(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var nV=tV,rV=Yv,iV="__lodash_hash_undefined__",aV=Object.prototype,sV=aV.hasOwnProperty;function oV(e){var t=this.__data__;if(rV){var n=t[e];return n===iV?void 0:n}return sV.call(t,e)?t[e]:void 0}var lV=oV,cV=Yv,uV=Object.prototype,dV=uV.hasOwnProperty;function fV(e){var t=this.__data__;return cV?t[e]!==void 0:dV.call(t,e)}var pV=fV,mV=Yv,hV="__lodash_hash_undefined__";function vV(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=mV&&t===void 0?hV:t,this}var gV=vV,xV=eV,yV=nV,bV=lV,jV=pV,wV=gV;function cu(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}cu.prototype.clear=xV;cu.prototype.delete=yV;cu.prototype.get=bV;cu.prototype.has=jV;cu.prototype.set=wV;var NV=cu;function SV(){this.__data__=[],this.size=0}var CV=SV;function EV(e,t){return e===t||e!==e&&t!==t}var r1=EV,AV=r1;function kV(e,t){for(var n=e.length;n--;)if(AV(e[n][0],t))return n;return-1}var Qv=kV,_V=Qv,OV=Array.prototype,PV=OV.splice;function TV(e){var t=this.__data__,n=_V(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():PV.call(t,n,1),--this.size,!0}var IV=TV,RV=Qv;function $V(e){var t=this.__data__,n=RV(t,e);return n<0?void 0:t[n][1]}var MV=$V,DV=Qv;function FV(e){return DV(this.__data__,e)>-1}var LV=FV,qV=Qv;function zV(e,t){var n=this.__data__,r=qV(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var BV=zV,UV=CV,VV=IV,HV=MV,WV=LV,GV=BV;function uu(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}uu.prototype.clear=UV;uu.prototype.delete=VV;uu.prototype.get=HV;uu.prototype.has=WV;uu.prototype.set=GV;var Xv=uu,KV=Go,YV=ta,QV=KV(YV,"Map"),i1=QV,OC=NV,XV=Xv,ZV=i1;function JV(){this.size=0,this.__data__={hash:new OC,map:new(ZV||XV),string:new OC}}var eH=JV;function tH(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var nH=tH,rH=nH;function iH(e,t){var n=e.__data__;return rH(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Zv=iH,aH=Zv;function sH(e){var t=aH(this,e).delete(e);return this.size-=t?1:0,t}var oH=sH,lH=Zv;function cH(e){return lH(this,e).get(e)}var uH=cH,dH=Zv;function fH(e){return dH(this,e).has(e)}var pH=fH,mH=Zv;function hH(e,t){var n=mH(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var vH=hH,gH=eH,xH=oH,yH=uH,bH=pH,jH=vH;function du(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}du.prototype.clear=gH;du.prototype.delete=xH;du.prototype.get=yH;du.prototype.has=bH;du.prototype.set=jH;var a1=du,ZI=a1,wH="Expected a function";function s1(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(wH);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],s=n.cache;if(s.has(a))return s.get(a);var o=e.apply(this,r);return n.cache=s.set(a,o)||s,o};return n.cache=new(s1.Cache||ZI),n}s1.Cache=ZI;var JI=s1;const NH=Ot(JI);var SH=JI,CH=500;function EH(e){var t=SH(e,function(r){return n.size===CH&&n.clear(),r}),n=t.cache;return t}var AH=EH,kH=AH,_H=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,OH=/\\(\\)?/g,PH=kH(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(_H,function(n,r,a,s){t.push(a?s.replace(OH,"$1"):r||n)}),t}),TH=PH;function IH(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var o1=IH,PC=Zf,RH=o1,$H=gr,MH=ou,DH=1/0,TC=PC?PC.prototype:void 0,IC=TC?TC.toString:void 0;function eR(e){if(typeof e=="string")return e;if($H(e))return RH(e,eR)+"";if(MH(e))return IC?IC.call(e):"";var t=e+"";return t=="0"&&1/e==-DH?"-0":t}var FH=eR,LH=FH;function qH(e){return e==null?"":LH(e)}var tR=qH,zH=gr,BH=t1,UH=TH,VH=tR;function HH(e,t){return zH(e)?e:BH(e,t)?[e]:UH(VH(e))}var nR=HH,WH=ou,GH=1/0;function KH(e){if(typeof e=="string"||WH(e))return e;var t=e+"";return t=="0"&&1/e==-GH?"-0":t}var Jv=KH,YH=nR,QH=Jv;function XH(e,t){t=YH(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[QH(t[n++])];return n&&n==r?e:void 0}var l1=XH,ZH=l1;function JH(e,t,n){var r=e==null?void 0:ZH(e,t);return r===void 0?n:r}var rR=JH;const Or=Ot(rR);function e9(e){return e==null}var t9=e9;const bt=Ot(t9);var n9=qa,r9=gr,i9=za,a9="[object String]";function s9(e){return typeof e=="string"||!r9(e)&&i9(e)&&n9(e)==a9}var o9=s9;const Jf=Ot(o9);var iR={exports:{}},It={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c1=Symbol.for("react.element"),u1=Symbol.for("react.portal"),eg=Symbol.for("react.fragment"),tg=Symbol.for("react.strict_mode"),ng=Symbol.for("react.profiler"),rg=Symbol.for("react.provider"),ig=Symbol.for("react.context"),l9=Symbol.for("react.server_context"),ag=Symbol.for("react.forward_ref"),sg=Symbol.for("react.suspense"),og=Symbol.for("react.suspense_list"),lg=Symbol.for("react.memo"),cg=Symbol.for("react.lazy"),c9=Symbol.for("react.offscreen"),aR;aR=Symbol.for("react.module.reference");function Zr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case c1:switch(e=e.type,e){case eg:case ng:case tg:case sg:case og:return e;default:switch(e=e&&e.$$typeof,e){case l9:case ig:case ag:case cg:case lg:case rg:return e;default:return t}}case u1:return t}}}It.ContextConsumer=ig;It.ContextProvider=rg;It.Element=c1;It.ForwardRef=ag;It.Fragment=eg;It.Lazy=cg;It.Memo=lg;It.Portal=u1;It.Profiler=ng;It.StrictMode=tg;It.Suspense=sg;It.SuspenseList=og;It.isAsyncMode=function(){return!1};It.isConcurrentMode=function(){return!1};It.isContextConsumer=function(e){return Zr(e)===ig};It.isContextProvider=function(e){return Zr(e)===rg};It.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===c1};It.isForwardRef=function(e){return Zr(e)===ag};It.isFragment=function(e){return Zr(e)===eg};It.isLazy=function(e){return Zr(e)===cg};It.isMemo=function(e){return Zr(e)===lg};It.isPortal=function(e){return Zr(e)===u1};It.isProfiler=function(e){return Zr(e)===ng};It.isStrictMode=function(e){return Zr(e)===tg};It.isSuspense=function(e){return Zr(e)===sg};It.isSuspenseList=function(e){return Zr(e)===og};It.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===eg||e===ng||e===tg||e===sg||e===og||e===c9||typeof e=="object"&&e!==null&&(e.$$typeof===cg||e.$$typeof===lg||e.$$typeof===rg||e.$$typeof===ig||e.$$typeof===ag||e.$$typeof===aR||e.getModuleId!==void 0)};It.typeOf=Zr;iR.exports=It;var u9=iR.exports,d9=qa,f9=za,p9="[object Number]";function m9(e){return typeof e=="number"||f9(e)&&d9(e)==p9}var sR=m9;const h9=Ot(sR);var v9=sR;function g9(e){return v9(e)&&e!=+e}var x9=g9;const ep=Ot(x9);var tr=function(t){return t===0?0:t>0?1:-1},ao=function(t){return Jf(t)&&t.indexOf("%")===t.length-1},he=function(t){return h9(t)&&!ep(t)},Sn=function(t){return he(t)||Jf(t)},y9=0,tp=function(t){var n=++y9;return"".concat(t||"").concat(n)},nr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!he(t)&&!Jf(t))return r;var s;if(ao(t)){var o=t.indexOf("%");s=n*parseFloat(t.slice(0,o))/100}else s=+t;return ep(s)&&(s=r),a&&s>n&&(s=n),s},ns=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},b9=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},a=0;a<n;a++)if(!r[t[a]])r[t[a]]=!0;else return!0;return!1},Za=function(t,n){return he(t)&&he(n)?function(r){return t+r*(n-t)}:function(){return n}};function V0(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):Or(r,t))===n})}function Ll(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function H0(e){"@babel/helpers - typeof";return H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H0(e)}var j9=["viewBox","children"],w9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],RC=["points","pathLength"],Lx={svg:j9,polygon:RC,polyline:RC},d1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Jm=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(N.isValidElement(t)&&(r=t.props),!lu(r))return null;var a={};return Object.keys(r).forEach(function(s){d1.includes(s)&&(a[s]=n||function(o){return r[s](r,o)})}),a},N9=function(t,n,r){return function(a){return t(n,r,a),null}},Io=function(t,n,r){if(!lu(t)||H0(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(s){var o=t[s];d1.includes(s)&&typeof o=="function"&&(a||(a={}),a[s]=N9(o,n,r))}),a},S9=["children"],C9=["children"];function $C(e,t){if(e==null)return{};var n=E9(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function E9(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var MC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ja=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},DC=null,qx=null,f1=function e(t){if(t===DC&&Array.isArray(qx))return qx;var n=[];return N.Children.forEach(t,function(r){bt(r)||(u9.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),qx=n,DC=t,n};function Gr(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(a){return ja(a)}):r=[ja(t)],f1(e).forEach(function(a){var s=Or(a,"type.displayName")||Or(a,"type.name");r.indexOf(s)!==-1&&n.push(a)}),n}function jr(e,t){var n=Gr(e,t);return n&&n[0]}var FC=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,a=n.height;return!(!he(r)||r<=0||!he(a)||a<=0)},A9=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],k9=function(t){return t&&t.type&&Jf(t.type)&&A9.indexOf(t.type)>=0},_9=function(t,n,r,a){var s,o=(s=Lx==null?void 0:Lx[a])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!et(t)&&(a&&o.includes(n)||w9.includes(n))||r&&d1.includes(n)},Xe=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(N.isValidElement(t)&&(a=t.props),!lu(a))return null;var s={};return Object.keys(a).forEach(function(o){var l;_9((l=a)===null||l===void 0?void 0:l[o],o,n,r)&&(s[o]=a[o])}),s},W0=function e(t,n){if(t===n)return!0;var r=N.Children.count(t);if(r!==N.Children.count(n))return!1;if(r===0)return!0;if(r===1)return LC(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var a=0;a<r;a++){var s=t[a],o=n[a];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!LC(s,o))return!1}return!0},LC=function(t,n){if(bt(t)&&bt(n))return!0;if(!bt(t)&&!bt(n)){var r=t.props||{},a=r.children,s=$C(r,S9),o=n.props||{},l=o.children,c=$C(o,C9);return a&&l?Ll(s,c)&&W0(a,l):!a&&!l?Ll(s,c):!1}return!1},qC=function(t,n){var r=[],a={};return f1(t).forEach(function(s,o){if(k9(s))r.push(s);else if(s){var l=ja(s.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(s,l,o);r.push(f),a[l]=!0}}}),r},O9=function(t){var n=t&&t.type;return n&&MC[n]?MC[n]:null},P9=function(t,n){return f1(n).indexOf(t)},T9=["children","width","height","viewBox","className","style","title","desc"];function G0(){return G0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G0.apply(this,arguments)}function I9(e,t){if(e==null)return{};var n=R9(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function R9(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function K0(e){var t=e.children,n=e.width,r=e.height,a=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,u=I9(e,T9),d=a||{width:n,height:r,x:0,y:0},f=ht("recharts-surface",s);return F.createElement("svg",G0({},Xe(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),F.createElement("title",null,l),F.createElement("desc",null,c),t)}var $9=["children","className"];function Y0(){return Y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y0.apply(this,arguments)}function M9(e,t){if(e==null)return{};var n=D9(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function D9(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Pt=F.forwardRef(function(e,t){var n=e.children,r=e.className,a=M9(e,$9),s=ht("recharts-layer",r);return F.createElement("g",Y0({className:s},Xe(a,!0),{ref:t}),n)}),gi=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s]};function F9(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(a);++r<a;)s[r]=e[r+t];return s}var L9=F9,q9=L9;function z9(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:q9(e,t,n)}var B9=z9,U9="\\ud800-\\udfff",V9="\\u0300-\\u036f",H9="\\ufe20-\\ufe2f",W9="\\u20d0-\\u20ff",G9=V9+H9+W9,K9="\\ufe0e\\ufe0f",Y9="\\u200d",Q9=RegExp("["+Y9+U9+G9+K9+"]");function X9(e){return Q9.test(e)}var oR=X9;function Z9(e){return e.split("")}var J9=Z9,lR="\\ud800-\\udfff",e7="\\u0300-\\u036f",t7="\\ufe20-\\ufe2f",n7="\\u20d0-\\u20ff",r7=e7+t7+n7,i7="\\ufe0e\\ufe0f",a7="["+lR+"]",Q0="["+r7+"]",X0="\\ud83c[\\udffb-\\udfff]",s7="(?:"+Q0+"|"+X0+")",cR="[^"+lR+"]",uR="(?:\\ud83c[\\udde6-\\uddff]){2}",dR="[\\ud800-\\udbff][\\udc00-\\udfff]",o7="\\u200d",fR=s7+"?",pR="["+i7+"]?",l7="(?:"+o7+"(?:"+[cR,uR,dR].join("|")+")"+pR+fR+")*",c7=pR+fR+l7,u7="(?:"+[cR+Q0+"?",Q0,uR,dR,a7].join("|")+")",d7=RegExp(X0+"(?="+X0+")|"+u7+c7,"g");function f7(e){return e.match(d7)||[]}var p7=f7,m7=J9,h7=oR,v7=p7;function g7(e){return h7(e)?v7(e):m7(e)}var x7=g7,y7=B9,b7=oR,j7=x7,w7=tR;function N7(e){return function(t){t=w7(t);var n=b7(t)?j7(t):void 0,r=n?n[0]:t.charAt(0),a=n?y7(n,1).join(""):t.slice(1);return r[e]()+a}}var S7=N7,C7=S7,E7=C7("toUpperCase"),A7=E7;const ug=Ot(A7);function Lt(e){return function(){return e}}const mR=Math.cos,eh=Math.sin,Ei=Math.sqrt,th=Math.PI,dg=2*th,Z0=Math.PI,J0=2*Z0,Xs=1e-6,k7=J0-Xs;function hR(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function _7(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return hR;const n=10**t;return function(r){this._+=r[0];for(let a=1,s=r.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class O7{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?hR:_7(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,s,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,a,s){if(t=+t,n=+n,r=+r,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=r-t,u=a-n,d=o-t,f=l-n,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>Xs)if(!(Math.abs(f*c-u*d)>Xs)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-o,x=a-l,m=c*c+u*u,g=h*h+x*x,b=Math.sqrt(m),v=Math.sqrt(p),y=s*Math.tan((Z0-Math.acos((m+p-g)/(2*b*v)))/2),w=y/v,j=y/b;Math.abs(w-1)>Xs&&this._append`L${t+w*d},${n+w*f}`,this._append`A${s},${s},0,0,${+(f*h>d*x)},${this._x1=t+j*c},${this._y1=n+j*u}`}}arc(t,n,r,a,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(a),c=r*Math.sin(a),u=t+l,d=n+c,f=1^o,p=o?a-s:s-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Xs||Math.abs(this._y1-d)>Xs)&&this._append`L${u},${d}`,r&&(p<0&&(p=p%J0+J0),p>k7?this._append`A${r},${r},0,1,${f},${t-l},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:p>Xs&&this._append`A${r},${r},0,${+(p>=Z0)},${f},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function p1(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new O7(t)}function m1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function vR(e){this._context=e}vR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function fg(e){return new vR(e)}function gR(e){return e[0]}function xR(e){return e[1]}function yR(e,t){var n=Lt(!0),r=null,a=fg,s=null,o=p1(l);e=typeof e=="function"?e:e===void 0?gR:Lt(e),t=typeof t=="function"?t:t===void 0?xR:Lt(t);function l(c){var u,d=(c=m1(c)).length,f,p=!1,h;for(r==null&&(s=a(h=o())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+e(f,u,c),+t(f,u,c));if(h)return s=null,h+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Lt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Lt(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Lt(!!c),l):n},l.curve=function(c){return arguments.length?(a=c,r!=null&&(s=a(r)),l):a},l.context=function(c){return arguments.length?(c==null?r=s=null:s=a(r=c),l):r},l}function Ip(e,t,n){var r=null,a=Lt(!0),s=null,o=fg,l=null,c=p1(u);e=typeof e=="function"?e:e===void 0?gR:Lt(+e),t=typeof t=="function"?t:Lt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?xR:Lt(+n);function u(f){var p,h,x,m=(f=m1(f)).length,g,b=!1,v,y=new Array(m),w=new Array(m);for(s==null&&(l=o(v=c())),p=0;p<=m;++p){if(!(p<m&&a(g=f[p],p,f))===b)if(b=!b)h=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=p-1;x>=h;--x)l.point(y[x],w[x]);l.lineEnd(),l.areaEnd()}b&&(y[p]=+e(g,p,f),w[p]=+t(g,p,f),l.point(r?+r(g,p,f):y[p],n?+n(g,p,f):w[p]))}if(v)return l=null,v+""||null}function d(){return yR().defined(a).curve(o).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Lt(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Lt(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Lt(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Lt(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Lt(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Lt(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Lt(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),u):s},u}class bR{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function P7(e){return new bR(e,!0)}function T7(e){return new bR(e,!1)}const h1={draw(e,t){const n=Ei(t/th);e.moveTo(n,0),e.arc(0,0,n,0,dg)}},I7={draw(e,t){const n=Ei(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},jR=Ei(1/3),R7=jR*2,$7={draw(e,t){const n=Ei(t/R7),r=n*jR;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},M7={draw(e,t){const n=Ei(t),r=-n/2;e.rect(r,r,n,n)}},D7=.8908130915292852,wR=eh(th/10)/eh(7*th/10),F7=eh(dg/10)*wR,L7=-mR(dg/10)*wR,q7={draw(e,t){const n=Ei(t*D7),r=F7*n,a=L7*n;e.moveTo(0,-n),e.lineTo(r,a);for(let s=1;s<5;++s){const o=dg*s/5,l=mR(o),c=eh(o);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*a,c*r+l*a)}e.closePath()}},zx=Ei(3),z7={draw(e,t){const n=-Ei(t/(zx*3));e.moveTo(0,n*2),e.lineTo(-zx*n,-n),e.lineTo(zx*n,-n),e.closePath()}},$r=-.5,Mr=Ei(3)/2,eb=1/Ei(12),B7=(eb/2+1)*3,U7={draw(e,t){const n=Ei(t/B7),r=n/2,a=n*eb,s=r,o=n*eb+n,l=-s,c=o;e.moveTo(r,a),e.lineTo(s,o),e.lineTo(l,c),e.lineTo($r*r-Mr*a,Mr*r+$r*a),e.lineTo($r*s-Mr*o,Mr*s+$r*o),e.lineTo($r*l-Mr*c,Mr*l+$r*c),e.lineTo($r*r+Mr*a,$r*a-Mr*r),e.lineTo($r*s+Mr*o,$r*o-Mr*s),e.lineTo($r*l+Mr*c,$r*c-Mr*l),e.closePath()}};function V7(e,t){let n=null,r=p1(a);e=typeof e=="function"?e:Lt(e||h1),t=typeof t=="function"?t:Lt(t===void 0?64:+t);function a(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Lt(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Lt(+s),a):t},a.context=function(s){return arguments.length?(n=s??null,a):n},a}function nh(){}function rh(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function NR(e){this._context=e}NR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:rh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:rh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function H7(e){return new NR(e)}function SR(e){this._context=e}SR.prototype={areaStart:nh,areaEnd:nh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:rh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function W7(e){return new SR(e)}function CR(e){this._context=e}CR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:rh(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function G7(e){return new CR(e)}function ER(e){this._context=e}ER.prototype={areaStart:nh,areaEnd:nh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function K7(e){return new ER(e)}function zC(e){return e<0?-1:1}function BC(e,t,n){var r=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),l=(s*a+o*r)/(r+a);return(zC(s)+zC(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function UC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Bx(e,t,n){var r=e._x0,a=e._y0,s=e._x1,o=e._y1,l=(s-r)/3;e._context.bezierCurveTo(r+l,a+l*t,s-l,o-l*n,s,o)}function ih(e){this._context=e}ih.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Bx(this,this._t0,UC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Bx(this,UC(this,n=BC(this,e,t)),n);break;default:Bx(this,this._t0,n=BC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function AR(e){this._context=new kR(e)}(AR.prototype=Object.create(ih.prototype)).point=function(e,t){ih.prototype.point.call(this,t,e)};function kR(e){this._context=e}kR.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,s){this._context.bezierCurveTo(t,e,r,n,s,a)}};function Y7(e){return new ih(e)}function Q7(e){return new AR(e)}function _R(e){this._context=e}_R.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=VC(e),a=VC(t),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],a[0][s],r[1][s],a[1][s],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function VC(e){var t,n=e.length-1,r,a=new Array(n),s=new Array(n),o=new Array(n);for(a[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,s[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/s[t-1],s[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/s[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/s[t];for(s[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function X7(e){return new _R(e)}function pg(e,t){this._context=e,this._t=t}pg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Z7(e){return new pg(e,.5)}function J7(e){return new pg(e,0)}function eW(e){return new pg(e,1)}function wc(e,t){if((o=e.length)>1)for(var n=1,r,a,s=e[t[0]],o,l=s.length;n<o;++n)for(a=s,s=e[t[n]],r=0;r<l;++r)s[r][1]+=s[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function tb(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function tW(e,t){return e[t]}function nW(e){const t=[];return t.key=e,t}function rW(){var e=Lt([]),t=tb,n=wc,r=tW;function a(s){var o=Array.from(e.apply(this,arguments),nW),l,c=o.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(f,o[l].key,u,s)]).data=f;for(l=0,d=m1(t(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Lt(Array.from(s)),a):e},a.value=function(s){return arguments.length?(r=typeof s=="function"?s:Lt(+s),a):r},a.order=function(s){return arguments.length?(t=s==null?tb:typeof s=="function"?s:Lt(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(n=s??wc,a):n},a}function iW(e,t){if((r=e.length)>0){for(var n,r,a=0,s=e[0].length,o;a<s;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}wc(e,t)}}function aW(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,s=r.length;n<s;++n){for(var o=0,l=0;o<a;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}wc(e,t)}}function sW(e,t){if(!(!((o=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,s,o;r<s;++r){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[r][1]||0,p=d[r-1][1]||0,h=(f-p)/2,x=0;x<l;++x){var m=e[t[x]],g=m[r][1]||0,b=m[r-1][1]||0;h+=g-b}c+=f,u+=h*f}a[r-1][1]+=a[r-1][0]=n,c&&(n-=u/c)}a[r-1][1]+=a[r-1][0]=n,wc(e,t)}}function zd(e){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zd(e)}var oW=["type","size","sizeType"];function nb(){return nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nb.apply(this,arguments)}function HC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function WC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HC(Object(n),!0).forEach(function(r){lW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lW(e,t,n){return t=cW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cW(e){var t=uW(e,"string");return zd(t)=="symbol"?t:t+""}function uW(e,t){if(zd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dW(e,t){if(e==null)return{};var n=fW(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function fW(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var OR={symbolCircle:h1,symbolCross:I7,symbolDiamond:$7,symbolSquare:M7,symbolStar:q7,symbolTriangle:z7,symbolWye:U7},pW=Math.PI/180,mW=function(t){var n="symbol".concat(ug(t));return OR[n]||h1},hW=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*pW;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},vW=function(t,n){OR["symbol".concat(ug(t))]=n},v1=function(t){var n=t.type,r=n===void 0?"circle":n,a=t.size,s=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=dW(t,oW),u=WC(WC({},c),{},{type:r,size:s,sizeType:l}),d=function(){var g=mW(r),b=V7().type(g).size(hW(s,l,r));return b()},f=u.className,p=u.cx,h=u.cy,x=Xe(u,!0);return p===+p&&h===+h&&s===+s?F.createElement("path",nb({},x,{className:ht("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(h,")"),d:d()})):null};v1.registerSymbol=vW;function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function rb(){return rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rb.apply(this,arguments)}function GC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GC(Object(n),!0).forEach(function(r){Bd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yW(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,TR(r.key),r)}}function bW(e,t,n){return t&&yW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jW(e,t,n){return t=ah(t),wW(e,PR()?Reflect.construct(t,n||[],ah(e).constructor):t.apply(e,n))}function wW(e,t){if(t&&(Nc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NW(e)}function NW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PR=function(){return!!e})()}function ah(e){return ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ah(e)}function SW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ib(e,t)}function ib(e,t){return ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ib(e,t)}function Bd(e,t,n){return t=TR(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TR(e){var t=CW(e,"string");return Nc(t)=="symbol"?t:t+""}function CW(e,t){if(Nc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dr=32,g1=function(e){function t(){return xW(this,t),jW(this,t,arguments)}return SW(t,e),bW(t,[{key:"renderIcon",value:function(r){var a=this.props.inactiveColor,s=Dr/2,o=Dr/6,l=Dr/3,c=r.inactive?a:r.color;if(r.type==="plainline")return F.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:Dr,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return F.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Dr,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return F.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Dr/8,"h").concat(Dr,"v").concat(Dr*3/4,"h").concat(-Dr,"z"),className:"recharts-legend-icon"});if(F.isValidElement(r.legendIcon)){var u=gW({},r);return delete u.legendIcon,F.cloneElement(r.legendIcon,u)}return F.createElement(v1,{fill:c,cx:s,cy:s,size:Dr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,a=this.props,s=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Dr,height:Dr},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(h,x){var m=h.formatter||c,g=ht(Bd(Bd({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",h.inactive));if(h.type==="none")return null;var b=et(h.value)?null:h.value;gi(!et(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=h.inactive?u:h.color;return F.createElement("li",rb({className:g,style:f,key:"legend-item-".concat(x)},Io(r.props,h,x)),F.createElement(K0,{width:o,height:o,viewBox:d,style:p},r.renderIcon(h)),F.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},m?m(b,h,x):b))})}},{key:"render",value:function(){var r=this.props,a=r.payload,s=r.layout,o=r.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return F.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(N.PureComponent);Bd(g1,"displayName","Legend");Bd(g1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var EW=Xv;function AW(){this.__data__=new EW,this.size=0}var kW=AW;function _W(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var OW=_W;function PW(e){return this.__data__.get(e)}var TW=PW;function IW(e){return this.__data__.has(e)}var RW=IW,$W=Xv,MW=i1,DW=a1,FW=200;function LW(e,t){var n=this.__data__;if(n instanceof $W){var r=n.__data__;if(!MW||r.length<FW-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new DW(r)}return n.set(e,t),this.size=n.size,this}var qW=LW,zW=Xv,BW=kW,UW=OW,VW=TW,HW=RW,WW=qW;function fu(e){var t=this.__data__=new zW(e);this.size=t.size}fu.prototype.clear=BW;fu.prototype.delete=UW;fu.prototype.get=VW;fu.prototype.has=HW;fu.prototype.set=WW;var IR=fu,GW="__lodash_hash_undefined__";function KW(e){return this.__data__.set(e,GW),this}var YW=KW;function QW(e){return this.__data__.has(e)}var XW=QW,ZW=a1,JW=YW,eG=XW;function sh(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new ZW;++t<n;)this.add(e[t])}sh.prototype.add=sh.prototype.push=JW;sh.prototype.has=eG;var RR=sh;function tG(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var $R=tG;function nG(e,t){return e.has(t)}var MR=nG,rG=RR,iG=$R,aG=MR,sG=1,oG=2;function lG(e,t,n,r,a,s){var o=n&sG,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,p=!0,h=n&oG?new rG:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var x=e[f],m=t[f];if(r)var g=o?r(m,x,f,t,e,s):r(x,m,f,e,t,s);if(g!==void 0){if(g)continue;p=!1;break}if(h){if(!iG(t,function(b,v){if(!aG(h,v)&&(x===b||a(x,b,n,r,s)))return h.push(v)})){p=!1;break}}else if(!(x===m||a(x,m,n,r,s))){p=!1;break}}return s.delete(e),s.delete(t),p}var DR=lG,cG=ta,uG=cG.Uint8Array,dG=uG;function fG(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}var pG=fG;function mG(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var x1=mG,KC=Zf,YC=dG,hG=r1,vG=DR,gG=pG,xG=x1,yG=1,bG=2,jG="[object Boolean]",wG="[object Date]",NG="[object Error]",SG="[object Map]",CG="[object Number]",EG="[object RegExp]",AG="[object Set]",kG="[object String]",_G="[object Symbol]",OG="[object ArrayBuffer]",PG="[object DataView]",QC=KC?KC.prototype:void 0,Ux=QC?QC.valueOf:void 0;function TG(e,t,n,r,a,s,o){switch(n){case PG:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case OG:return!(e.byteLength!=t.byteLength||!s(new YC(e),new YC(t)));case jG:case wG:case CG:return hG(+e,+t);case NG:return e.name==t.name&&e.message==t.message;case EG:case kG:return e==t+"";case SG:var l=gG;case AG:var c=r&yG;if(l||(l=xG),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;r|=bG,o.set(e,t);var d=vG(l(e),l(t),r,a,s,o);return o.delete(e),d;case _G:if(Ux)return Ux.call(e)==Ux.call(t)}return!1}var IG=TG;function RG(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var FR=RG,$G=FR,MG=gr;function DG(e,t,n){var r=t(e);return MG(e)?r:$G(r,n(e))}var FG=DG;function LG(e,t){for(var n=-1,r=e==null?0:e.length,a=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[a++]=o)}return s}var qG=LG;function zG(){return[]}var BG=zG,UG=qG,VG=BG,HG=Object.prototype,WG=HG.propertyIsEnumerable,XC=Object.getOwnPropertySymbols,GG=XC?function(e){return e==null?[]:(e=Object(e),UG(XC(e),function(t){return WG.call(e,t)}))}:VG,KG=GG;function YG(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var QG=YG,XG=qa,ZG=za,JG="[object Arguments]";function eK(e){return ZG(e)&&XG(e)==JG}var tK=eK,ZC=tK,nK=za,LR=Object.prototype,rK=LR.hasOwnProperty,iK=LR.propertyIsEnumerable,aK=ZC(function(){return arguments}())?ZC:function(e){return nK(e)&&rK.call(e,"callee")&&!iK.call(e,"callee")},y1=aK,oh={exports:{}};function sK(){return!1}var oK=sK;oh.exports;(function(e,t){var n=ta,r=oK,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;e.exports=u})(oh,oh.exports);var qR=oh.exports,lK=9007199254740991,cK=/^(?:0|[1-9]\d*)$/;function uK(e,t){var n=typeof e;return t=t??lK,!!t&&(n=="number"||n!="symbol"&&cK.test(e))&&e>-1&&e%1==0&&e<t}var b1=uK,dK=9007199254740991;function fK(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=dK}var j1=fK,pK=qa,mK=j1,hK=za,vK="[object Arguments]",gK="[object Array]",xK="[object Boolean]",yK="[object Date]",bK="[object Error]",jK="[object Function]",wK="[object Map]",NK="[object Number]",SK="[object Object]",CK="[object RegExp]",EK="[object Set]",AK="[object String]",kK="[object WeakMap]",_K="[object ArrayBuffer]",OK="[object DataView]",PK="[object Float32Array]",TK="[object Float64Array]",IK="[object Int8Array]",RK="[object Int16Array]",$K="[object Int32Array]",MK="[object Uint8Array]",DK="[object Uint8ClampedArray]",FK="[object Uint16Array]",LK="[object Uint32Array]",Vt={};Vt[PK]=Vt[TK]=Vt[IK]=Vt[RK]=Vt[$K]=Vt[MK]=Vt[DK]=Vt[FK]=Vt[LK]=!0;Vt[vK]=Vt[gK]=Vt[_K]=Vt[xK]=Vt[OK]=Vt[yK]=Vt[bK]=Vt[jK]=Vt[wK]=Vt[NK]=Vt[SK]=Vt[CK]=Vt[EK]=Vt[AK]=Vt[kK]=!1;function qK(e){return hK(e)&&mK(e.length)&&!!Vt[pK(e)]}var zK=qK;function BK(e){return function(t){return e(t)}}var zR=BK,lh={exports:{}};lh.exports;(function(e,t){var n=YI,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===r,o=s&&n.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(lh,lh.exports);var UK=lh.exports,VK=zK,HK=zR,JC=UK,eE=JC&&JC.isTypedArray,WK=eE?HK(eE):VK,BR=WK,GK=QG,KK=y1,YK=gr,QK=qR,XK=b1,ZK=BR,JK=Object.prototype,eY=JK.hasOwnProperty;function tY(e,t){var n=YK(e),r=!n&&KK(e),a=!n&&!r&&QK(e),s=!n&&!r&&!a&&ZK(e),o=n||r||a||s,l=o?GK(e.length,String):[],c=l.length;for(var u in e)(t||eY.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||XK(u,c)))&&l.push(u);return l}var nY=tY,rY=Object.prototype;function iY(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||rY;return e===n}var aY=iY;function sY(e,t){return function(n){return e(t(n))}}var UR=sY,oY=UR,lY=oY(Object.keys,Object),cY=lY,uY=aY,dY=cY,fY=Object.prototype,pY=fY.hasOwnProperty;function mY(e){if(!uY(e))return dY(e);var t=[];for(var n in Object(e))pY.call(e,n)&&n!="constructor"&&t.push(n);return t}var hY=mY,vY=n1,gY=j1;function xY(e){return e!=null&&gY(e.length)&&!vY(e)}var np=xY,yY=nY,bY=hY,jY=np;function wY(e){return jY(e)?yY(e):bY(e)}var mg=wY,NY=FG,SY=KG,CY=mg;function EY(e){return NY(e,CY,SY)}var AY=EY,tE=AY,kY=1,_Y=Object.prototype,OY=_Y.hasOwnProperty;function PY(e,t,n,r,a,s){var o=n&kY,l=tE(e),c=l.length,u=tE(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var p=l[f];if(!(o?p in t:OY.call(t,p)))return!1}var h=s.get(e),x=s.get(t);if(h&&x)return h==t&&x==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=o;++f<c;){p=l[f];var b=e[p],v=t[p];if(r)var y=o?r(v,b,p,t,e,s):r(b,v,p,e,t,s);if(!(y===void 0?b===v||a(b,v,n,r,s):y)){m=!1;break}g||(g=p=="constructor")}if(m&&!g){var w=e.constructor,j=t.constructor;w!=j&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof j=="function"&&j instanceof j)&&(m=!1)}return s.delete(e),s.delete(t),m}var TY=PY,IY=Go,RY=ta,$Y=IY(RY,"DataView"),MY=$Y,DY=Go,FY=ta,LY=DY(FY,"Promise"),qY=LY,zY=Go,BY=ta,UY=zY(BY,"Set"),VR=UY,VY=Go,HY=ta,WY=VY(HY,"WeakMap"),GY=WY,ab=MY,sb=i1,ob=qY,lb=VR,cb=GY,HR=qa,pu=XI,nE="[object Map]",KY="[object Object]",rE="[object Promise]",iE="[object Set]",aE="[object WeakMap]",sE="[object DataView]",YY=pu(ab),QY=pu(sb),XY=pu(ob),ZY=pu(lb),JY=pu(cb),Zs=HR;(ab&&Zs(new ab(new ArrayBuffer(1)))!=sE||sb&&Zs(new sb)!=nE||ob&&Zs(ob.resolve())!=rE||lb&&Zs(new lb)!=iE||cb&&Zs(new cb)!=aE)&&(Zs=function(e){var t=HR(e),n=t==KY?e.constructor:void 0,r=n?pu(n):"";if(r)switch(r){case YY:return sE;case QY:return nE;case XY:return rE;case ZY:return iE;case JY:return aE}return t});var eQ=Zs,Vx=IR,tQ=DR,nQ=IG,rQ=TY,oE=eQ,lE=gr,cE=qR,iQ=BR,aQ=1,uE="[object Arguments]",dE="[object Array]",Rp="[object Object]",sQ=Object.prototype,fE=sQ.hasOwnProperty;function oQ(e,t,n,r,a,s){var o=lE(e),l=lE(t),c=o?dE:oE(e),u=l?dE:oE(t);c=c==uE?Rp:c,u=u==uE?Rp:u;var d=c==Rp,f=u==Rp,p=c==u;if(p&&cE(e)){if(!cE(t))return!1;o=!0,d=!1}if(p&&!d)return s||(s=new Vx),o||iQ(e)?tQ(e,t,n,r,a,s):nQ(e,t,c,n,r,a,s);if(!(n&aQ)){var h=d&&fE.call(e,"__wrapped__"),x=f&&fE.call(t,"__wrapped__");if(h||x){var m=h?e.value():e,g=x?t.value():t;return s||(s=new Vx),a(m,g,n,r,s)}}return p?(s||(s=new Vx),rQ(e,t,n,r,a,s)):!1}var lQ=oQ,cQ=lQ,pE=za;function WR(e,t,n,r,a){return e===t?!0:e==null||t==null||!pE(e)&&!pE(t)?e!==e&&t!==t:cQ(e,t,n,r,WR,a)}var w1=WR,uQ=IR,dQ=w1,fQ=1,pQ=2;function mQ(e,t,n,r){var a=n.length,s=a,o=!r;if(e==null)return!s;for(e=Object(e);a--;){var l=n[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){l=n[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new uQ;if(r)var p=r(u,d,c,e,t,f);if(!(p===void 0?dQ(d,u,fQ|pQ,r,f):p))return!1}}return!0}var hQ=mQ,vQ=qs;function gQ(e){return e===e&&!vQ(e)}var GR=gQ,xQ=GR,yQ=mg;function bQ(e){for(var t=yQ(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,xQ(a)]}return t}var jQ=bQ;function wQ(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var KR=wQ,NQ=hQ,SQ=jQ,CQ=KR;function EQ(e){var t=SQ(e);return t.length==1&&t[0][2]?CQ(t[0][0],t[0][1]):function(n){return n===e||NQ(n,e,t)}}var AQ=EQ;function kQ(e,t){return e!=null&&t in Object(e)}var _Q=kQ,OQ=nR,PQ=y1,TQ=gr,IQ=b1,RQ=j1,$Q=Jv;function MQ(e,t,n){t=OQ(t,e);for(var r=-1,a=t.length,s=!1;++r<a;){var o=$Q(t[r]);if(!(s=e!=null&&n(e,o)))break;e=e[o]}return s||++r!=a?s:(a=e==null?0:e.length,!!a&&RQ(a)&&IQ(o,a)&&(TQ(e)||PQ(e)))}var DQ=MQ,FQ=_Q,LQ=DQ;function qQ(e,t){return e!=null&&LQ(e,t,FQ)}var zQ=qQ,BQ=w1,UQ=rR,VQ=zQ,HQ=t1,WQ=GR,GQ=KR,KQ=Jv,YQ=1,QQ=2;function XQ(e,t){return HQ(e)&&WQ(t)?GQ(KQ(e),t):function(n){var r=UQ(n,e);return r===void 0&&r===t?VQ(n,e):BQ(t,r,YQ|QQ)}}var ZQ=XQ;function JQ(e){return e}var mu=JQ;function eX(e){return function(t){return t==null?void 0:t[e]}}var tX=eX,nX=l1;function rX(e){return function(t){return nX(t,e)}}var iX=rX,aX=tX,sX=iX,oX=t1,lX=Jv;function cX(e){return oX(e)?aX(lX(e)):sX(e)}var uX=cX,dX=AQ,fX=ZQ,pX=mu,mX=gr,hX=uX;function vX(e){return typeof e=="function"?e:e==null?pX:typeof e=="object"?mX(e)?fX(e[0],e[1]):dX(e):hX(e)}var na=vX;function gX(e,t,n,r){for(var a=e.length,s=n+(r?1:-1);r?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var YR=gX;function xX(e){return e!==e}var yX=xX;function bX(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}var jX=bX,wX=YR,NX=yX,SX=jX;function CX(e,t,n){return t===t?SX(e,t,n):wX(e,NX,n)}var EX=CX,AX=EX;function kX(e,t){var n=e==null?0:e.length;return!!n&&AX(e,t,0)>-1}var _X=kX;function OX(e,t,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}var PX=OX;function TX(){}var IX=TX,Hx=VR,RX=IX,$X=x1,MX=1/0,DX=Hx&&1/$X(new Hx([,-0]))[1]==MX?function(e){return new Hx(e)}:RX,FX=DX,LX=RR,qX=_X,zX=PX,BX=MR,UX=FX,VX=x1,HX=200;function WX(e,t,n){var r=-1,a=qX,s=e.length,o=!0,l=[],c=l;if(n)o=!1,a=zX;else if(s>=HX){var u=t?null:UX(e);if(u)return VX(u);o=!1,a=BX,c=new LX}else c=t?[]:l;e:for(;++r<s;){var d=e[r],f=t?t(d):d;if(d=n||d!==0?d:0,o&&f===f){for(var p=c.length;p--;)if(c[p]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,n)||(c!==l&&c.push(f),l.push(d))}return l}var GX=WX,KX=na,YX=GX;function QX(e,t){return e&&e.length?YX(e,KX(t)):[]}var XX=QX;const mE=Ot(XX);function QR(e,t,n){return t===!0?mE(e,n):et(t)?mE(e,t):e}function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}var ZX=["ref"];function hE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function aa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hE(Object(n),!0).forEach(function(r){hg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZR(r.key),r)}}function eZ(e,t,n){return t&&vE(e.prototype,t),n&&vE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tZ(e,t,n){return t=ch(t),nZ(e,XR()?Reflect.construct(t,n||[],ch(e).constructor):t.apply(e,n))}function nZ(e,t){if(t&&(Sc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rZ(e)}function rZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XR=function(){return!!e})()}function ch(e){return ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ch(e)}function iZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ub(e,t)}function ub(e,t){return ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ub(e,t)}function hg(e,t,n){return t=ZR(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZR(e){var t=aZ(e,"string");return Sc(t)=="symbol"?t:t+""}function aZ(e,t){if(Sc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sZ(e,t){if(e==null)return{};var n=oZ(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function oZ(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function lZ(e){return e.value}function cZ(e,t){if(F.isValidElement(e))return F.cloneElement(e,t);if(typeof e=="function")return F.createElement(e,t);t.ref;var n=sZ(t,ZX);return F.createElement(g1,n)}var gE=1,ql=function(e){function t(){var n;JX(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=tZ(this,t,[].concat(a)),hg(n,"lastBoundingBox",{width:-1,height:-1}),n}return iZ(t,e),eZ(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>gE||Math.abs(a.height-this.lastBoundingBox.height)>gE)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,r&&r(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?aa({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var a=this.props,s=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&s==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();p={top:((d||0)-x.height)/2}}else p=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return aa(aa({},f),p)}},{key:"render",value:function(){var r=this,a=this.props,s=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=aa(aa({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return F.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){r.wrapperNode=h}},cZ(s,aa(aa({},this.props),{},{payload:QR(d,u,lZ)})))}}],[{key:"getWithHeight",value:function(r,a){var s=aa(aa({},this.defaultProps),r.props),o=s.layout;return o==="vertical"&&he(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||a}:null}}])}(N.PureComponent);hg(ql,"displayName","Legend");hg(ql,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var xE=Zf,uZ=y1,dZ=gr,yE=xE?xE.isConcatSpreadable:void 0;function fZ(e){return dZ(e)||uZ(e)||!!(yE&&e&&e[yE])}var pZ=fZ,mZ=FR,hZ=pZ;function JR(e,t,n,r,a){var s=-1,o=e.length;for(n||(n=hZ),a||(a=[]);++s<o;){var l=e[s];t>0&&n(l)?t>1?JR(l,t-1,n,r,a):mZ(a,l):r||(a[a.length]=l)}return a}var e$=JR;function vZ(e){return function(t,n,r){for(var a=-1,s=Object(t),o=r(t),l=o.length;l--;){var c=o[e?l:++a];if(n(s[c],c,s)===!1)break}return t}}var gZ=vZ,xZ=gZ,yZ=xZ(),bZ=yZ,jZ=bZ,wZ=mg;function NZ(e,t){return e&&jZ(e,t,wZ)}var t$=NZ,SZ=np;function CZ(e,t){return function(n,r){if(n==null)return n;if(!SZ(n))return e(n,r);for(var a=n.length,s=t?a:-1,o=Object(n);(t?s--:++s<a)&&r(o[s],s,o)!==!1;);return n}}var EZ=CZ,AZ=t$,kZ=EZ,_Z=kZ(AZ),N1=_Z,OZ=N1,PZ=np;function TZ(e,t){var n=-1,r=PZ(e)?Array(e.length):[];return OZ(e,function(a,s,o){r[++n]=t(a,s,o)}),r}var n$=TZ;function IZ(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var RZ=IZ,bE=ou;function $Z(e,t){if(e!==t){var n=e!==void 0,r=e===null,a=e===e,s=bE(e),o=t!==void 0,l=t===null,c=t===t,u=bE(t);if(!l&&!u&&!s&&e>t||s&&o&&c&&!l&&!u||r&&o&&c||!n&&c||!a)return 1;if(!r&&!s&&!u&&e<t||u&&n&&a&&!r&&!s||l&&n&&a||!o&&a||!c)return-1}return 0}var MZ=$Z,DZ=MZ;function FZ(e,t,n){for(var r=-1,a=e.criteria,s=t.criteria,o=a.length,l=n.length;++r<o;){var c=DZ(a[r],s[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return e.index-t.index}var LZ=FZ,Wx=o1,qZ=l1,zZ=na,BZ=n$,UZ=RZ,VZ=zR,HZ=LZ,WZ=mu,GZ=gr;function KZ(e,t,n){t.length?t=Wx(t,function(s){return GZ(s)?function(o){return qZ(o,s.length===1?s[0]:s)}:s}):t=[WZ];var r=-1;t=Wx(t,VZ(zZ));var a=BZ(e,function(s,o,l){var c=Wx(t,function(u){return u(s)});return{criteria:c,index:++r,value:s}});return UZ(a,function(s,o){return HZ(s,o,n)})}var YZ=KZ;function QZ(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var XZ=QZ,ZZ=XZ,jE=Math.max;function JZ(e,t,n){return t=jE(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,s=jE(r.length-t,0),o=Array(s);++a<s;)o[a]=r[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=r[a];return l[t]=n(o),ZZ(e,this,l)}}var eJ=JZ;function tJ(e){return function(){return e}}var nJ=tJ,rJ=Go,iJ=function(){try{var e=rJ(Object,"defineProperty");return e({},"",{}),e}catch{}}(),r$=iJ,aJ=nJ,wE=r$,sJ=mu,oJ=wE?function(e,t){return wE(e,"toString",{configurable:!0,enumerable:!1,value:aJ(t),writable:!0})}:sJ,lJ=oJ,cJ=800,uJ=16,dJ=Date.now;function fJ(e){var t=0,n=0;return function(){var r=dJ(),a=uJ-(r-n);if(n=r,a>0){if(++t>=cJ)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var pJ=fJ,mJ=lJ,hJ=pJ,vJ=hJ(mJ),gJ=vJ,xJ=mu,yJ=eJ,bJ=gJ;function jJ(e,t){return bJ(yJ(e,t,xJ),e+"")}var wJ=jJ,NJ=r1,SJ=np,CJ=b1,EJ=qs;function AJ(e,t,n){if(!EJ(n))return!1;var r=typeof t;return(r=="number"?SJ(n)&&CJ(t,n.length):r=="string"&&t in n)?NJ(n[t],e):!1}var vg=AJ,kJ=e$,_J=YZ,OJ=wJ,NE=vg,PJ=OJ(function(e,t){if(e==null)return[];var n=t.length;return n>1&&NE(e,t[0],t[1])?t=[]:n>2&&NE(t[0],t[1],t[2])&&(t=[t[0]]),_J(e,kJ(t,1),[])}),TJ=PJ;const S1=Ot(TJ);function Ud(e){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ud(e)}function db(){return db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},db.apply(this,arguments)}function IJ(e,t){return DJ(e)||MJ(e,t)||$J(e,t)||RJ()}function RJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $J(e,t){if(e){if(typeof e=="string")return SE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SE(e,t)}}function SE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function MJ(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function DJ(e){if(Array.isArray(e))return e}function CE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Gx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CE(Object(n),!0).forEach(function(r){FJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FJ(e,t,n){return t=LJ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LJ(e){var t=qJ(e,"string");return Ud(t)=="symbol"?t:t+""}function qJ(e,t){if(Ud(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zJ(e){return Array.isArray(e)&&Sn(e[0])&&Sn(e[1])?e.join(" ~ "):e}var BJ=function(t){var n=t.separator,r=n===void 0?" : ":n,a=t.contentStyle,s=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,p=t.itemSorter,h=t.wrapperClassName,x=t.labelClassName,m=t.label,g=t.labelFormatter,b=t.accessibilityLayer,v=b===void 0?!1:b,y=function(){if(d&&d.length){var T={padding:0,margin:0},P=(p?S1(d,p):d).map(function(I,D){if(I.type==="none")return null;var R=Gx({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},l),V=I.formatter||f||zJ,q=I.value,B=I.name,W=q,Z=B;if(V&&W!=null&&Z!=null){var te=V(q,B,I,D,d);if(Array.isArray(te)){var fe=IJ(te,2);W=fe[0],Z=fe[1]}else W=te}return F.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:R},Sn(Z)?F.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,Sn(Z)?F.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,F.createElement("span",{className:"recharts-tooltip-item-value"},W),F.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return F.createElement("ul",{className:"recharts-tooltip-item-list",style:T},P)}return null},w=Gx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),j=Gx({margin:0},u),S=!bt(m),C=S?m:"",E=ht("recharts-default-tooltip",h),k=ht("recharts-tooltip-label",x);S&&g&&d!==void 0&&d!==null&&(C=g(m,d));var $=v?{role:"status","aria-live":"assertive"}:{};return F.createElement("div",db({className:E,style:w},$),F.createElement("p",{className:k,style:j},F.isValidElement(C)?C:"".concat(C)),y())};function Vd(e){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vd(e)}function $p(e,t,n){return t=UJ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UJ(e){var t=VJ(e,"string");return Vd(t)=="symbol"?t:t+""}function VJ(e,t){if(Vd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iu="recharts-tooltip-wrapper",HJ={visibility:"hidden"};function WJ(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return ht(Iu,$p($p($p($p({},"".concat(Iu,"-right"),he(n)&&t&&he(t.x)&&n>=t.x),"".concat(Iu,"-left"),he(n)&&t&&he(t.x)&&n<t.x),"".concat(Iu,"-bottom"),he(r)&&t&&he(t.y)&&r>=t.y),"".concat(Iu,"-top"),he(r)&&t&&he(t.y)&&r<t.y))}function EE(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,a=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&he(s[r]))return s[r];var d=n[r]-l-a,f=n[r]+a;if(t[r])return o[r]?d:f;if(o[r]){var p=d,h=c[r];return p<h?Math.max(f,c[r]):Math.max(d,c[r])}var x=f+l,m=c[r]+u;return x>m?Math.max(d,c[r]):Math.max(f,c[r])}function GJ(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function KJ(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,a=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&n?(d=EE({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=EE({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=GJ({translateX:d,translateY:f,useTranslate3d:l})):u=HJ,{cssProperties:u,cssClasses:WJ({translateX:d,translateY:f,coordinate:n})}}function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}function AE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function kE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AE(Object(n),!0).forEach(function(r){pb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a$(r.key),r)}}function XJ(e,t,n){return t&&QJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZJ(e,t,n){return t=uh(t),JJ(e,i$()?Reflect.construct(t,n||[],uh(e).constructor):t.apply(e,n))}function JJ(e,t){if(t&&(Cc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eee(e)}function eee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i$=function(){return!!e})()}function uh(e){return uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uh(e)}function tee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fb(e,t)}function fb(e,t){return fb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},fb(e,t)}function pb(e,t,n){return t=a$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a$(e){var t=nee(e,"string");return Cc(t)=="symbol"?t:t+""}function nee(e,t){if(Cc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _E=1,ree=function(e){function t(){var n;YJ(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=ZJ(this,t,[].concat(a)),pb(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),pb(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return tee(t,e),XJ(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>_E||Math.abs(r.height-this.state.lastBoundingBox.height)>_E)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,p=a.isAnimationActive,h=a.offset,x=a.position,m=a.reverseDirection,g=a.useTranslate3d,b=a.viewBox,v=a.wrapperStyle,y=KJ({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:h,position:x,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:b}),w=y.cssClasses,j=y.cssProperties,S=kE(kE({transition:p&&s?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},v);return F.createElement("div",{tabIndex:-1,className:w,style:S,ref:function(E){r.wrapperNode=E}},u)}}])}(N.PureComponent),iee=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},wa={isSsr:iee(),get:function(t){return wa[t]},set:function(t,n){if(typeof t=="string")wa[t]=n;else{var r=Object.keys(t);r&&r.length&&r.forEach(function(a){wa[a]=t[a]})}}};function Ec(e){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}function OE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function PE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OE(Object(n),!0).forEach(function(r){C1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function see(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o$(r.key),r)}}function oee(e,t,n){return t&&see(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lee(e,t,n){return t=dh(t),cee(e,s$()?Reflect.construct(t,n||[],dh(e).constructor):t.apply(e,n))}function cee(e,t){if(t&&(Ec(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uee(e)}function uee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s$=function(){return!!e})()}function dh(e){return dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dh(e)}function dee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mb(e,t)}function mb(e,t){return mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},mb(e,t)}function C1(e,t,n){return t=o$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o$(e){var t=fee(e,"string");return Ec(t)=="symbol"?t:t+""}function fee(e,t){if(Ec(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pee(e){return e.dataKey}function mee(e,t){return F.isValidElement(e)?F.cloneElement(e,t):typeof e=="function"?F.createElement(e,t):F.createElement(BJ,t)}var oi=function(e){function t(){return aee(this,t),lee(this,t,arguments)}return dee(t,e),oee(t,[{key:"render",value:function(){var r=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,p=a.isAnimationActive,h=a.offset,x=a.payload,m=a.payloadUniqBy,g=a.position,b=a.reverseDirection,v=a.useTranslate3d,y=a.viewBox,w=a.wrapperStyle,j=x??[];f&&j.length&&(j=QR(x.filter(function(C){return C.value!=null&&(C.hide!==!0||r.props.includeHidden)}),m,pee));var S=j.length>0;return F.createElement(ree,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:p,active:s,coordinate:d,hasPayload:S,offset:h,position:g,reverseDirection:b,useTranslate3d:v,viewBox:y,wrapperStyle:w},mee(u,PE(PE({},this.props),{},{payload:j})))}}])}(N.PureComponent);C1(oi,"displayName","Tooltip");C1(oi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!wa.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var hee=ta,vee=function(){return hee.Date.now()},gee=vee,xee=/\s/;function yee(e){for(var t=e.length;t--&&xee.test(e.charAt(t)););return t}var bee=yee,jee=bee,wee=/^\s+/;function Nee(e){return e&&e.slice(0,jee(e)+1).replace(wee,"")}var See=Nee,Cee=See,TE=qs,Eee=ou,IE=NaN,Aee=/^[-+]0x[0-9a-f]+$/i,kee=/^0b[01]+$/i,_ee=/^0o[0-7]+$/i,Oee=parseInt;function Pee(e){if(typeof e=="number")return e;if(Eee(e))return IE;if(TE(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=TE(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Cee(e);var n=kee.test(e);return n||_ee.test(e)?Oee(e.slice(2),n?2:8):Aee.test(e)?IE:+e}var l$=Pee,Tee=qs,Kx=gee,RE=l$,Iee="Expected a function",Ree=Math.max,$ee=Math.min;function Mee(e,t,n){var r,a,s,o,l,c,u=0,d=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(Iee);t=RE(t)||0,Tee(n)&&(d=!!n.leading,f="maxWait"in n,s=f?Ree(RE(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p);function h(S){var C=r,E=a;return r=a=void 0,u=S,o=e.apply(E,C),o}function x(S){return u=S,l=setTimeout(b,t),d?h(S):o}function m(S){var C=S-c,E=S-u,k=t-C;return f?$ee(k,s-E):k}function g(S){var C=S-c,E=S-u;return c===void 0||C>=t||C<0||f&&E>=s}function b(){var S=Kx();if(g(S))return v(S);l=setTimeout(b,m(S))}function v(S){return l=void 0,p&&r?h(S):(r=a=void 0,o)}function y(){l!==void 0&&clearTimeout(l),u=0,r=c=a=l=void 0}function w(){return l===void 0?o:v(Kx())}function j(){var S=Kx(),C=g(S);if(r=arguments,a=this,c=S,C){if(l===void 0)return x(c);if(f)return clearTimeout(l),l=setTimeout(b,t),h(c)}return l===void 0&&(l=setTimeout(b,t)),o}return j.cancel=y,j.flush=w,j}var Dee=Mee,Fee=Dee,Lee=qs,qee="Expected a function";function zee(e,t,n){var r=!0,a=!0;if(typeof e!="function")throw new TypeError(qee);return Lee(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),Fee(e,t,{leading:r,maxWait:t,trailing:a})}var Bee=zee;const c$=Ot(Bee);function Hd(e){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hd(e)}function $E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$E(Object(n),!0).forEach(function(r){Uee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$E(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uee(e,t,n){return t=Vee(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vee(e){var t=Hee(e,"string");return Hd(t)=="symbol"?t:t+""}function Hee(e,t){if(Hd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wee(e,t){return Qee(e)||Yee(e,t)||Kee(e,t)||Gee()}function Gee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kee(e,t){if(e){if(typeof e=="string")return ME(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ME(e,t)}}function ME(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yee(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Qee(e){if(Array.isArray(e))return e}var DE=N.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,a=r===void 0?{width:-1,height:-1}:r,s=e.width,o=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,p=e.maxHeight,h=e.children,x=e.debounce,m=x===void 0?0:x,g=e.id,b=e.className,v=e.onResize,y=e.style,w=y===void 0?{}:y,j=N.useRef(null),S=N.useRef();S.current=v,N.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var C=N.useState({containerWidth:a.width,containerHeight:a.height}),E=Wee(C,2),k=E[0],$=E[1],O=N.useCallback(function(P,I){$(function(D){var R=Math.round(P),V=Math.round(I);return D.containerWidth===R&&D.containerHeight===V?D:{containerWidth:R,containerHeight:V}})},[]);N.useEffect(function(){var P=function(B){var W,Z=B[0].contentRect,te=Z.width,fe=Z.height;O(te,fe),(W=S.current)===null||W===void 0||W.call(S,te,fe)};m>0&&(P=c$(P,m,{trailing:!0,leading:!1}));var I=new ResizeObserver(P),D=j.current.getBoundingClientRect(),R=D.width,V=D.height;return O(R,V),I.observe(j.current),function(){I.disconnect()}},[O,m]);var T=N.useMemo(function(){var P=k.containerWidth,I=k.containerHeight;if(P<0||I<0)return null;gi(ao(o)||ao(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),gi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var D=ao(o)?P:o,R=ao(c)?I:c;n&&n>0&&(D?R=D/n:R&&(D=R*n),p&&R>p&&(R=p)),gi(D>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,R,o,c,d,f,n);var V=!Array.isArray(h)&&ja(h.type).endsWith("Chart");return F.Children.map(h,function(q){return F.isValidElement(q)?N.cloneElement(q,Mp({width:D,height:R},V?{style:Mp({height:"100%",width:"100%",maxHeight:R,maxWidth:D},q.props.style)}:{})):q})},[n,h,c,p,f,d,k,o]);return F.createElement("div",{id:g?"".concat(g):void 0,className:ht("recharts-responsive-container",b),style:Mp(Mp({},w),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:p}),ref:j},T)}),gg=function(t){return null};gg.displayName="Cell";function Wd(e){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wd(e)}function FE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function hb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FE(Object(n),!0).forEach(function(r){Xee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xee(e,t,n){return t=Zee(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zee(e){var t=Jee(e,"string");return Wd(t)=="symbol"?t:t+""}function Jee(e,t){if(Wd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nl={widthCache:{},cacheCount:0},ete=2e3,tte={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},LE="recharts_measurement_span";function nte(e){var t=hb({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var cd=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||wa.isSsr)return{width:0,height:0};var r=nte(n),a=JSON.stringify({text:t,copyStyle:r});if(nl.widthCache[a])return nl.widthCache[a];try{var s=document.getElementById(LE);s||(s=document.createElement("span"),s.setAttribute("id",LE),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=hb(hb({},tte),r);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return nl.widthCache[a]=c,++nl.cacheCount>ete&&(nl.cacheCount=0,nl.widthCache={}),c}catch{return{width:0,height:0}}},rte=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Gd(e){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gd(e)}function fh(e,t){return ote(e)||ste(e,t)||ate(e,t)||ite()}function ite(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ate(e,t){if(e){if(typeof e=="string")return qE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qE(e,t)}}function qE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ste(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ote(e){if(Array.isArray(e))return e}function lte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ute(r.key),r)}}function cte(e,t,n){return t&&zE(e.prototype,t),n&&zE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ute(e){var t=dte(e,"string");return Gd(t)=="symbol"?t:t+""}function dte(e,t){if(Gd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var BE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fte=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,pte=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,u$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},mte=Object.keys(u$),wl="NaN";function hte(e,t){return e*u$[t]}var Dp=function(){function e(t,n){lte(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!fte.test(n)&&(this.num=NaN,this.unit=""),mte.includes(n)&&(this.num=hte(t,n),this.unit="px")}return cte(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,a=(r=pte.exec(n))!==null&&r!==void 0?r:[],s=fh(a,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])}();function d$(e){if(e.includes(wl))return wl;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=BE.exec(t))!==null&&n!==void 0?n:[],a=fh(r,4),s=a[1],o=a[2],l=a[3],c=Dp.parse(s??""),u=Dp.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return wl;t=t.replace(BE,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,p=(f=UE.exec(t))!==null&&f!==void 0?f:[],h=fh(p,4),x=h[1],m=h[2],g=h[3],b=Dp.parse(x??""),v=Dp.parse(g??""),y=m==="+"?b.add(v):b.subtract(v);if(y.isNaN())return wl;t=t.replace(UE,y.toString())}return t}var VE=/\(([^()]*)\)/;function vte(e){for(var t=e;t.includes("(");){var n=VE.exec(t),r=fh(n,2),a=r[1];t=t.replace(VE,d$(a))}return t}function gte(e){var t=e.replace(/\s+/g,"");return t=vte(t),t=d$(t),t}function xte(e){try{return gte(e)}catch{return wl}}function Yx(e){var t=xte(e.slice(5,-1));return t===wl?"":t}var yte=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],bte=["dx","dy","angle","className","breakAll"];function vb(){return vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vb.apply(this,arguments)}function HE(e,t){if(e==null)return{};var n=jte(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function jte(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function WE(e,t){return Cte(e)||Ste(e,t)||Nte(e,t)||wte()}function wte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nte(e,t){if(e){if(typeof e=="string")return GE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GE(e,t)}}function GE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ste(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Cte(e){if(Array.isArray(e))return e}var f$=/[ \f\n\r\t\v\u2028\u2029]+/,p$=function(t){var n=t.children,r=t.breakAll,a=t.style;try{var s=[];bt(n)||(r?s=n.toString().split(""):s=n.toString().split(f$));var o=s.map(function(c){return{word:c,width:cd(c,a).width}}),l=r?0:cd("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Ete=function(t,n,r,a,s){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=he(o),f=l,p=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(R,V){var q=V.word,B=V.width,W=R[R.length-1];if(W&&(a==null||s||W.width+B+r<Number(a)))W.words.push(q),W.width+=B+r;else{var Z={words:[q],width:B};R.push(Z)}return R},[])},h=p(n),x=function(D){return D.reduce(function(R,V){return R.width>V.width?R:V})};if(!d)return h;for(var m="",g=function(D){var R=f.slice(0,D),V=p$({breakAll:u,style:c,children:R+m}).wordsWithComputedWidth,q=p(V),B=q.length>o||x(q).width>Number(a);return[B,q]},b=0,v=f.length-1,y=0,w;b<=v&&y<=f.length-1;){var j=Math.floor((b+v)/2),S=j-1,C=g(S),E=WE(C,2),k=E[0],$=E[1],O=g(j),T=WE(O,1),P=T[0];if(!k&&!P&&(b=j+1),k&&P&&(v=j-1),!k&&P){w=$;break}y++}return w||h},KE=function(t){var n=bt(t)?[]:t.toString().split(f$);return[{words:n}]},Ate=function(t){var n=t.width,r=t.scaleToFit,a=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((n||r)&&!wa.isSsr){var c,u,d=p$({breakAll:o,children:a,style:s});if(d){var f=d.wordsWithComputedWidth,p=d.spaceWidth;c=f,u=p}else return KE(a);return Ete({breakAll:o,children:a,maxLines:l,style:s},c,u,n,r)}return KE(a)},YE="#808080",Ro=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,s=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,p=t.textAnchor,h=p===void 0?"start":p,x=t.verticalAnchor,m=x===void 0?"end":x,g=t.fill,b=g===void 0?YE:g,v=HE(t,yte),y=N.useMemo(function(){return Ate({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),w=v.dx,j=v.dy,S=v.angle,C=v.className,E=v.breakAll,k=HE(v,bte);if(!Sn(r)||!Sn(s))return null;var $=r+(he(w)?w:0),O=s+(he(j)?j:0),T;switch(m){case"start":T=Yx("calc(".concat(u,")"));break;case"middle":T=Yx("calc(".concat((y.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:T=Yx("calc(".concat(y.length-1," * -").concat(l,")"));break}var P=[];if(f){var I=y[0].width,D=v.width;P.push("scale(".concat((he(D)?D/I:1)/I,")"))}return S&&P.push("rotate(".concat(S,", ").concat($,", ").concat(O,")")),P.length&&(k.transform=P.join(" ")),F.createElement("text",vb({},Xe(k,!0),{x:$,y:O,className:ht("recharts-text",C),textAnchor:h,fill:b.includes("url")?YE:b}),y.map(function(R,V){var q=R.words.join(E?"":" ");return F.createElement("tspan",{x:$,dy:V===0?T:l,key:"".concat(q,"-").concat(V)},q)}))};function Cs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function kte(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function E1(e){let t,n,r;e.length!==2?(t=Cs,n=(l,c)=>Cs(e(l),c),r=(l,c)=>e(l)-c):(t=e===Cs||e===kte?e:_te,n=e,r=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:a,center:o,right:s}}function _te(){return 0}function m$(e){return e===null?NaN:+e}function*Ote(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Pte=E1(Cs),rp=Pte.right;E1(m$).center;class QE extends Map{constructor(t,n=Rte){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(XE(this,t))}has(t){return super.has(XE(this,t))}set(t,n){return super.set(Tte(this,t),n)}delete(t){return super.delete(Ite(this,t))}}function XE({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Tte({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Ite({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Rte(e){return e!==null&&typeof e=="object"?e.valueOf():e}function $te(e=Cs){if(e===Cs)return h$;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function h$(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Mte=Math.sqrt(50),Dte=Math.sqrt(10),Fte=Math.sqrt(2);function ph(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),o=s>=Mte?10:s>=Dte?5:s>=Fte?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?ph(e,t,n*2):[l,c,u]}function gb(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,s,o]=r?ph(t,e,n):ph(e,t,n);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function xb(e,t,n){return t=+t,e=+e,n=+n,ph(e,t,n)[2]}function yb(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?xb(t,e,n):xb(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function ZE(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function JE(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function v$(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?h$:$te(a);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(n,Math.floor(t-u*f/c+p)),x=Math.min(r,Math.floor(t+(c-u)*f/c+p));v$(e,t,h,x,a)}const s=e[t];let o=n,l=r;for(Ru(e,n,t),a(e[r],s)>0&&Ru(e,n,r);o<l;){for(Ru(e,o,l),++o,--l;a(e[o],s)<0;)++o;for(;a(e[l],s)>0;)--l}a(e[n],s)===0?Ru(e,n,l):(++l,Ru(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function Ru(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Lte(e,t,n){if(e=Float64Array.from(Ote(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return JE(e);if(t>=1)return ZE(e);var r,a=(r-1)*t,s=Math.floor(a),o=ZE(v$(e,s).subarray(0,s+1)),l=JE(e.subarray(s+1));return o+(l-o)*(a-s)}}function qte(e,t,n=m$){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,s=Math.floor(a),o=+n(e[s],s,e),l=+n(e[s+1],s+1,e);return o+(l-o)*(a-s)}}function zte(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(a);++r<a;)s[r]=e+r*n;return s}function Jr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ba(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const bb=Symbol("implicit");function A1(){var e=new QE,t=[],n=[],r=bb;function a(s){let o=e.get(s);if(o===void 0){if(r!==bb)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new QE;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(s){return arguments.length?(n=Array.from(s),a):n.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return A1(t,n).unknown(r)},Jr.apply(a,arguments),a}function Kd(){var e=A1().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,s,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var p=t().length,h=a<r,x=h?a:r,m=h?r:a;s=(m-x)/Math.max(1,p-c+u*2),l&&(s=Math.floor(s)),x+=(m-x-s*(p-c))*d,o=s*(1-c),l&&(x=Math.round(x),o=Math.round(o));var g=zte(p).map(function(b){return x+s*b});return n(h?g.reverse():g)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([r,a]=p,r=+r,a=+a,f()):[r,a]},e.rangeRound=function(p){return[r,a]=p,r=+r,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(p){return arguments.length?(l=!!p,f()):l},e.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),f()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),f()):c},e.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},e.copy=function(){return Kd(t(),[r,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Jr.apply(f(),arguments)}function g$(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return g$(t())},e}function ud(){return g$(Kd.apply(null,arguments).paddingInner(1))}function k1(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function x$(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ip(){}var Yd=.7,mh=1/Yd,zl="\\s*([+-]?\\d+)\\s*",Qd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Bte=/^#([0-9a-f]{3,8})$/,Ute=new RegExp(`^rgb\\(${zl},${zl},${zl}\\)$`),Vte=new RegExp(`^rgb\\(${Hi},${Hi},${Hi}\\)$`),Hte=new RegExp(`^rgba\\(${zl},${zl},${zl},${Qd}\\)$`),Wte=new RegExp(`^rgba\\(${Hi},${Hi},${Hi},${Qd}\\)$`),Gte=new RegExp(`^hsl\\(${Qd},${Hi},${Hi}\\)$`),Kte=new RegExp(`^hsla\\(${Qd},${Hi},${Hi},${Qd}\\)$`),eA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};k1(ip,Xd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:tA,formatHex:tA,formatHex8:Yte,formatHsl:Qte,formatRgb:nA,toString:nA});function tA(){return this.rgb().formatHex()}function Yte(){return this.rgb().formatHex8()}function Qte(){return y$(this).formatHsl()}function nA(){return this.rgb().formatRgb()}function Xd(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Bte.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?rA(t):n===3?new fr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Fp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Fp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ute.exec(e))?new fr(t[1],t[2],t[3],1):(t=Vte.exec(e))?new fr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Hte.exec(e))?Fp(t[1],t[2],t[3],t[4]):(t=Wte.exec(e))?Fp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Gte.exec(e))?sA(t[1],t[2]/100,t[3]/100,1):(t=Kte.exec(e))?sA(t[1],t[2]/100,t[3]/100,t[4]):eA.hasOwnProperty(e)?rA(eA[e]):e==="transparent"?new fr(NaN,NaN,NaN,0):null}function rA(e){return new fr(e>>16&255,e>>8&255,e&255,1)}function Fp(e,t,n,r){return r<=0&&(e=t=n=NaN),new fr(e,t,n,r)}function Xte(e){return e instanceof ip||(e=Xd(e)),e?(e=e.rgb(),new fr(e.r,e.g,e.b,e.opacity)):new fr}function jb(e,t,n,r){return arguments.length===1?Xte(e):new fr(e,t,n,r??1)}function fr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}k1(fr,jb,x$(ip,{brighter(e){return e=e==null?mh:Math.pow(mh,e),new fr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yd:Math.pow(Yd,e),new fr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new fr(bo(this.r),bo(this.g),bo(this.b),hh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iA,formatHex:iA,formatHex8:Zte,formatRgb:aA,toString:aA}));function iA(){return`#${so(this.r)}${so(this.g)}${so(this.b)}`}function Zte(){return`#${so(this.r)}${so(this.g)}${so(this.b)}${so((isNaN(this.opacity)?1:this.opacity)*255)}`}function aA(){const e=hh(this.opacity);return`${e===1?"rgb(":"rgba("}${bo(this.r)}, ${bo(this.g)}, ${bo(this.b)}${e===1?")":`, ${e})`}`}function hh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function bo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function so(e){return e=bo(e),(e<16?"0":"")+e.toString(16)}function sA(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new di(e,t,n,r)}function y$(e){if(e instanceof di)return new di(e.h,e.s,e.l,e.opacity);if(e instanceof ip||(e=Xd(e)),!e)return new di;if(e instanceof di)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,l=s-a,c=(s+a)/2;return l?(t===s?o=(n-r)/l+(n<r)*6:n===s?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new di(o,l,c,e.opacity)}function Jte(e,t,n,r){return arguments.length===1?y$(e):new di(e,t,n,r??1)}function di(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}k1(di,Jte,x$(ip,{brighter(e){return e=e==null?mh:Math.pow(mh,e),new di(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yd:Math.pow(Yd,e),new di(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new fr(Qx(e>=240?e-240:e+120,a,r),Qx(e,a,r),Qx(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new di(oA(this.h),Lp(this.s),Lp(this.l),hh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=hh(this.opacity);return`${e===1?"hsl(":"hsla("}${oA(this.h)}, ${Lp(this.s)*100}%, ${Lp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function oA(e){return e=(e||0)%360,e<0?e+360:e}function Lp(e){return Math.max(0,Math.min(1,e||0))}function Qx(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const _1=e=>()=>e;function ene(e,t){return function(n){return e+n*t}}function tne(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function nne(e){return(e=+e)==1?b$:function(t,n){return n-t?tne(t,n,e):_1(isNaN(t)?n:t)}}function b$(e,t){var n=t-e;return n?ene(e,n):_1(isNaN(e)?t:e)}const lA=function e(t){var n=nne(t);function r(a,s){var o=n((a=jb(a)).r,(s=jb(s)).r),l=n(a.g,s.g),c=n(a.b,s.b),u=b$(a.opacity,s.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return r.gamma=e,r}(1);function rne(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(s){for(a=0;a<n;++a)r[a]=e[a]*(1-s)+t[a]*s;return r}}function ine(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ane(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)a[o]=hu(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(l){for(o=0;o<r;++o)s[o]=a[o](l);return s}}function sne(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function vh(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function one(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=hu(e[a],t[a]):r[a]=t[a];return function(s){for(a in n)r[a]=n[a](s);return r}}var wb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xx=new RegExp(wb.source,"g");function lne(e){return function(){return e}}function cne(e){return function(t){return e(t)+""}}function une(e,t){var n=wb.lastIndex=Xx.lastIndex=0,r,a,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=wb.exec(e))&&(a=Xx.exec(t));)(s=a.index)>n&&(s=t.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(r=r[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:vh(r,a)})),n=Xx.lastIndex;return n<t.length&&(s=t.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?cne(c[0].x):lne(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function hu(e,t){var n=typeof t,r;return t==null||n==="boolean"?_1(t):(n==="number"?vh:n==="string"?(r=Xd(t))?(t=r,lA):une:t instanceof Xd?lA:t instanceof Date?sne:ine(t)?rne:Array.isArray(t)?ane:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?one:vh)(e,t)}function O1(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function dne(e,t){t===void 0&&(t=e,e=hu);for(var n=0,r=t.length-1,a=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(a,a=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[l](o-l)}}function fne(e){return function(){return e}}function gh(e){return+e}var cA=[0,1];function rr(e){return e}function Nb(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:fne(isNaN(t)?NaN:.5)}function pne(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function mne(e,t,n){var r=e[0],a=e[1],s=t[0],o=t[1];return a<r?(r=Nb(a,r),s=n(o,s)):(r=Nb(r,a),s=n(s,o)),function(l){return s(r(l))}}function hne(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=Nb(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(l){var c=rp(e,l,1,r)-1;return s[c](a[c](l))}}function ap(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function xg(){var e=cA,t=cA,n=hu,r,a,s,o=rr,l,c,u;function d(){var p=Math.min(e.length,t.length);return o!==rr&&(o=pne(e[0],e[p-1])),l=p>2?hne:mne,c=u=null,f}function f(p){return p==null||isNaN(p=+p)?s:(c||(c=l(e.map(r),t,n)))(r(o(p)))}return f.invert=function(p){return o(a((u||(u=l(t,e.map(r),vh)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,gh),d()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),n=O1,d()},f.clamp=function(p){return arguments.length?(o=p?!0:rr,d()):o!==rr},f.interpolate=function(p){return arguments.length?(n=p,d()):n},f.unknown=function(p){return arguments.length?(s=p,f):s},function(p,h){return r=p,a=h,d()}}function P1(){return xg()(rr,rr)}function vne(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function xh(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ac(e){return e=xh(Math.abs(e)),e?e[1]:NaN}function gne(e,t){return function(n,r){for(var a=n.length,s=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),s.push(n.substring(a-=l,a+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function xne(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var yne=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zd(e){if(!(t=yne.exec(e)))throw new Error("invalid format: "+e);var t;return new T1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Zd.prototype=T1.prototype;function T1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}T1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function bne(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var j$;function jne(e,t){var n=xh(e,t);if(!n)return e+"";var r=n[0],a=n[1],s=a-(j$=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+xh(e,Math.max(0,t+s-1))[0]}function uA(e,t){var n=xh(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const dA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:vne,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>uA(e*100,t),r:uA,s:jne,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function fA(e){return e}var pA=Array.prototype.map,mA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function wne(e){var t=e.grouping===void 0||e.thousands===void 0?fA:gne(pA.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?fA:xne(pA.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Zd(f);var p=f.fill,h=f.align,x=f.sign,m=f.symbol,g=f.zero,b=f.width,v=f.comma,y=f.precision,w=f.trim,j=f.type;j==="n"?(v=!0,j="g"):dA[j]||(y===void 0&&(y=12),w=!0,j="g"),(g||p==="0"&&h==="=")&&(g=!0,p="0",h="=");var S=m==="$"?n:m==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",C=m==="$"?r:/[%p]/.test(j)?o:"",E=dA[j],k=/[defgprs%]/.test(j);y=y===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function $(O){var T=S,P=C,I,D,R;if(j==="c")P=E(O)+P,O="";else{O=+O;var V=O<0||1/O<0;if(O=isNaN(O)?c:E(Math.abs(O),y),w&&(O=bne(O)),V&&+O==0&&x!=="+"&&(V=!1),T=(V?x==="("?x:l:x==="-"||x==="("?"":x)+T,P=(j==="s"?mA[8+j$/3]:"")+P+(V&&x==="("?")":""),k){for(I=-1,D=O.length;++I<D;)if(R=O.charCodeAt(I),48>R||R>57){P=(R===46?a+O.slice(I+1):O.slice(I))+P,O=O.slice(0,I);break}}}v&&!g&&(O=t(O,1/0));var q=T.length+O.length+P.length,B=q<b?new Array(b-q+1).join(p):"";switch(v&&g&&(O=t(B+O,B.length?b-P.length:1/0),B=""),h){case"<":O=T+O+P+B;break;case"=":O=T+B+O+P;break;case"^":O=B.slice(0,q=B.length>>1)+T+O+P+B.slice(q);break;default:O=B+T+O+P;break}return s(O)}return $.toString=function(){return f+""},$}function d(f,p){var h=u((f=Zd(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(Ac(p)/3)))*3,m=Math.pow(10,-x),g=mA[8+x/3];return function(b){return h(m*b)+g}}return{format:u,formatPrefix:d}}var qp,I1,w$;Nne({thousands:",",grouping:[3],currency:["$",""]});function Nne(e){return qp=wne(e),I1=qp.format,w$=qp.formatPrefix,qp}function Sne(e){return Math.max(0,-Ac(Math.abs(e)))}function Cne(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ac(t)/3)))*3-Ac(Math.abs(e)))}function Ene(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ac(t)-Ac(e))+1}function N$(e,t,n,r){var a=yb(e,t,n),s;switch(r=Zd(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=Cne(a,o))&&(r.precision=s),w$(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Ene(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Sne(a))&&(r.precision=s-(r.type==="%")*2);break}}return I1(r)}function zs(e){var t=e.domain;return e.ticks=function(n){var r=t();return gb(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return N$(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,s=r.length-1,o=r[a],l=r[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=s,s=u);d-- >0;){if(u=xb(o,l,n),u===c)return r[a]=o,r[s]=l,t(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function yh(){var e=P1();return e.copy=function(){return ap(e,yh())},Jr.apply(e,arguments),zs(e)}function S$(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,gh),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return S$(e).unknown(t)},e=arguments.length?Array.from(e,gh):[0,1],zs(n)}function C$(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],s=e[r],o;return s<a&&(o=n,n=r,r=o,o=a,a=s,s=o),e[n]=t.floor(a),e[r]=t.ceil(s),e}function hA(e){return Math.log(e)}function vA(e){return Math.exp(e)}function Ane(e){return-Math.log(-e)}function kne(e){return-Math.exp(-e)}function _ne(e){return isFinite(e)?+("1e"+e):e<0?0:e}function One(e){return e===10?_ne:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Pne(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function gA(e){return(t,n)=>-e(-t,n)}function R1(e){const t=e(hA,vA),n=t.domain;let r=10,a,s;function o(){return a=Pne(r),s=One(r),n()[0]<0?(a=gA(a),s=gA(s),e(Ane,kne)):e(hA,vA),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let p=a(u),h=a(d),x,m;const g=l==null?10:+l;let b=[];if(!(r%1)&&h-p<g){if(p=Math.floor(p),h=Math.ceil(h),u>0){for(;p<=h;++p)for(x=1;x<r;++x)if(m=p<0?x/s(-p):x*s(p),!(m<u)){if(m>d)break;b.push(m)}}else for(;p<=h;++p)for(x=r-1;x>=1;--x)if(m=p>0?x/s(-p):x*s(p),!(m<u)){if(m>d)break;b.push(m)}b.length*2<g&&(b=gb(u,d,g))}else b=gb(p,h,Math.min(h-p,g)).map(s);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Zd(c)).precision==null&&(c.trim=!0),c=I1(c)),l===1/0)return c;const u=Math.max(1,r*l/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},t.nice=()=>n(C$(n(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),t}function E$(){const e=R1(xg()).domain([1,10]);return e.copy=()=>ap(e,E$()).base(e.base()),Jr.apply(e,arguments),e}function xA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function yA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function $1(e){var t=1,n=e(xA(t),yA(t));return n.constant=function(r){return arguments.length?e(xA(t=+r),yA(t)):t},zs(n)}function A$(){var e=$1(xg());return e.copy=function(){return ap(e,A$()).constant(e.constant())},Jr.apply(e,arguments)}function bA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Tne(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Ine(e){return e<0?-e*e:e*e}function M1(e){var t=e(rr,rr),n=1;function r(){return n===1?e(rr,rr):n===.5?e(Tne,Ine):e(bA(n),bA(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},zs(t)}function D1(){var e=M1(xg());return e.copy=function(){return ap(e,D1()).exponent(e.exponent())},Jr.apply(e,arguments),e}function Rne(){return D1.apply(null,arguments).exponent(.5)}function jA(e){return Math.sign(e)*e*e}function $ne(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function k$(){var e=P1(),t=[0,1],n=!1,r;function a(s){var o=$ne(e(s));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(s){return e.invert(jA(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,gh)).map(jA)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(n=!!s,a):n},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return k$(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Jr.apply(a,arguments),zs(a)}function _$(){var e=[],t=[],n=[],r;function a(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=qte(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?r:t[rp(n,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Cs),a()},s.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return _$().domain(e).range(t).unknown(r)},Jr.apply(s,arguments)}function O$(){var e=0,t=1,n=1,r=[.5],a=[0,1],s;function o(c){return c!=null&&c<=c?a[rp(r,c,0,n)]:s}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return O$().domain([e,t]).range(a).unknown(s)},Jr.apply(zs(o),arguments)}function P$(){var e=[.5],t=[0,1],n,r=1;function a(s){return s!=null&&s<=s?t[rp(e,s,0,r)]:n}return a.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return P$().domain(e).range(t).unknown(n)},Jr.apply(a,arguments)}const Zx=new Date,Jx=new Date;function En(e,t,n,r){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},a.filter=s=>En(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),n&&(a.count=(s,o)=>(Zx.setTime(+s),Jx.setTime(+o),e(Zx),e(Jx),Math.floor(n(Zx,Jx))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(r?o=>r(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const bh=En(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);bh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?En(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):bh);bh.range;const ga=1e3,Hr=ga*60,xa=Hr*60,Ra=xa*24,F1=Ra*7,wA=Ra*30,ey=Ra*365,oo=En(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ga)},(e,t)=>(t-e)/ga,e=>e.getUTCSeconds());oo.range;const L1=En(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ga)},(e,t)=>{e.setTime(+e+t*Hr)},(e,t)=>(t-e)/Hr,e=>e.getMinutes());L1.range;const q1=En(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Hr)},(e,t)=>(t-e)/Hr,e=>e.getUTCMinutes());q1.range;const z1=En(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ga-e.getMinutes()*Hr)},(e,t)=>{e.setTime(+e+t*xa)},(e,t)=>(t-e)/xa,e=>e.getHours());z1.range;const B1=En(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*xa)},(e,t)=>(t-e)/xa,e=>e.getUTCHours());B1.range;const sp=En(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Hr)/Ra,e=>e.getDate()-1);sp.range;const yg=En(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ra,e=>e.getUTCDate()-1);yg.range;const T$=En(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ra,e=>Math.floor(e/Ra));T$.range;function Ko(e){return En(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Hr)/F1)}const bg=Ko(0),jh=Ko(1),Mne=Ko(2),Dne=Ko(3),kc=Ko(4),Fne=Ko(5),Lne=Ko(6);bg.range;jh.range;Mne.range;Dne.range;kc.range;Fne.range;Lne.range;function Yo(e){return En(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/F1)}const jg=Yo(0),wh=Yo(1),qne=Yo(2),zne=Yo(3),_c=Yo(4),Bne=Yo(5),Une=Yo(6);jg.range;wh.range;qne.range;zne.range;_c.range;Bne.range;Une.range;const U1=En(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());U1.range;const V1=En(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());V1.range;const $a=En(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());$a.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:En(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});$a.range;const Ma=En(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ma.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:En(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ma.range;function I$(e,t,n,r,a,s){const o=[[oo,1,ga],[oo,5,5*ga],[oo,15,15*ga],[oo,30,30*ga],[s,1,Hr],[s,5,5*Hr],[s,15,15*Hr],[s,30,30*Hr],[a,1,xa],[a,3,3*xa],[a,6,6*xa],[a,12,12*xa],[r,1,Ra],[r,2,2*Ra],[n,1,F1],[t,1,wA],[t,3,3*wA],[e,1,ey]];function l(u,d,f){const p=d<u;p&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),x=h?h.range(u,+d+1):[];return p?x.reverse():x}function c(u,d,f){const p=Math.abs(d-u)/f,h=E1(([,,g])=>g).right(o,p);if(h===o.length)return e.every(yb(u/ey,d/ey,f));if(h===0)return bh.every(Math.max(yb(u,d,f),1));const[x,m]=o[p/o[h-1][2]<o[h][2]/p?h-1:h];return x.every(m)}return[l,c]}const[Vne,Hne]=I$(Ma,V1,jg,T$,B1,q1),[Wne,Gne]=I$($a,U1,bg,sp,z1,L1);function ty(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ny(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function $u(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Kne(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Mu(a),d=Du(a),f=Mu(s),p=Du(s),h=Mu(o),x=Du(o),m=Mu(l),g=Du(l),b=Mu(c),v=Du(c),y={a:V,A:q,b:B,B:W,c:null,d:kA,e:kA,f:gre,g:Are,G:_re,H:mre,I:hre,j:vre,L:R$,m:xre,M:yre,p:Z,q:te,Q:PA,s:TA,S:bre,u:jre,U:wre,V:Nre,w:Sre,W:Cre,x:null,X:null,y:Ere,Y:kre,Z:Ore,"%":OA},w={a:fe,A:Ae,b:He,B:ze,c:null,d:_A,e:_A,f:Rre,g:Vre,G:Wre,H:Pre,I:Tre,j:Ire,L:M$,m:$re,M:Mre,p:xe,q:Re,Q:PA,s:TA,S:Dre,u:Fre,U:Lre,V:qre,w:zre,W:Bre,x:null,X:null,y:Ure,Y:Hre,Z:Gre,"%":OA},j={a:$,A:O,b:T,B:P,c:I,d:EA,e:EA,f:ure,g:CA,G:SA,H:AA,I:AA,j:sre,L:cre,m:are,M:ore,p:k,q:ire,Q:fre,s:pre,S:lre,u:Jne,U:ere,V:tre,w:Zne,W:nre,x:D,X:R,y:CA,Y:SA,Z:rre,"%":dre};y.x=S(n,y),y.X=S(r,y),y.c=S(t,y),w.x=S(n,w),w.X=S(r,w),w.c=S(t,w);function S(le,ce){return function(me){var Y=[],Ie=-1,Ne=0,Q=le.length,de,ye,Fe;for(me instanceof Date||(me=new Date(+me));++Ie<Q;)le.charCodeAt(Ie)===37&&(Y.push(le.slice(Ne,Ie)),(ye=NA[de=le.charAt(++Ie)])!=null?de=le.charAt(++Ie):ye=de==="e"?" ":"0",(Fe=ce[de])&&(de=Fe(me,ye)),Y.push(de),Ne=Ie+1);return Y.push(le.slice(Ne,Ie)),Y.join("")}}function C(le,ce){return function(me){var Y=$u(1900,void 0,1),Ie=E(Y,le,me+="",0),Ne,Q;if(Ie!=me.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(ce&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(Ne=ny($u(Y.y,0,1)),Q=Ne.getUTCDay(),Ne=Q>4||Q===0?wh.ceil(Ne):wh(Ne),Ne=yg.offset(Ne,(Y.V-1)*7),Y.y=Ne.getUTCFullYear(),Y.m=Ne.getUTCMonth(),Y.d=Ne.getUTCDate()+(Y.w+6)%7):(Ne=ty($u(Y.y,0,1)),Q=Ne.getDay(),Ne=Q>4||Q===0?jh.ceil(Ne):jh(Ne),Ne=sp.offset(Ne,(Y.V-1)*7),Y.y=Ne.getFullYear(),Y.m=Ne.getMonth(),Y.d=Ne.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),Q="Z"in Y?ny($u(Y.y,0,1)).getUTCDay():ty($u(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(Q+5)%7:Y.w+Y.U*7-(Q+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,ny(Y)):ty(Y)}}function E(le,ce,me,Y){for(var Ie=0,Ne=ce.length,Q=me.length,de,ye;Ie<Ne;){if(Y>=Q)return-1;if(de=ce.charCodeAt(Ie++),de===37){if(de=ce.charAt(Ie++),ye=j[de in NA?ce.charAt(Ie++):de],!ye||(Y=ye(le,me,Y))<0)return-1}else if(de!=me.charCodeAt(Y++))return-1}return Y}function k(le,ce,me){var Y=u.exec(ce.slice(me));return Y?(le.p=d.get(Y[0].toLowerCase()),me+Y[0].length):-1}function $(le,ce,me){var Y=h.exec(ce.slice(me));return Y?(le.w=x.get(Y[0].toLowerCase()),me+Y[0].length):-1}function O(le,ce,me){var Y=f.exec(ce.slice(me));return Y?(le.w=p.get(Y[0].toLowerCase()),me+Y[0].length):-1}function T(le,ce,me){var Y=b.exec(ce.slice(me));return Y?(le.m=v.get(Y[0].toLowerCase()),me+Y[0].length):-1}function P(le,ce,me){var Y=m.exec(ce.slice(me));return Y?(le.m=g.get(Y[0].toLowerCase()),me+Y[0].length):-1}function I(le,ce,me){return E(le,t,ce,me)}function D(le,ce,me){return E(le,n,ce,me)}function R(le,ce,me){return E(le,r,ce,me)}function V(le){return o[le.getDay()]}function q(le){return s[le.getDay()]}function B(le){return c[le.getMonth()]}function W(le){return l[le.getMonth()]}function Z(le){return a[+(le.getHours()>=12)]}function te(le){return 1+~~(le.getMonth()/3)}function fe(le){return o[le.getUTCDay()]}function Ae(le){return s[le.getUTCDay()]}function He(le){return c[le.getUTCMonth()]}function ze(le){return l[le.getUTCMonth()]}function xe(le){return a[+(le.getUTCHours()>=12)]}function Re(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var ce=S(le+="",y);return ce.toString=function(){return le},ce},parse:function(le){var ce=C(le+="",!1);return ce.toString=function(){return le},ce},utcFormat:function(le){var ce=S(le+="",w);return ce.toString=function(){return le},ce},utcParse:function(le){var ce=C(le+="",!0);return ce.toString=function(){return le},ce}}}var NA={"-":"",_:" ",0:"0"},Pn=/^\s*\d+/,Yne=/^%/,Qne=/[\\^$*+?|[\]().{}]/g;function At(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",s=a.length;return r+(s<n?new Array(n-s+1).join(t)+a:a)}function Xne(e){return e.replace(Qne,"\\$&")}function Mu(e){return new RegExp("^(?:"+e.map(Xne).join("|")+")","i")}function Du(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Zne(e,t,n){var r=Pn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Jne(e,t,n){var r=Pn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function ere(e,t,n){var r=Pn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function tre(e,t,n){var r=Pn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function nre(e,t,n){var r=Pn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function SA(e,t,n){var r=Pn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function CA(e,t,n){var r=Pn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function rre(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ire(e,t,n){var r=Pn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function are(e,t,n){var r=Pn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function EA(e,t,n){var r=Pn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function sre(e,t,n){var r=Pn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function AA(e,t,n){var r=Pn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function ore(e,t,n){var r=Pn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function lre(e,t,n){var r=Pn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function cre(e,t,n){var r=Pn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function ure(e,t,n){var r=Pn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function dre(e,t,n){var r=Yne.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function fre(e,t,n){var r=Pn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function pre(e,t,n){var r=Pn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function kA(e,t){return At(e.getDate(),t,2)}function mre(e,t){return At(e.getHours(),t,2)}function hre(e,t){return At(e.getHours()%12||12,t,2)}function vre(e,t){return At(1+sp.count($a(e),e),t,3)}function R$(e,t){return At(e.getMilliseconds(),t,3)}function gre(e,t){return R$(e,t)+"000"}function xre(e,t){return At(e.getMonth()+1,t,2)}function yre(e,t){return At(e.getMinutes(),t,2)}function bre(e,t){return At(e.getSeconds(),t,2)}function jre(e){var t=e.getDay();return t===0?7:t}function wre(e,t){return At(bg.count($a(e)-1,e),t,2)}function $$(e){var t=e.getDay();return t>=4||t===0?kc(e):kc.ceil(e)}function Nre(e,t){return e=$$(e),At(kc.count($a(e),e)+($a(e).getDay()===4),t,2)}function Sre(e){return e.getDay()}function Cre(e,t){return At(jh.count($a(e)-1,e),t,2)}function Ere(e,t){return At(e.getFullYear()%100,t,2)}function Are(e,t){return e=$$(e),At(e.getFullYear()%100,t,2)}function kre(e,t){return At(e.getFullYear()%1e4,t,4)}function _re(e,t){var n=e.getDay();return e=n>=4||n===0?kc(e):kc.ceil(e),At(e.getFullYear()%1e4,t,4)}function Ore(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+At(t/60|0,"0",2)+At(t%60,"0",2)}function _A(e,t){return At(e.getUTCDate(),t,2)}function Pre(e,t){return At(e.getUTCHours(),t,2)}function Tre(e,t){return At(e.getUTCHours()%12||12,t,2)}function Ire(e,t){return At(1+yg.count(Ma(e),e),t,3)}function M$(e,t){return At(e.getUTCMilliseconds(),t,3)}function Rre(e,t){return M$(e,t)+"000"}function $re(e,t){return At(e.getUTCMonth()+1,t,2)}function Mre(e,t){return At(e.getUTCMinutes(),t,2)}function Dre(e,t){return At(e.getUTCSeconds(),t,2)}function Fre(e){var t=e.getUTCDay();return t===0?7:t}function Lre(e,t){return At(jg.count(Ma(e)-1,e),t,2)}function D$(e){var t=e.getUTCDay();return t>=4||t===0?_c(e):_c.ceil(e)}function qre(e,t){return e=D$(e),At(_c.count(Ma(e),e)+(Ma(e).getUTCDay()===4),t,2)}function zre(e){return e.getUTCDay()}function Bre(e,t){return At(wh.count(Ma(e)-1,e),t,2)}function Ure(e,t){return At(e.getUTCFullYear()%100,t,2)}function Vre(e,t){return e=D$(e),At(e.getUTCFullYear()%100,t,2)}function Hre(e,t){return At(e.getUTCFullYear()%1e4,t,4)}function Wre(e,t){var n=e.getUTCDay();return e=n>=4||n===0?_c(e):_c.ceil(e),At(e.getUTCFullYear()%1e4,t,4)}function Gre(){return"+0000"}function OA(){return"%"}function PA(e){return+e}function TA(e){return Math.floor(+e/1e3)}var rl,F$,L$;Kre({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Kre(e){return rl=Kne(e),F$=rl.format,rl.parse,L$=rl.utcFormat,rl.utcParse,rl}function Yre(e){return new Date(e)}function Qre(e){return e instanceof Date?+e:+new Date(+e)}function H1(e,t,n,r,a,s,o,l,c,u){var d=P1(),f=d.invert,p=d.domain,h=u(".%L"),x=u(":%S"),m=u("%I:%M"),g=u("%I %p"),b=u("%a %d"),v=u("%b %d"),y=u("%B"),w=u("%Y");function j(S){return(c(S)<S?h:l(S)<S?x:o(S)<S?m:s(S)<S?g:r(S)<S?a(S)<S?b:v:n(S)<S?y:w)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?p(Array.from(S,Qre)):p().map(Yre)},d.ticks=function(S){var C=p();return e(C[0],C[C.length-1],S??10)},d.tickFormat=function(S,C){return C==null?j:u(C)},d.nice=function(S){var C=p();return(!S||typeof S.range!="function")&&(S=t(C[0],C[C.length-1],S??10)),S?p(C$(C,S)):d},d.copy=function(){return ap(d,H1(e,t,n,r,a,s,o,l,c,u))},d}function Xre(){return Jr.apply(H1(Wne,Gne,$a,U1,bg,sp,z1,L1,oo,F$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Zre(){return Jr.apply(H1(Vne,Hne,Ma,V1,jg,yg,B1,q1,oo,L$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function wg(){var e=0,t=1,n,r,a,s,o=rr,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(s(f)-n)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=s(e=+e),r=s(t=+t),a=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(p){var h,x;return arguments.length?([h,x]=p,o=f(h,x),u):[o(0),o(1)]}}return u.range=d(hu),u.rangeRound=d(O1),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,n=f(e),r=f(t),a=n===r?0:1/(r-n),u}}function Bs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function q$(){var e=zs(wg()(rr));return e.copy=function(){return Bs(e,q$())},Ba.apply(e,arguments)}function z$(){var e=R1(wg()).domain([1,10]);return e.copy=function(){return Bs(e,z$()).base(e.base())},Ba.apply(e,arguments)}function B$(){var e=$1(wg());return e.copy=function(){return Bs(e,B$()).constant(e.constant())},Ba.apply(e,arguments)}function W1(){var e=M1(wg());return e.copy=function(){return Bs(e,W1()).exponent(e.exponent())},Ba.apply(e,arguments)}function Jre(){return W1.apply(null,arguments).exponent(.5)}function U$(){var e=[],t=rr;function n(r){if(r!=null&&!isNaN(r=+r))return t((rp(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Cs),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,s)=>Lte(e,s/r))},n.copy=function(){return U$(t).domain(e)},Ba.apply(n,arguments)}function Ng(){var e=0,t=.5,n=1,r=1,a,s,o,l,c,u=rr,d,f=!1,p;function h(m){return isNaN(m=+m)?p:(m=.5+((m=+d(m))-s)*(r*m<r*s?l:c),u(f?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t,n]=m,a=d(e=+e),s=d(t=+t),o=d(n=+n),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),r=s<a?-1:1,h):[e,t,n]},h.clamp=function(m){return arguments.length?(f=!!m,h):f},h.interpolator=function(m){return arguments.length?(u=m,h):u};function x(m){return function(g){var b,v,y;return arguments.length?([b,v,y]=g,u=dne(m,[b,v,y]),h):[u(0),u(.5),u(1)]}}return h.range=x(hu),h.rangeRound=x(O1),h.unknown=function(m){return arguments.length?(p=m,h):p},function(m){return d=m,a=m(e),s=m(t),o=m(n),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),r=s<a?-1:1,h}}function V$(){var e=zs(Ng()(rr));return e.copy=function(){return Bs(e,V$())},Ba.apply(e,arguments)}function H$(){var e=R1(Ng()).domain([.1,1,10]);return e.copy=function(){return Bs(e,H$()).base(e.base())},Ba.apply(e,arguments)}function W$(){var e=$1(Ng());return e.copy=function(){return Bs(e,W$()).constant(e.constant())},Ba.apply(e,arguments)}function G1(){var e=M1(Ng());return e.copy=function(){return Bs(e,G1()).exponent(e.exponent())},Ba.apply(e,arguments)}function eie(){return G1.apply(null,arguments).exponent(.5)}const IA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Kd,scaleDiverging:V$,scaleDivergingLog:H$,scaleDivergingPow:G1,scaleDivergingSqrt:eie,scaleDivergingSymlog:W$,scaleIdentity:S$,scaleImplicit:bb,scaleLinear:yh,scaleLog:E$,scaleOrdinal:A1,scalePoint:ud,scalePow:D1,scaleQuantile:_$,scaleQuantize:O$,scaleRadial:k$,scaleSequential:q$,scaleSequentialLog:z$,scaleSequentialPow:W1,scaleSequentialQuantile:U$,scaleSequentialSqrt:Jre,scaleSequentialSymlog:B$,scaleSqrt:Rne,scaleSymlog:A$,scaleThreshold:P$,scaleTime:Xre,scaleUtc:Zre,tickFormat:N$},Symbol.toStringTag,{value:"Module"}));var tie=ou;function nie(e,t,n){for(var r=-1,a=e.length;++r<a;){var s=e[r],o=t(s);if(o!=null&&(l===void 0?o===o&&!tie(o):n(o,l)))var l=o,c=s}return c}var Sg=nie;function rie(e,t){return e>t}var G$=rie,iie=Sg,aie=G$,sie=mu;function oie(e){return e&&e.length?iie(e,sie,aie):void 0}var lie=oie;const Cg=Ot(lie);function cie(e,t){return e<t}var K$=cie,uie=Sg,die=K$,fie=mu;function pie(e){return e&&e.length?uie(e,fie,die):void 0}var mie=pie;const Eg=Ot(mie);var hie=o1,vie=na,gie=n$,xie=gr;function yie(e,t){var n=xie(e)?hie:gie;return n(e,vie(t))}var bie=yie,jie=e$,wie=bie;function Nie(e,t){return jie(wie(e,t),1)}var Sie=Nie;const Cie=Ot(Sie);var Eie=w1;function Aie(e,t){return Eie(e,t)}var kie=Aie;const Ag=Ot(kie);var vu=1e9,_ie={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Y1,Kt=!0,Qr="[DecimalError] ",jo=Qr+"Invalid argument: ",K1=Qr+"Exponent out of range: ",gu=Math.floor,Js=Math.pow,Oie=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Sr,An=1e7,Ht=7,Y$=9007199254740991,Nh=gu(Y$/Ht),Pe={};Pe.absoluteValue=Pe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Pe.comparedTo=Pe.cmp=function(e){var t,n,r,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===a?0:r>a^s.s<0?1:-1};Pe.decimalPlaces=Pe.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Ht;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Pe.dividedBy=Pe.div=function(e){return Na(this,new this.constructor(e))};Pe.dividedToIntegerBy=Pe.idiv=function(e){var t=this,n=t.constructor;return Mt(Na(t,new n(e),0,1),n.precision)};Pe.equals=Pe.eq=function(e){return!this.cmp(e)};Pe.exponent=function(){return gn(this)};Pe.greaterThan=Pe.gt=function(e){return this.cmp(e)>0};Pe.greaterThanOrEqualTo=Pe.gte=function(e){return this.cmp(e)>=0};Pe.isInteger=Pe.isint=function(){return this.e>this.d.length-2};Pe.isNegative=Pe.isneg=function(){return this.s<0};Pe.isPositive=Pe.ispos=function(){return this.s>0};Pe.isZero=function(){return this.s===0};Pe.lessThan=Pe.lt=function(e){return this.cmp(e)<0};Pe.lessThanOrEqualTo=Pe.lte=function(e){return this.cmp(e)<1};Pe.logarithm=Pe.log=function(e){var t,n=this,r=n.constructor,a=r.precision,s=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Sr))throw Error(Qr+"NaN");if(n.s<1)throw Error(Qr+(n.s?"NaN":"-Infinity"));return n.eq(Sr)?new r(0):(Kt=!1,t=Na(Jd(n,s),Jd(e,s),s),Kt=!0,Mt(t,a))};Pe.minus=Pe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Z$(t,e):Q$(t,(e.s=-e.s,e))};Pe.modulo=Pe.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(Qr+"NaN");return n.s?(Kt=!1,t=Na(n,e,0,1).times(e),Kt=!0,n.minus(t)):Mt(new r(n),a)};Pe.naturalExponential=Pe.exp=function(){return X$(this)};Pe.naturalLogarithm=Pe.ln=function(){return Jd(this)};Pe.negated=Pe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Pe.plus=Pe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Q$(t,e):Z$(t,(e.s=-e.s,e))};Pe.precision=Pe.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(jo+e);if(t=gn(a)+1,r=a.d.length-1,n=r*Ht+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Pe.squareRoot=Pe.sqrt=function(){var e,t,n,r,a,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Qr+"NaN")}for(e=gn(l),Kt=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=qi(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=gu((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(a.toString()),n=c.precision,a=o=n+3;;)if(s=r,r=s.plus(Na(l,s,o+2)).times(.5),qi(s.d).slice(0,o)===(t=qi(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Mt(s,n+1,0),s.times(s).eq(l)){r=s;break}}else if(t!="9999")break;o+=4}return Kt=!0,Mt(r,n)};Pe.times=Pe.mul=function(e){var t,n,r,a,s,o,l,c,u,d=this,f=d.constructor,p=d.d,h=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,c=p.length,u=h.length,c<u&&(s=p,p=h,h=s,o=c,c=u,u=o),s=[],o=c+u,r=o;r--;)s.push(0);for(r=u;--r>=0;){for(t=0,a=c+r;a>r;)l=s[a]+h[r]*p[a-r-1]+t,s[a--]=l%An|0,t=l/An|0;s[a]=(s[a]+t)%An|0}for(;!s[--o];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,Kt?Mt(e,f.precision):e};Pe.toDecimalPlaces=Pe.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Qi(e,0,vu),t===void 0?t=r.rounding:Qi(t,0,8),Mt(n,e+gn(n)+1,t))};Pe.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=$o(r,!0):(Qi(e,0,vu),t===void 0?t=a.rounding:Qi(t,0,8),r=Mt(new a(r),e+1,t),n=$o(r,!0,e+1)),n};Pe.toFixed=function(e,t){var n,r,a=this,s=a.constructor;return e===void 0?$o(a):(Qi(e,0,vu),t===void 0?t=s.rounding:Qi(t,0,8),r=Mt(new s(a),e+gn(a)+1,t),n=$o(r.abs(),!1,e+gn(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Pe.toInteger=Pe.toint=function(){var e=this,t=e.constructor;return Mt(new t(e),gn(e)+1,t.rounding)};Pe.toNumber=function(){return+this};Pe.toPower=Pe.pow=function(e){var t,n,r,a,s,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Sr);if(l=new c(l),!l.s){if(e.s<1)throw Error(Qr+"Infinity");return l}if(l.eq(Sr))return l;if(r=c.precision,e.eq(Sr))return Mt(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,s=l.s,o){if((n=d<0?-d:d)<=Y$){for(a=new c(Sr),t=Math.ceil(r/Ht+4),Kt=!1;n%2&&(a=a.times(l),$A(a.d,t)),n=gu(n/2),n!==0;)l=l.times(l),$A(l.d,t);return Kt=!0,e.s<0?new c(Sr).div(a):Mt(a,r)}}else if(s<0)throw Error(Qr+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Kt=!1,a=e.times(Jd(l,r+u)),Kt=!0,a=X$(a),a.s=s,a};Pe.toPrecision=function(e,t){var n,r,a=this,s=a.constructor;return e===void 0?(n=gn(a),r=$o(a,n<=s.toExpNeg||n>=s.toExpPos)):(Qi(e,1,vu),t===void 0?t=s.rounding:Qi(t,0,8),a=Mt(new s(a),e,t),n=gn(a),r=$o(a,e<=n||n<=s.toExpNeg,e)),r};Pe.toSignificantDigits=Pe.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Qi(e,1,vu),t===void 0?t=r.rounding:Qi(t,0,8)),Mt(new r(n),e,t)};Pe.toString=Pe.valueOf=Pe.val=Pe.toJSON=Pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=gn(e),n=e.constructor;return $o(e,t<=n.toExpNeg||t>=n.toExpPos)};function Q$(e,t){var n,r,a,s,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Kt?Mt(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),s=o-a,s){for(s<0?(r=c,s=-s,l=u.length):(r=u,a=o,l=c.length),o=Math.ceil(f/Ht),l=o>l?o+1:l+1,s>l&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,r=u,u=c,c=r),n=0;s;)n=(c[--s]=c[s]+u[s]+n)/An|0,c[s]%=An;for(n&&(c.unshift(n),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Kt?Mt(t,f):t}function Qi(e,t,n){if(e!==~~e||e<t||e>n)throw Error(jo+e)}function qi(e){var t,n,r,a=e.length-1,s="",o=e[0];if(a>0){for(s+=o,t=1;t<a;t++)r=e[t]+"",n=Ht-r.length,n&&(s+=Ja(n)),s+=r;o=e[t],r=o+"",n=Ht-r.length,n&&(s+=Ja(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Na=function(){function e(r,a){var s,o=0,l=r.length;for(r=r.slice();l--;)s=r[l]*a+o,r[l]=s%An|0,o=s/An|0;return o&&r.unshift(o),r}function t(r,a,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(r[l]!=a[l]){c=r[l]>a[l]?1:-1;break}return c}function n(r,a,s){for(var o=0;s--;)r[s]-=o,o=r[s]<a[s]?1:0,r[s]=o*An+r[s]-a[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,s,o){var l,c,u,d,f,p,h,x,m,g,b,v,y,w,j,S,C,E,k=r.constructor,$=r.s==a.s?1:-1,O=r.d,T=a.d;if(!r.s)return new k(r);if(!a.s)throw Error(Qr+"Division by zero");for(c=r.e-a.e,C=T.length,j=O.length,h=new k($),x=h.d=[],u=0;T[u]==(O[u]||0);)++u;if(T[u]>(O[u]||0)&&--c,s==null?v=s=k.precision:o?v=s+(gn(r)-gn(a))+1:v=s,v<0)return new k(0);if(v=v/Ht+2|0,u=0,C==1)for(d=0,T=T[0],v++;(u<j||d)&&v--;u++)y=d*An+(O[u]||0),x[u]=y/T|0,d=y%T|0;else{for(d=An/(T[0]+1)|0,d>1&&(T=e(T,d),O=e(O,d),C=T.length,j=O.length),w=C,m=O.slice(0,C),g=m.length;g<C;)m[g++]=0;E=T.slice(),E.unshift(0),S=T[0],T[1]>=An/2&&++S;do d=0,l=t(T,m,C,g),l<0?(b=m[0],C!=g&&(b=b*An+(m[1]||0)),d=b/S|0,d>1?(d>=An&&(d=An-1),f=e(T,d),p=f.length,g=m.length,l=t(f,m,p,g),l==1&&(d--,n(f,C<p?E:T,p))):(d==0&&(l=d=1),f=T.slice()),p=f.length,p<g&&f.unshift(0),n(m,f,g),l==-1&&(g=m.length,l=t(T,m,C,g),l<1&&(d++,n(m,C<g?E:T,g))),g=m.length):l===0&&(d++,m=[0]),x[u++]=d,l&&m[0]?m[g++]=O[w]||0:(m=[O[w]],g=1);while((w++<j||m[0]!==void 0)&&v--)}return x[0]||x.shift(),h.e=c,Mt(h,o?s+gn(h)+1:s)}}();function X$(e,t){var n,r,a,s,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(gn(e)>16)throw Error(K1+gn(e));if(!e.s)return new d(Sr);for(t==null?(Kt=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(Js(2,u))/Math.LN10*2+5|0,l+=r,n=a=s=new d(Sr),d.precision=l;;){if(a=Mt(a.times(e),l),n=n.times(++c),o=s.plus(Na(a,n,l)),qi(o.d).slice(0,l)===qi(s.d).slice(0,l)){for(;u--;)s=Mt(s.times(s),l);return d.precision=f,t==null?(Kt=!0,Mt(s,f)):s}s=o}}function gn(e){for(var t=e.e*Ht,n=e.d[0];n>=10;n/=10)t++;return t}function ry(e,t,n){if(t>e.LN10.sd())throw Kt=!0,n&&(e.precision=n),Error(Qr+"LN10 precision limit exceeded");return Mt(new e(e.LN10),t)}function Ja(e){for(var t="";e--;)t+="0";return t}function Jd(e,t){var n,r,a,s,o,l,c,u,d,f=1,p=10,h=e,x=h.d,m=h.constructor,g=m.precision;if(h.s<1)throw Error(Qr+(h.s?"NaN":"-Infinity"));if(h.eq(Sr))return new m(0);if(t==null?(Kt=!1,u=g):u=t,h.eq(10))return t==null&&(Kt=!0),ry(m,u);if(u+=p,m.precision=u,n=qi(x),r=n.charAt(0),s=gn(h),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)h=h.times(e),n=qi(h.d),r=n.charAt(0),f++;s=gn(h),r>1?(h=new m("0."+n),s++):h=new m(r+"."+n.slice(1))}else return c=ry(m,u+2,g).times(s+""),h=Jd(new m(r+"."+n.slice(1)),u-p).plus(c),m.precision=g,t==null?(Kt=!0,Mt(h,g)):h;for(l=o=h=Na(h.minus(Sr),h.plus(Sr),u),d=Mt(h.times(h),u),a=3;;){if(o=Mt(o.times(d),u),c=l.plus(Na(o,new m(a),u)),qi(c.d).slice(0,u)===qi(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(ry(m,u+2,g).times(s+""))),l=Na(l,new m(f),u),m.precision=g,t==null?(Kt=!0,Mt(l,g)):l;l=c,a+=2}}function RA(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=gu(n/Ht),e.d=[],r=(n+1)%Ht,n<0&&(r+=Ht),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=Ht;r<a;)e.d.push(+t.slice(r,r+=Ht));t=t.slice(r),r=Ht-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),Kt&&(e.e>Nh||e.e<-Nh))throw Error(K1+n)}else e.s=0,e.e=0,e.d=[0];return e}function Mt(e,t,n){var r,a,s,o,l,c,u,d,f=e.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(r=t-o,r<0)r+=Ht,a=t,u=f[d=0];else{if(d=Math.ceil((r+1)/Ht),s=f.length,d>=s)return e;for(u=s=f[d],o=1;s>=10;s/=10)o++;r%=Ht,a=r-Ht+o}if(n!==void 0&&(s=Js(10,o-a-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?a>0?u/Js(10,o-a):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return c?(s=gn(e),f.length=1,t=t-s-1,f[0]=Js(10,(Ht-t%Ht)%Ht),e.e=gu(-t/Ht)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,s=1,d--):(f.length=d+1,s=Js(10,Ht-r),f[d]=a>0?(u/Js(10,o-a)%Js(10,a)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==An&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=An)break;f[d--]=0,s=1}for(r=f.length;f[--r]===0;)f.pop();if(Kt&&(e.e>Nh||e.e<-Nh))throw Error(K1+gn(e));return e}function Z$(e,t){var n,r,a,s,o,l,c,u,d,f,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Kt?Mt(t,h):t;if(c=e.d,f=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,l=f.length):(n=f,r=u,l=c.length),a=Math.max(Math.ceil(h/Ht),l)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(n=c,c=f,f=n,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(s=a;s&&c[--s]===0;)c[s]=An-1;--c[s],c[a]+=An}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,Kt?Mt(t,h):t):new p(0)}function $o(e,t,n){var r,a=gn(e),s=qi(e.d),o=s.length;return t?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+Ja(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Ja(-a-1)+s,n&&(r=n-o)>0&&(s+=Ja(r))):a>=o?(s+=Ja(a+1-o),n&&(r=n-a-1)>0&&(s=s+"."+Ja(r))):((r=a+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(s+="."),s+=Ja(r))),e.s<0?"-"+s:s}function $A(e,t){if(e.length>t)return e.length=t,!0}function J$(e){var t,n,r;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(jo+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return RA(o,s.toString())}else if(typeof s!="string")throw Error(jo+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,Oie.test(s))RA(o,s);else throw Error(jo+s)}if(a.prototype=Pe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=J$,a.config=a.set=Pie,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function Pie(e){if(!e||typeof e!="object")throw Error(Qr+"Object expected");var t,n,r,a=["precision",1,vu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(gu(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(jo+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(jo+n+": "+r);return this}var Y1=J$(_ie);Sr=new Y1(1);const Rt=Y1;function Tie(e){return Mie(e)||$ie(e)||Rie(e)||Iie()}function Iie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rie(e,t){if(e){if(typeof e=="string")return Sb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sb(e,t)}}function $ie(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Mie(e){if(Array.isArray(e))return Sb(e)}function Sb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Die=function(t){return t},eM={"@@functional/placeholder":!0},tM=function(t){return t===eM},MA=function(t){return function n(){return arguments.length===0||arguments.length===1&&tM(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},Fie=function e(t,n){return t===1?n:MA(function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];var o=a.filter(function(l){return l!==eM}).length;return o>=t?n.apply(void 0,a):e(t-o,MA(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return tM(f)?c.shift():f});return n.apply(void 0,Tie(d).concat(c))}))})},kg=function(t){return Fie(t.length,t)},Cb=function(t,n){for(var r=[],a=t;a<n;++a)r[a-t]=a;return r},Lie=kg(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),qie=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Die;var a=n.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},Eb=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},nM=function(t){var n=null,r=null;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return n&&s.every(function(l,c){return l===n[c]})||(n=s,r=t.apply(void 0,s)),r}};function zie(e){var t;return e===0?t=1:t=Math.floor(new Rt(e).abs().log(10).toNumber())+1,t}function Bie(e,t,n){for(var r=new Rt(e),a=0,s=[];r.lt(t)&&a<1e5;)s.push(r.toNumber()),r=r.add(n),a++;return s}var Uie=kg(function(e,t,n){var r=+e,a=+t;return r+n*(a-r)}),Vie=kg(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),Hie=kg(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const _g={rangeStep:Bie,getDigitCount:zie,interpolateNumber:Uie,uninterpolateNumber:Vie,uninterpolateTruncation:Hie};function Ab(e){return Kie(e)||Gie(e)||rM(e)||Wie()}function Wie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gie(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Kie(e){if(Array.isArray(e))return kb(e)}function ef(e,t){return Xie(e)||Qie(e,t)||rM(e,t)||Yie()}function Yie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rM(e,t){if(e){if(typeof e=="string")return kb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kb(e,t)}}function kb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qie(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,a=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){a=!0,s=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(a)throw s}}return n}}function Xie(e){if(Array.isArray(e))return e}function iM(e){var t=ef(e,2),n=t[0],r=t[1],a=n,s=r;return n>r&&(a=r,s=n),[a,s]}function aM(e,t,n){if(e.lte(0))return new Rt(0);var r=_g.getDigitCount(e.toNumber()),a=new Rt(10).pow(r),s=e.div(a),o=r!==1?.05:.1,l=new Rt(Math.ceil(s.div(o).toNumber())).add(n).mul(o),c=l.mul(a);return t?c:new Rt(Math.ceil(c))}function Zie(e,t,n){var r=1,a=new Rt(e);if(!a.isint()&&n){var s=Math.abs(e);s<1?(r=new Rt(10).pow(_g.getDigitCount(e)-1),a=new Rt(Math.floor(a.div(r).toNumber())).mul(r)):s>1&&(a=new Rt(Math.floor(e)))}else e===0?a=new Rt(Math.floor((t-1)/2)):n||(a=new Rt(Math.floor(e)));var o=Math.floor((t-1)/2),l=qie(Lie(function(c){return a.add(new Rt(c-o).mul(r)).toNumber()}),Cb);return l(0,t)}function sM(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Rt(0),tickMin:new Rt(0),tickMax:new Rt(0)};var s=aM(new Rt(t).sub(e).div(n-1),r,a),o;e<=0&&t>=0?o=new Rt(0):(o=new Rt(e).add(t).div(2),o=o.sub(new Rt(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new Rt(t).sub(o).div(s).toNumber()),u=l+c+1;return u>n?sM(e,t,n,r,a+1):(u<n&&(c=t>0?c+(n-u):c,l=t>0?l:l+(n-u)),{step:s,tickMin:o.sub(new Rt(l).mul(s)),tickMax:o.add(new Rt(c).mul(s))})}function Jie(e){var t=ef(e,2),n=t[0],r=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=iM([n,r]),c=ef(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Ab(Cb(0,a-1).map(function(){return 1/0}))):[].concat(Ab(Cb(0,a-1).map(function(){return-1/0})),[d]);return n>r?Eb(f):f}if(u===d)return Zie(u,a,s);var p=sM(u,d,o,s),h=p.step,x=p.tickMin,m=p.tickMax,g=_g.rangeStep(x,m.add(new Rt(.1).mul(h)),h);return n>r?Eb(g):g}function eae(e,t){var n=ef(e,2),r=n[0],a=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=iM([r,a]),l=ef(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,a];if(c===u)return[c];var d=Math.max(t,2),f=aM(new Rt(u).sub(c).div(d-1),s,0),p=[].concat(Ab(_g.rangeStep(new Rt(c),new Rt(u).sub(new Rt(.99).mul(f)),f)),[u]);return r>a?Eb(p):p}var tae=nM(Jie),nae=nM(eae),rae="Invariant failed";function Mo(e,t){throw new Error(rae)}var iae=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}function Sh(){return Sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sh.apply(this,arguments)}function aae(e,t){return cae(e)||lae(e,t)||oae(e,t)||sae()}function sae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oae(e,t){if(e){if(typeof e=="string")return DA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DA(e,t)}}function DA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lae(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function cae(e){if(Array.isArray(e))return e}function uae(e,t){if(e==null)return{};var n=dae(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function dae(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function fae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cM(r.key),r)}}function mae(e,t,n){return t&&pae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hae(e,t,n){return t=Ch(t),vae(e,oM()?Reflect.construct(t,n||[],Ch(e).constructor):t.apply(e,n))}function vae(e,t){if(t&&(Oc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gae(e)}function gae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oM=function(){return!!e})()}function Ch(e){return Ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ch(e)}function xae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_b(e,t)}function _b(e,t){return _b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},_b(e,t)}function lM(e,t,n){return t=cM(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cM(e){var t=yae(e,"string");return Oc(t)=="symbol"?t:t+""}function yae(e,t){if(Oc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Og=function(e){function t(){return fae(this,t),hae(this,t,arguments)}return xae(t,e),mae(t,[{key:"render",value:function(){var r=this.props,a=r.offset,s=r.layout,o=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,p=uae(r,iae),h=Xe(p,!1);this.props.direction==="x"&&d.type!=="number"&&Mo();var x=c.map(function(m){var g=u(m,l),b=g.x,v=g.y,y=g.value,w=g.errorVal;if(!w)return null;var j=[],S,C;if(Array.isArray(w)){var E=aae(w,2);S=E[0],C=E[1]}else S=C=w;if(s==="vertical"){var k=d.scale,$=v+a,O=$+o,T=$-o,P=k(y-S),I=k(y+C);j.push({x1:I,y1:O,x2:I,y2:T}),j.push({x1:P,y1:$,x2:I,y2:$}),j.push({x1:P,y1:O,x2:P,y2:T})}else if(s==="horizontal"){var D=f.scale,R=b+a,V=R-o,q=R+o,B=D(y-S),W=D(y+C);j.push({x1:V,y1:W,x2:q,y2:W}),j.push({x1:R,y1:B,x2:R,y2:W}),j.push({x1:V,y1:B,x2:q,y2:B})}return F.createElement(Pt,Sh({className:"recharts-errorBar",key:"bar-".concat(j.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},h),j.map(function(Z){return F.createElement("line",Sh({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return F.createElement(Pt,{className:"recharts-errorBars"},x)}}])}(F.Component);lM(Og,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});lM(Og,"displayName","ErrorBar");function tf(e){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tf(e)}function FA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ws(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(n),!0).forEach(function(r){bae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bae(e,t,n){return t=jae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jae(e){var t=wae(e,"string");return tf(t)=="symbol"?t:t+""}function wae(e,t){if(tf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uM=function(t){var n=t.children,r=t.formattedGraphicalItems,a=t.legendWidth,s=t.legendContent,o=jr(n,ql);if(!o)return null;var l=ql.defaultProps,c=l!==void 0?Ws(Ws({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(r||[]).reduce(function(d,f){var p=f.item,h=f.props,x=h.sectors||h.data||[];return d.concat(x.map(function(m){return{type:o.props.iconType||p.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(r||[]).map(function(d){var f=d.item,p=f.type.defaultProps,h=p!==void 0?Ws(Ws({},p),f.props):{},x=h.dataKey,m=h.name,g=h.legendType,b=h.hide;return{inactive:b,dataKey:x,type:c.iconType||g||"square",color:Q1(f),value:m||x,payload:h}}),Ws(Ws(Ws({},c),ql.getWithHeight(o,a)),{},{payload:u,item:o})};function nf(e){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nf(e)}function LA(e){return Eae(e)||Cae(e)||Sae(e)||Nae()}function Nae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sae(e,t){if(e){if(typeof e=="string")return Ob(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ob(e,t)}}function Cae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Eae(e){if(Array.isArray(e))return Ob(e)}function Ob(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qA(Object(n),!0).forEach(function(r){Bl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bl(e,t,n){return t=Aae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aae(e){var t=kae(e,"string");return nf(t)=="symbol"?t:t+""}function kae(e,t){if(nf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hn(e,t,n){return bt(e)||bt(t)?n:Sn(t)?Or(e,t,n):et(t)?t(e):n}function dd(e,t,n,r){var a=Cie(e,function(l){return Hn(l,t)});if(n==="number"){var s=a.filter(function(l){return he(l)||parseFloat(l)});return s.length?[Eg(s),Cg(s)]:[1/0,-1/0]}var o=r?a.filter(function(l){return!bt(l)}):a;return o.map(function(l){return Sn(l)||l instanceof Date?l:""})}var _ae=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,p=u>=l-1?a[0].coordinate:a[u+1].coordinate,h=void 0;if(tr(f-d)!==tr(p-f)){var x=[];if(tr(p-f)===tr(c[1]-c[0])){h=p;var m=f+c[1]-c[0];x[0]=Math.min(m,(m+d)/2),x[1]=Math.max(m,(m+d)/2)}else{h=d;var g=p+c[1]-c[0];x[0]=Math.min(f,(g+f)/2),x[1]=Math.max(f,(g+f)/2)}var b=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(t>b[0]&&t<=b[1]||t>=x[0]&&t<=x[1]){o=a[u].index;break}}else{var v=Math.min(d,p),y=Math.max(d,p);if(t>(v+f)/2&&t<=(y+f)/2){o=a[u].index;break}}}else for(var w=0;w<l;w++)if(w===0&&t<=(r[w].coordinate+r[w+1].coordinate)/2||w>0&&w<l-1&&t>(r[w].coordinate+r[w-1].coordinate)/2&&t<=(r[w].coordinate+r[w+1].coordinate)/2||w===l-1&&t>(r[w].coordinate+r[w-1].coordinate)/2){o=r[w].index;break}return o},Q1=function(t){var n,r=t,a=r.type.displayName,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?sn(sn({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Oae=function(t){var n=t.barSize,r=t.totalSize,a=t.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),p=0,h=f.length;p<h;p++){var x=d[f[p]],m=x.items,g=x.cateAxisId,b=m.filter(function(C){return ja(C.type).indexOf("Bar")>=0});if(b&&b.length){var v=b[0].type.defaultProps,y=v!==void 0?sn(sn({},v),b[0].props):b[0].props,w=y.barSize,j=y[g];o[j]||(o[j]=[]);var S=bt(w)?n:w;o[j].push({item:b[0],stackList:b.slice(1),barSize:bt(S)?void 0:nr(S,r,0)})}}return o},Pae=function(t){var n=t.barGap,r=t.barCategoryGap,a=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=nr(n,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var p=!1,h=a/c,x=o.reduce(function(w,j){return w+j.barSize||0},0);x+=(c-1)*u,x>=a&&(x-=(c-1)*u,u=0),x>=a&&h>0&&(p=!0,h*=.9,x=c*h);var m=(a-x)/2>>0,g={offset:m-u,size:0};d=o.reduce(function(w,j){var S={item:j.item,position:{offset:g.offset+g.size+u,size:p?h:j.barSize}},C=[].concat(LA(w),[S]);return g=C[C.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(E){C.push({item:E,position:g})}),C},f)}else{var b=nr(r,a,0,!0);a-2*b-(c-1)*u<=0&&(u=0);var v=(a-2*b-(c-1)*u)/c;v>1&&(v>>=0);var y=l===+l?Math.min(v,l):v;d=o.reduce(function(w,j,S){var C=[].concat(LA(w),[{item:j.item,position:{offset:b+(v+u)*S+(v-y)/2,size:y}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(E){C.push({item:E,position:C[C.length-1].position})}),C},f)}return d},Tae=function(t,n,r,a){var s=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),u=uM({children:s,legendWidth:c});if(u){var d=a||{},f=d.width,p=d.height,h=u.align,x=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&x==="middle")&&h!=="center"&&he(t[h]))return sn(sn({},t),{},Bl({},h,t[h]+(f||0)));if((m==="horizontal"||m==="vertical"&&h==="center")&&x!=="middle"&&he(t[x]))return sn(sn({},t),{},Bl({},x,t[x]+(p||0)))}return t},Iae=function(t,n,r){return bt(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},dM=function(t,n,r,a,s){var o=n.props.children,l=Gr(o,Og).filter(function(u){return Iae(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Hn(d,r);if(bt(f))return u;var p=Array.isArray(f)?[Eg(f),Cg(f)]:[f,f],h=c.reduce(function(x,m){var g=Hn(d,m,0),b=p[0]-Math.abs(Array.isArray(g)?g[0]:g),v=p[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(b,x[0]),Math.max(v,x[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},Rae=function(t,n,r,a,s){var o=n.map(function(l){return dM(t,l,r,s,a)}).filter(function(l){return!bt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},fM=function(t,n,r,a,s){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&dM(t,c,u,a)||dd(t,u,r,s)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},pM=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},mM=function(t,n,r,a){if(a)return t.map(function(c){return c.coordinate});var s,o,l=t.map(function(c){return c.coordinate===n&&(s=!0),c.coordinate===r&&(o=!0),c.coordinate});return s||l.push(n),o||l.push(r),l},ya=function(t,n,r){if(!t)return null;var a=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(n||r)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?tr(l[0]-l[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var p=s?s.indexOf(f):f;return{coordinate:a(p)+u,value:f,offset:u}});return d.filter(function(f){return!ep(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,p){return{coordinate:a(f)+u,value:f,index:p,offset:u}}):a.ticks&&!r?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,p){return{coordinate:a(f)+u,value:s?s[f]:f,index:p,offset:u}})},iy=new WeakMap,zp=function(t,n){if(typeof n!="function")return t;iy.has(t)||iy.set(t,new WeakMap);var r=iy.get(t);if(r.has(n))return r.get(n);var a=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,a),a},hM=function(t,n,r){var a=t.scale,s=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Kd(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:yh(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:ud(),realScaleType:"point"}:s==="category"?{scale:Kd(),realScaleType:"band"}:{scale:yh(),realScaleType:"linear"};if(Jf(a)){var c="scale".concat(ug(a));return{scale:(IA[c]||ud)(),realScaleType:IA[c]?c:"point"}}return et(a)?{scale:a}:{scale:ud(),realScaleType:"point"}},zA=1e-4,vM=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,a=t.range(),s=Math.min(a[0],a[1])-zA,o=Math.max(a[0],a[1])+zA,l=t(n[0]),c=t(n[r-1]);(l<s||l>o||c<s||c>o)&&t.domain([n[0],n[r-1]])}},$ae=function(t,n){if(!t)return null;for(var r=0,a=t.length;r<a;r++)if(t[r].item===n)return t[r].position;return null},Mae=function(t,n){if(!n||n.length!==2||!he(n[0])||!he(n[1]))return t;var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),s=[t[0],t[1]];return(!he(t[0])||t[0]<r)&&(s[0]=r),(!he(t[1])||t[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<r&&(s[1]=r),s},Dae=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var s=0,o=0,l=0;l<n;++l){var c=ep(t[l][r][1])?t[l][r][0]:t[l][r][1];c>=0?(t[l][r][0]=s,t[l][r][1]=s+c,s=t[l][r][1]):(t[l][r][0]=o,t[l][r][1]=o+c,o=t[l][r][1])}},Fae=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var s=0,o=0;o<n;++o){var l=ep(t[o][r][1])?t[o][r][0]:t[o][r][1];l>=0?(t[o][r][0]=s,t[o][r][1]=s+l,s=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},Lae={sign:Dae,expand:iW,none:wc,silhouette:aW,wiggle:sW,positive:Fae},qae=function(t,n,r){var a=n.map(function(l){return l.props.dataKey}),s=Lae[r],o=rW().keys(a).value(function(l,c){return+Hn(l,c,0)}).order(tb).offset(s);return o(t)},zae=function(t,n,r,a,s,o){if(!t)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(f,p){var h,x=(h=p.type)!==null&&h!==void 0&&h.defaultProps?sn(sn({},p.type.defaultProps),p.props):p.props,m=x.stackId,g=x.hide;if(g)return f;var b=x[r],v=f[b]||{hasStack:!1,stackGroups:{}};if(Sn(m)){var y=v.stackGroups[m]||{numericAxisId:r,cateAxisId:a,items:[]};y.items.push(p),v.hasStack=!0,v.stackGroups[m]=y}else v.stackGroups[tp("_stackId_")]={numericAxisId:r,cateAxisId:a,items:[p]};return sn(sn({},f),{},Bl({},b,v))},c),d={};return Object.keys(u).reduce(function(f,p){var h=u[p];if(h.hasStack){var x={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(m,g){var b=h.stackGroups[g];return sn(sn({},m),{},Bl({},g,{numericAxisId:r,cateAxisId:a,items:b.items,stackedData:qae(t,b.items,s)}))},x)}return sn(sn({},f),{},Bl({},p,h))},d)},gM=function(t,n){var r=n.realScaleType,a=n.type,s=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=tae(u,s,l);return t.domain([Eg(d),Cg(d)]),{niceTicks:d}}if(s&&a==="number"){var f=t.domain(),p=nae(f,s,l);return{niceTicks:p}}return null},BA=function(t){var n=t.axis,r=t.ticks,a=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return r[l]?r[l].coordinate+a:null;var c=Hn(o,n.dataKey,n.domain[l]);return bt(c)?null:n.scale(c)-s/2+a},Bae=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var a=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return a<=0&&s>=0?0:s<0?s:a}return r[0]},Uae=function(t,n){var r,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?sn(sn({},t.type.defaultProps),t.props):t.props,s=a.stackId;if(Sn(s)){var o=n[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Vae=function(t){return t.reduce(function(n,r){return[Eg(r.concat([n[0]]).filter(he)),Cg(r.concat([n[1]]).filter(he))]},[1/0,-1/0])},xM=function(t,n,r){return Object.keys(t).reduce(function(a,s){var o=t[s],l=o.stackedData,c=l.reduce(function(u,d){var f=Vae(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},UA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,VA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Pb=function(t,n,r){if(et(t))return t(n,r);if(!Array.isArray(t))return n;var a=[];if(he(t[0]))a[0]=r?t[0]:Math.min(t[0],n[0]);else if(UA.test(t[0])){var s=+UA.exec(t[0])[1];a[0]=n[0]-s}else et(t[0])?a[0]=t[0](n[0]):a[0]=n[0];if(he(t[1]))a[1]=r?t[1]:Math.max(t[1],n[1]);else if(VA.test(t[1])){var o=+VA.exec(t[1])[1];a[1]=n[1]+o}else et(t[1])?a[1]=t[1](n[1]):a[1]=n[1];return a},Eh=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!r||a>0)return a}if(t&&n&&n.length>=2){for(var s=S1(n,function(f){return f.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},HA=function(t,n,r){return!t||!t.length||Ag(t,Or(r,"type.defaultProps.domain"))?n:t},yM=function(t,n){var r=t.type.defaultProps?sn(sn({},t.type.defaultProps),t.props):t.props,a=r.dataKey,s=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return sn(sn({},Xe(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:s||a,color:Q1(t),value:Hn(n,a),type:c,payload:n,chartType:u,hide:d})};function rf(e){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rf(e)}function WA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ua(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WA(Object(n),!0).forEach(function(r){bM(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bM(e,t,n){return t=Hae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hae(e){var t=Wae(e,"string");return rf(t)=="symbol"?t:t+""}function Wae(e,t){if(rf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gae(e,t){return Xae(e)||Qae(e,t)||Yae(e,t)||Kae()}function Kae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yae(e,t){if(e){if(typeof e=="string")return GA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GA(e,t)}}function GA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qae(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Xae(e){if(Array.isArray(e))return e}var Ah=Math.PI/180,Zae=function(t){return t*180/Math.PI},zt=function(t,n,r,a){return{x:t+Math.cos(-Ah*a)*r,y:n+Math.sin(-Ah*a)*r}},jM=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Jae=function(t,n,r,a,s){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=nr(t.cx,o,o/2),f=nr(t.cy,l,l/2),p=jM(o,l,r),h=nr(t.innerRadius,p,0),x=nr(t.outerRadius,p,p*.8),m=Object.keys(n);return m.reduce(function(g,b){var v=n[b],y=v.domain,w=v.reversed,j;if(bt(v.range))a==="angleAxis"?j=[c,u]:a==="radiusAxis"&&(j=[h,x]),w&&(j=[j[1],j[0]]);else{j=v.range;var S=j,C=Gae(S,2);c=C[0],u=C[1]}var E=hM(v,s),k=E.realScaleType,$=E.scale;$.domain(y).range(j),vM($);var O=gM($,ua(ua({},v),{},{realScaleType:k})),T=ua(ua(ua({},v),O),{},{range:j,radius:x,realScaleType:k,scale:$,cx:d,cy:f,innerRadius:h,outerRadius:x,startAngle:c,endAngle:u});return ua(ua({},g),{},bM({},b,T))},{})},ese=function(t,n){var r=t.x,a=t.y,s=n.x,o=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(a-o,2))},tse=function(t,n){var r=t.x,a=t.y,s=n.cx,o=n.cy,l=ese({x:r,y:a},{x:s,y:o});if(l<=0)return{radius:l};var c=(r-s)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:Zae(u),angleInRadian:u}},nse=function(t){var n=t.startAngle,r=t.endAngle,a=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(a,s);return{startAngle:n-o*360,endAngle:r-o*360}},rse=function(t,n){var r=n.startAngle,a=n.endAngle,s=Math.floor(r/360),o=Math.floor(a/360),l=Math.min(s,o);return t+l*360},KA=function(t,n){var r=t.x,a=t.y,s=tse({x:r,y:a},n),o=s.radius,l=s.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=nse(n),f=d.startAngle,p=d.endAngle,h=l,x;if(f<=p){for(;h>p;)h-=360;for(;h<f;)h+=360;x=h>=f&&h<=p}else{for(;h>f;)h-=360;for(;h<p;)h+=360;x=h>=p&&h<=f}return x?ua(ua({},n),{},{radius:o,angle:rse(h,n)}):null},wM=function(t){return!N.isValidElement(t)&&!et(t)&&typeof t!="boolean"?t.className:""};function af(e){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},af(e)}var ise=["offset"];function ase(e){return cse(e)||lse(e)||ose(e)||sse()}function sse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ose(e,t){if(e){if(typeof e=="string")return Tb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tb(e,t)}}function lse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cse(e){if(Array.isArray(e))return Tb(e)}function Tb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function use(e,t){if(e==null)return{};var n=dse(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function dse(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function YA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YA(Object(n),!0).forEach(function(r){fse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fse(e,t,n){return t=pse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pse(e){var t=mse(e,"string");return af(t)=="symbol"?t:t+""}function mse(e,t){if(af(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sf(){return sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sf.apply(this,arguments)}var hse=function(t){var n=t.value,r=t.formatter,a=bt(t.children)?n:t.children;return et(r)?r(a):a},vse=function(t,n){var r=tr(n-t),a=Math.min(Math.abs(n-t),360);return r*a},gse=function(t,n,r){var a=t.position,s=t.viewBox,o=t.offset,l=t.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,p=c.outerRadius,h=c.startAngle,x=c.endAngle,m=c.clockWise,g=(f+p)/2,b=vse(h,x),v=b>=0?1:-1,y,w;a==="insideStart"?(y=h+v*o,w=m):a==="insideEnd"?(y=x-v*o,w=!m):a==="end"&&(y=x+v*o,w=m),w=b<=0?w:!w;var j=zt(u,d,g,y),S=zt(u,d,g,y+(w?1:-1)*359),C="M".concat(j.x,",").concat(j.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(w?0:1,`,
    `).concat(S.x,",").concat(S.y),E=bt(t.id)?tp("recharts-radial-line-"):t.id;return F.createElement("text",sf({},r,{dominantBaseline:"central",className:ht("recharts-radial-bar-label",l)}),F.createElement("defs",null,F.createElement("path",{id:E,d:C})),F.createElement("textPath",{xlinkHref:"#".concat(E)},n))},xse=function(t){var n=t.viewBox,r=t.offset,a=t.position,s=n,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,p=(d+f)/2;if(a==="outside"){var h=zt(o,l,u+r,p),x=h.x,m=h.y;return{x,y:m,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+u)/2,b=zt(o,l,g,p),v=b.x,y=b.y;return{x:v,y,textAnchor:"middle",verticalAnchor:"middle"}},yse=function(t){var n=t.viewBox,r=t.parentViewBox,a=t.offset,s=t.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,p=f*a,h=f>0?"end":"start",x=f>0?"start":"end",m=u>=0?1:-1,g=m*a,b=m>0?"end":"start",v=m>0?"start":"end";if(s==="top"){var y={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:h};return yn(yn({},y),r?{height:Math.max(c-r.y,0),width:u}:{})}if(s==="bottom"){var w={x:l+u/2,y:c+d+p,textAnchor:"middle",verticalAnchor:x};return yn(yn({},w),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(s==="left"){var j={x:l-g,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return yn(yn({},j),r?{width:Math.max(j.x-r.x,0),height:d}:{})}if(s==="right"){var S={x:l+u+g,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return yn(yn({},S),r?{width:Math.max(r.x+r.width-S.x,0),height:d}:{})}var C=r?{width:u,height:d}:{};return s==="insideLeft"?yn({x:l+g,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},C):s==="insideRight"?yn({x:l+u-g,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},C):s==="insideTop"?yn({x:l+u/2,y:c+p,textAnchor:"middle",verticalAnchor:x},C):s==="insideBottom"?yn({x:l+u/2,y:c+d-p,textAnchor:"middle",verticalAnchor:h},C):s==="insideTopLeft"?yn({x:l+g,y:c+p,textAnchor:v,verticalAnchor:x},C):s==="insideTopRight"?yn({x:l+u-g,y:c+p,textAnchor:b,verticalAnchor:x},C):s==="insideBottomLeft"?yn({x:l+g,y:c+d-p,textAnchor:v,verticalAnchor:h},C):s==="insideBottomRight"?yn({x:l+u-g,y:c+d-p,textAnchor:b,verticalAnchor:h},C):lu(s)&&(he(s.x)||ao(s.x))&&(he(s.y)||ao(s.y))?yn({x:l+nr(s.x,u),y:c+nr(s.y,d),textAnchor:"end",verticalAnchor:"end"},C):yn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},C)},bse=function(t){return"cx"in t&&he(t.cx)};function _n(e){var t=e.offset,n=t===void 0?5:t,r=use(e,ise),a=yn({offset:n},r),s=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,p=a.textBreakAll;if(!s||bt(l)&&bt(c)&&!N.isValidElement(u)&&!et(u))return null;if(N.isValidElement(u))return N.cloneElement(u,a);var h;if(et(u)){if(h=N.createElement(u,a),N.isValidElement(h))return h}else h=hse(a);var x=bse(s),m=Xe(a,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return gse(a,h,m);var g=x?xse(a):yse(a);return F.createElement(Ro,sf({className:ht("recharts-label",f)},m,g,{breakAll:p}),h)}_n.displayName="Label";var NM=function(t){var n=t.cx,r=t.cy,a=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,p=t.y,h=t.top,x=t.left,m=t.width,g=t.height,b=t.clockWise,v=t.labelViewBox;if(v)return v;if(he(m)&&he(g)){if(he(f)&&he(p))return{x:f,y:p,width:m,height:g};if(he(h)&&he(x))return{x:h,y:x,width:m,height:g}}return he(f)&&he(p)?{x:f,y:p,width:0,height:0}:he(n)&&he(r)?{cx:n,cy:r,startAngle:s||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},jse=function(t,n){return t?t===!0?F.createElement(_n,{key:"label-implicit",viewBox:n}):Sn(t)?F.createElement(_n,{key:"label-implicit",viewBox:n,value:t}):N.isValidElement(t)?t.type===_n?N.cloneElement(t,{key:"label-implicit",viewBox:n}):F.createElement(_n,{key:"label-implicit",content:t,viewBox:n}):et(t)?F.createElement(_n,{key:"label-implicit",content:t,viewBox:n}):lu(t)?F.createElement(_n,sf({viewBox:n},t,{key:"label-implicit"})):null:null},wse=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var a=t.children,s=NM(t),o=Gr(a,_n).map(function(c,u){return N.cloneElement(c,{viewBox:n||s,key:"label-".concat(u)})});if(!r)return o;var l=jse(t.label,n||s);return[l].concat(ase(o))};_n.parseViewBox=NM;_n.renderCallByParent=wse;function Nse(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Sse=Nse;const Cse=Ot(Sse);function of(e){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},of(e)}var Ese=["valueAccessor"],Ase=["data","dataKey","clockWise","id","textBreakAll"];function kse(e){return Tse(e)||Pse(e)||Ose(e)||_se()}function _se(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ose(e,t){if(e){if(typeof e=="string")return Ib(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ib(e,t)}}function Pse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Tse(e){if(Array.isArray(e))return Ib(e)}function Ib(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kh(){return kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kh.apply(this,arguments)}function QA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function XA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QA(Object(n),!0).forEach(function(r){Ise(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ise(e,t,n){return t=Rse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rse(e){var t=$se(e,"string");return of(t)=="symbol"?t:t+""}function $se(e,t){if(of(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZA(e,t){if(e==null)return{};var n=Mse(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Mse(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Dse=function(t){return Array.isArray(t.value)?Cse(t.value):t.value};function Es(e){var t=e.valueAccessor,n=t===void 0?Dse:t,r=ZA(e,Ese),a=r.data,s=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=ZA(r,Ase);return!a||!a.length?null:F.createElement(Pt,{className:"recharts-label-list"},a.map(function(d,f){var p=bt(s)?n(d,f):Hn(d&&d.payload,s),h=bt(l)?{}:{id:"".concat(l,"-").concat(f)};return F.createElement(_n,kh({},Xe(d,!0),u,h,{parentViewBox:d.parentViewBox,value:p,textBreakAll:c,viewBox:_n.parseViewBox(bt(o)?d:XA(XA({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Es.displayName="LabelList";function Fse(e,t){return e?e===!0?F.createElement(Es,{key:"labelList-implicit",data:t}):F.isValidElement(e)||et(e)?F.createElement(Es,{key:"labelList-implicit",data:t,content:e}):lu(e)?F.createElement(Es,kh({data:t},e,{key:"labelList-implicit"})):null:null}function Lse(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,a=Gr(r,Es).map(function(o,l){return N.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return a;var s=Fse(e.label,t);return[s].concat(kse(a))}Es.renderCallByParent=Lse;function lf(e){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(e)}function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rb.apply(this,arguments)}function JA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ek(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(n),!0).forEach(function(r){qse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qse(e,t,n){return t=zse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zse(e){var t=Bse(e,"string");return lf(t)=="symbol"?t:t+""}function Bse(e,t){if(lf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Use=function(t,n){var r=tr(n-t),a=Math.min(Math.abs(n-t),359.999);return r*a},Bp=function(t){var n=t.cx,r=t.cy,a=t.radius,s=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/Ah,p=u?s:s+o*f,h=zt(n,r,d,p),x=zt(n,r,a,p),m=u?s-o*f:s,g=zt(n,r,d*Math.cos(f*Ah),m);return{center:h,circleTangency:x,lineTangency:g,theta:f}},SM=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,c=Use(o,l),u=o+c,d=zt(n,r,s,o),f=zt(n,r,s,u),p="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var h=zt(n,r,a,o),x=zt(n,r,a,u);p+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},Vse=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=tr(d-u),p=Bp({cx:n,cy:r,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),h=p.circleTangency,x=p.lineTangency,m=p.theta,g=Bp({cx:n,cy:r,radius:s,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=g.circleTangency,v=g.lineTangency,y=g.theta,w=c?Math.abs(u-d):Math.abs(u-d)-m-y;if(w<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):SM({cx:n,cy:r,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d});var j="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(w>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(a>0){var S=Bp({cx:n,cy:r,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=S.circleTangency,E=S.lineTangency,k=S.theta,$=Bp({cx:n,cy:r,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=$.circleTangency,T=$.lineTangency,P=$.theta,I=c?Math.abs(u-d):Math.abs(u-d)-k-P;if(I<0&&o===0)return"".concat(j,"L").concat(n,",").concat(r,"Z");j+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(f>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else j+="L".concat(n,",").concat(r,"Z");return j},Hse={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},CM=function(t){var n=ek(ek({},Hse),t),r=n.cx,a=n.cy,s=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,p=n.className;if(o<s||d===f)return null;var h=ht("recharts-sector",p),x=o-s,m=nr(l,x,0,!0),g;return m>0&&Math.abs(d-f)<360?g=Vse({cx:r,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(m,x/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):g=SM({cx:r,cy:a,innerRadius:s,outerRadius:o,startAngle:d,endAngle:f}),F.createElement("path",Rb({},Xe(n,!0),{className:h,d:g,role:"img"}))};function cf(e){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cf(e)}function $b(){return $b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$b.apply(this,arguments)}function tk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tk(Object(n),!0).forEach(function(r){Wse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wse(e,t,n){return t=Gse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gse(e){var t=Kse(e,"string");return cf(t)=="symbol"?t:t+""}function Kse(e,t){if(cf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rk={curveBasisClosed:W7,curveBasisOpen:G7,curveBasis:H7,curveBumpX:P7,curveBumpY:T7,curveLinearClosed:K7,curveLinear:fg,curveMonotoneX:Y7,curveMonotoneY:Q7,curveNatural:X7,curveStep:Z7,curveStepAfter:eW,curveStepBefore:J7},Up=function(t){return t.x===+t.x&&t.y===+t.y},Fu=function(t){return t.x},Lu=function(t){return t.y},Yse=function(t,n){if(et(t))return t;var r="curve".concat(ug(t));return(r==="curveMonotone"||r==="curveBump")&&n?rk["".concat(r).concat(n==="vertical"?"Y":"X")]:rk[r]||fg},Qse=function(t){var n=t.type,r=n===void 0?"linear":n,a=t.points,s=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=Yse(r,l),f=u?s.filter(function(m){return Up(m)}):s,p;if(Array.isArray(o)){var h=u?o.filter(function(m){return Up(m)}):o,x=f.map(function(m,g){return nk(nk({},m),{},{base:h[g]})});return l==="vertical"?p=Ip().y(Lu).x1(Fu).x0(function(m){return m.base.x}):p=Ip().x(Fu).y1(Lu).y0(function(m){return m.base.y}),p.defined(Up).curve(d),p(x)}return l==="vertical"&&he(o)?p=Ip().y(Lu).x1(Fu).x0(o):he(o)?p=Ip().x(Fu).y1(Lu).y0(o):p=yR().x(Fu).y(Lu),p.defined(Up).curve(d),p(f)},Mb=function(t){var n=t.className,r=t.points,a=t.path,s=t.pathRef;if((!r||!r.length)&&!a)return null;var o=r&&r.length?Qse(t):a;return F.createElement("path",$b({},Xe(t,!1),Jm(t),{className:ht("recharts-curve",n),d:o,ref:s}))},EM={exports:{}},Xse="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Zse=Xse,Jse=Zse;function AM(){}function kM(){}kM.resetWarningCache=AM;var eoe=function(){function e(r,a,s,o,l,c){if(c!==Jse){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:kM,resetWarningCache:AM};return n.PropTypes=n,n};EM.exports=eoe();var toe=EM.exports;const De=Ot(toe);var noe=Object.getOwnPropertyNames,roe=Object.getOwnPropertySymbols,ioe=Object.prototype.hasOwnProperty;function ik(e,t){return function(r,a,s){return e(r,a,s)&&t(r,a,s)}}function Vp(e){return function(n,r,a){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,a);var s=a.cache,o=s.get(n),l=s.get(r);if(o&&l)return o===r&&l===n;s.set(n,r),s.set(r,n);var c=e(n,r,a);return s.delete(n),s.delete(r),c}}function ak(e){return noe(e).concat(roe(e))}var aoe=Object.hasOwn||function(e,t){return ioe.call(e,t)};function Qo(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var soe="__v",ooe="__o",loe="_owner",sk=Object.getOwnPropertyDescriptor,ok=Object.keys;function coe(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function uoe(e,t){return Qo(e.getTime(),t.getTime())}function doe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function foe(e,t){return e===t}function lk(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a=new Array(r),s=e.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var p=o.value,h=l.value;if(n.equals(p[0],h[0],c,f,e,t,n)&&n.equals(p[1],h[1],p[0],h[0],e,t,n)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var poe=Qo;function moe(e,t,n){var r=ok(e),a=r.length;if(ok(t).length!==a)return!1;for(;a-- >0;)if(!_M(e,t,n,r[a]))return!1;return!0}function qu(e,t,n){var r=ak(e),a=r.length;if(ak(t).length!==a)return!1;for(var s,o,l;a-- >0;)if(s=r[a],!_M(e,t,n,s)||(o=sk(e,s),l=sk(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function hoe(e,t){return Qo(e.valueOf(),t.valueOf())}function voe(e,t){return e.source===t.source&&e.flags===t.flags}function ck(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var a=new Array(r),s=e.values(),o,l;(o=s.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function goe(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function xoe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function _M(e,t,n,r){return(r===loe||r===ooe||r===soe)&&(e.$$typeof||t.$$typeof)?!0:aoe(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var yoe="[object Arguments]",boe="[object Boolean]",joe="[object Date]",woe="[object Error]",Noe="[object Map]",Soe="[object Number]",Coe="[object Object]",Eoe="[object RegExp]",Aoe="[object Set]",koe="[object String]",_oe="[object URL]",Ooe=Array.isArray,uk=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,dk=Object.assign,Poe=Object.prototype.toString.call.bind(Object.prototype.toString);function Toe(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,a=e.areFunctionsEqual,s=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(x,m,g){if(x===m)return!0;if(x==null||m==null)return!1;var b=typeof x;if(b!==typeof m)return!1;if(b!=="object")return b==="number"?o(x,m,g):b==="function"?a(x,m,g):!1;var v=x.constructor;if(v!==m.constructor)return!1;if(v===Object)return l(x,m,g);if(Ooe(x))return t(x,m,g);if(uk!=null&&uk(x))return f(x,m,g);if(v===Date)return n(x,m,g);if(v===RegExp)return u(x,m,g);if(v===Map)return s(x,m,g);if(v===Set)return d(x,m,g);var y=Poe(x);return y===joe?n(x,m,g):y===Eoe?u(x,m,g):y===Noe?s(x,m,g):y===Aoe?d(x,m,g):y===Coe?typeof x.then!="function"&&typeof m.then!="function"&&l(x,m,g):y===_oe?p(x,m,g):y===woe?r(x,m,g):y===yoe?l(x,m,g):y===boe||y===Soe||y===koe?c(x,m,g):!1}}function Ioe(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,a={areArraysEqual:r?qu:coe,areDatesEqual:uoe,areErrorsEqual:doe,areFunctionsEqual:foe,areMapsEqual:r?ik(lk,qu):lk,areNumbersEqual:poe,areObjectsEqual:r?qu:moe,arePrimitiveWrappersEqual:hoe,areRegExpsEqual:voe,areSetsEqual:r?ik(ck,qu):ck,areTypedArraysEqual:r?qu:goe,areUrlsEqual:xoe};if(n&&(a=dk({},a,n(a))),t){var s=Vp(a.areArraysEqual),o=Vp(a.areMapsEqual),l=Vp(a.areObjectsEqual),c=Vp(a.areSetsEqual);a=dk({},a,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function Roe(e){return function(t,n,r,a,s,o,l){return e(t,n,l)}}function $oe(e){var t=e.circular,n=e.comparator,r=e.createState,a=e.equals,s=e.strict;if(r)return function(c,u){var d=r(),f=d.cache,p=f===void 0?t?new WeakMap:void 0:f,h=d.meta;return n(c,u,{cache:p,equals:a,meta:h,strict:s})};if(t)return function(c,u){return n(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var o={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return n(c,u,o)}}var Moe=Us();Us({strict:!0});Us({circular:!0});Us({circular:!0,strict:!0});Us({createInternalComparator:function(){return Qo}});Us({strict:!0,createInternalComparator:function(){return Qo}});Us({circular:!0,createInternalComparator:function(){return Qo}});Us({circular:!0,createInternalComparator:function(){return Qo},strict:!0});function Us(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,a=e.createState,s=e.strict,o=s===void 0?!1:s,l=Ioe(e),c=Toe(l),u=r?r(c):Roe(c);return $oe({circular:n,comparator:c,createState:a,equals:u,strict:o})}function Doe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function fk(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function a(s){n<0&&(n=s),s-n>t?(e(s),n=-1):Doe(a)};requestAnimationFrame(r)}function Db(e){"@babel/helpers - typeof";return Db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Db(e)}function Foe(e){return Boe(e)||zoe(e)||qoe(e)||Loe()}function Loe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qoe(e,t){if(e){if(typeof e=="string")return pk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pk(e,t)}}function pk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zoe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Boe(e){if(Array.isArray(e))return e}function Uoe(){var e={},t=function(){return null},n=!1,r=function a(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,l=Foe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){fk(a.bind(null,u),c);return}a(c),fk(a.bind(null,u));return}Db(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function uf(e){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uf(e)}function mk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function hk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mk(Object(n),!0).forEach(function(r){OM(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OM(e,t,n){return t=Voe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Voe(e){var t=Hoe(e,"string");return uf(t)==="symbol"?t:String(t)}function Hoe(e,t){if(uf(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(uf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Woe=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,a){return r.filter(function(s){return a.includes(s)})})},Goe=function(t){return t},Koe=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},fd=function(t,n){return Object.keys(n).reduce(function(r,a){return hk(hk({},r),{},OM({},a,t(a,n[a])))},{})},vk=function(t,n,r){return t.map(function(a){return"".concat(Koe(a)," ").concat(n,"ms ").concat(r)}).join(",")};function Yoe(e,t){return Zoe(e)||Xoe(e,t)||PM(e,t)||Qoe()}function Qoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xoe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Zoe(e){if(Array.isArray(e))return e}function Joe(e){return nle(e)||tle(e)||PM(e)||ele()}function ele(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PM(e,t){if(e){if(typeof e=="string")return Fb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fb(e,t)}}function tle(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nle(e){if(Array.isArray(e))return Fb(e)}function Fb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _h=1e-4,TM=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},IM=function(t,n){return t.map(function(r,a){return r*Math.pow(n,a)}).reduce(function(r,a){return r+a})},gk=function(t,n){return function(r){var a=TM(t,n);return IM(a,r)}},rle=function(t,n){return function(r){var a=TM(t,n),s=[].concat(Joe(a.map(function(o,l){return o*l}).slice(1)),[0]);return IM(s,r)}},xk=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0],s=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,s=0,o=1,l=1;break;case"ease":a=.25,s=.1,o=.25,l=1;break;case"ease-in":a=.42,s=0,o=1,l=1;break;case"ease-out":a=.42,s=0,o=.58,l=1;break;case"ease-in-out":a=0,s=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),d=Yoe(u,4);a=d[0],s=d[1],o=d[2],l=d[3]}}}var f=gk(a,o),p=gk(s,l),h=rle(a,o),x=function(b){return b>1?1:b<0?0:b},m=function(b){for(var v=b>1?1:b,y=v,w=0;w<8;++w){var j=f(y)-v,S=h(y);if(Math.abs(j-v)<_h||S<_h)return p(y);y=x(y-j/S)}return p(y)};return m.isStepper=!1,m},ile=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,a=t.damping,s=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,p){var h=-(d-f)*r,x=p*s,m=p+(h-x)*l/1e3,g=p*l/1e3+d;return Math.abs(g-f)<_h&&Math.abs(m)<_h?[f,0]:[g,m]};return c.isStepper=!0,c.dt=l,c},ale=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return xk(a);case"spring":return ile();default:if(a.split("(")[0]==="cubic-bezier")return xk(a)}return typeof a=="function"?a:null};function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}function yk(e){return lle(e)||ole(e)||RM(e)||sle()}function sle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ole(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lle(e){if(Array.isArray(e))return qb(e)}function bk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Rn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bk(Object(n),!0).forEach(function(r){Lb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lb(e,t,n){return t=cle(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cle(e){var t=ule(e,"string");return df(t)==="symbol"?t:String(t)}function ule(e,t){if(df(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(df(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dle(e,t){return mle(e)||ple(e,t)||RM(e,t)||fle()}function fle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RM(e,t){if(e){if(typeof e=="string")return qb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qb(e,t)}}function qb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ple(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function mle(e){if(Array.isArray(e))return e}var Oh=function(t,n,r){return t+(n-t)*r},zb=function(t){var n=t.from,r=t.to;return n!==r},hle=function e(t,n,r){var a=fd(function(s,o){if(zb(o)){var l=t(o.from,o.to,o.velocity),c=dle(l,2),u=c[0],d=c[1];return Rn(Rn({},o),{},{from:u,velocity:d})}return o},n);return r<1?fd(function(s,o){return zb(o)?Rn(Rn({},o),{},{velocity:Oh(o.velocity,a[s].velocity,r),from:Oh(o.from,a[s].from,r)}):o},n):e(t,a,r-1)};const vle=function(e,t,n,r,a){var s=Woe(e,t),o=s.reduce(function(g,b){return Rn(Rn({},g),{},Lb({},b,[e[b],t[b]]))},{}),l=s.reduce(function(g,b){return Rn(Rn({},g),{},Lb({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,f=function(){return null},p=function(){return fd(function(b,v){return v.from},l)},h=function(){return!Object.values(l).filter(zb).length},x=function(b){u||(u=b);var v=b-u,y=v/n.dt;l=hle(n,l,y),a(Rn(Rn(Rn({},e),t),p())),u=b,h()||(c=requestAnimationFrame(f))},m=function(b){d||(d=b);var v=(b-d)/r,y=fd(function(j,S){return Oh.apply(void 0,yk(S).concat([n(v)]))},o);if(a(Rn(Rn(Rn({},e),t),y)),v<1)c=requestAnimationFrame(f);else{var w=fd(function(j,S){return Oh.apply(void 0,yk(S).concat([n(1)]))},o);a(Rn(Rn(Rn({},e),t),w))}};return f=n.isStepper?x:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}var gle=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function xle(e,t){if(e==null)return{};var n=yle(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yle(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,s;for(s=0;s<r.length;s++)a=r[s],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function ay(e){return Nle(e)||wle(e)||jle(e)||ble()}function ble(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jle(e,t){if(e){if(typeof e=="string")return Bb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bb(e,t)}}function wle(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nle(e){if(Array.isArray(e))return Bb(e)}function Bb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ni(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jk(Object(n),!0).forEach(function(r){Yu(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yu(e,t,n){return t=$M(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cle(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$M(r.key),r)}}function Ele(e,t,n){return t&&Cle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $M(e){var t=Ale(e,"string");return Pc(t)==="symbol"?t:String(t)}function Ale(e,t){if(Pc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Pc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ub(e,t)}function Ub(e,t){return Ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Ub(e,t)}function _le(e){var t=Ole();return function(){var r=Ph(e),a;if(t){var s=Ph(this).constructor;a=Reflect.construct(r,arguments,s)}else a=r.apply(this,arguments);return Vb(this,a)}}function Vb(e,t){if(t&&(Pc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hb(e)}function Hb(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ole(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ph(e){return Ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ph(e)}var Da=function(e){kle(n,e);var t=_le(n);function n(r,a){var s;Sle(this,n),s=t.call(this,r,a);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,p=o.children,h=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(Hb(s)),s.changeStyle=s.changeStyle.bind(Hb(s)),!l||h<=0)return s.state={style:{}},typeof p=="function"&&(s.state={style:d}),Vb(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof p=="function")return s.state={style:u},Vb(s);s.state={style:c?Yu({},c,u):u}}else s.state={style:{}};return s}return Ele(n,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,o=a.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,p=this.state.style;if(l){if(!o){var h={style:c?Yu({},c,d):d};this.state&&p&&(c&&p[c]!==d||!c&&p!==d)&&this.setState(h);return}if(!(Moe(a.to,d)&&a.canBegin&&a.isActive)){var x=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=x||u?f:a.to;if(this.state&&p){var g={style:c?Yu({},c,m):m};(c&&p[c]!==m||!c&&p!==m)&&this.setState(g)}this.runAnimation(ni(ni({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,p=a.onAnimationStart,h=vle(o,l,ale(u),c,this.changeStyle),x=function(){s.stopJSAnimation=h()};this.manager.start([p,d,x,c,f])}},{key:"runStepAnimation",value:function(a){var s=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,p=f===void 0?0:f,h=function(m,g,b){if(b===0)return m;var v=g.duration,y=g.easing,w=y===void 0?"ease":y,j=g.style,S=g.properties,C=g.onAnimationEnd,E=b>0?o[b-1]:g,k=S||Object.keys(j);if(typeof w=="function"||w==="spring")return[].concat(ay(m),[s.runJSAnimation.bind(s,{from:E.style,to:j,duration:v,easing:w}),v]);var $=vk(k,v,w),O=ni(ni(ni({},E.style),j),{},{transition:$});return[].concat(ay(m),[O,v,C]).filter(Goe)};return this.manager.start([c].concat(ay(o.reduce(h,[d,Math.max(p,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Uoe());var s=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,p=a.steps,h=a.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(a);return}if(p.length>1){this.runStepAnimation(a);return}var m=l?Yu({},l,c):c,g=vk(Object.keys(m),o,u);x.start([d,s,ni(ni({},m),{},{transition:g}),o,f])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=xle(a,gle),u=N.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||o<=0)return s;var f=function(h){var x=h.props,m=x.style,g=m===void 0?{}:m,b=x.className,v=N.cloneElement(h,ni(ni({},c),{},{style:ni(ni({},g),d),className:b}));return v};return u===1?f(N.Children.only(s)):F.createElement("div",null,N.Children.map(s,function(p){return f(p)}))}}]),n}(N.PureComponent);Da.displayName="Animate";Da.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Da.propTypes={from:De.oneOfType([De.object,De.string]),to:De.oneOfType([De.object,De.string]),attributeName:De.string,duration:De.number,begin:De.number,easing:De.oneOfType([De.string,De.func]),steps:De.arrayOf(De.shape({duration:De.number.isRequired,style:De.object.isRequired,easing:De.oneOfType([De.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),De.func]),properties:De.arrayOf("string"),onAnimationEnd:De.func})),children:De.oneOfType([De.node,De.func]),isActive:De.bool,canBegin:De.bool,onAnimationEnd:De.func,shouldReAnimate:De.bool,onAnimationStart:De.func,onAnimationReStart:De.func};function ff(e){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ff(e)}function Th(){return Th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Th.apply(this,arguments)}function Ple(e,t){return $le(e)||Rle(e,t)||Ile(e,t)||Tle()}function Tle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ile(e,t){if(e){if(typeof e=="string")return wk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wk(e,t)}}function wk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rle(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function $le(e){if(Array.isArray(e))return e}function Nk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Sk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nk(Object(n),!0).forEach(function(r){Mle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mle(e,t,n){return t=Dle(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dle(e){var t=Fle(e,"string");return ff(t)=="symbol"?t:t+""}function Fle(e,t){if(ff(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ck=function(t,n,r,a,s){var o=Math.min(Math.abs(r)/2,Math.abs(a)/2),l=a>=0?1:-1,c=r>=0?1:-1,u=a>=0&&r>=0||a<0&&r<0?1:0,d;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],p=0,h=4;p<h;p++)f[p]=s[p]>o?o:s[p];d="M".concat(t,",").concat(n+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(n)),d+="L ".concat(t+r-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+l*f[1])),d+="L ".concat(t+r,",").concat(n+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+r-c*f[2],",").concat(n+a)),d+="L ".concat(t+c*f[3],",").concat(n+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+a-l*f[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var x=Math.min(o,s);d="M ".concat(t,",").concat(n+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+c*x,",").concat(n,`
            L `).concat(t+r-c*x,",").concat(n,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+r,",").concat(n+l*x,`
            L `).concat(t+r,",").concat(n+a-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+r-c*x,",").concat(n+a,`
            L `).concat(t+c*x,",").concat(n+a,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t,",").concat(n+a-l*x," Z")}else d="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return d},Lle=function(t,n){if(!t||!n)return!1;var r=t.x,a=t.y,s=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(o,o+c),p=Math.max(o,o+c);return r>=u&&r<=d&&a>=f&&a<=p}return!1},qle={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},X1=function(t){var n=Sk(Sk({},qle),t),r=N.useRef(),a=N.useState(-1),s=Ple(a,2),o=s[0],l=s[1];N.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&l(w)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,p=n.radius,h=n.className,x=n.animationEasing,m=n.animationDuration,g=n.animationBegin,b=n.isAnimationActive,v=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var y=ht("recharts-rectangle",h);return v?F.createElement(Da,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:x,isActive:v},function(w){var j=w.width,S=w.height,C=w.x,E=w.y;return F.createElement(Da,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,isActive:b,easing:x},F.createElement("path",Th({},Xe(n,!0),{className:y,d:Ck(C,E,j,S,p),ref:r})))}):F.createElement("path",Th({},Xe(n,!0),{className:y,d:Ck(c,u,d,f,p)}))},zle=["points","className","baseLinePoints","connectNulls"];function Nl(){return Nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nl.apply(this,arguments)}function Ble(e,t){if(e==null)return{};var n=Ule(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ule(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Ek(e){return Gle(e)||Wle(e)||Hle(e)||Vle()}function Vle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hle(e,t){if(e){if(typeof e=="string")return Wb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wb(e,t)}}function Wle(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gle(e){if(Array.isArray(e))return Wb(e)}function Wb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ak=function(t){return t&&t.x===+t.x&&t.y===+t.y},Kle=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){Ak(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),Ak(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},pd=function(t,n){var r=Kle(t);n&&(r=[r.reduce(function(s,o){return[].concat(Ek(s),Ek(o))},[])]);var a=r.map(function(s){return s.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(a,"Z"):a},Yle=function(t,n,r){var a=pd(t,r);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(pd(n.reverse(),r).slice(1))},Qle=function(t){var n=t.points,r=t.className,a=t.baseLinePoints,s=t.connectNulls,o=Ble(t,zle);if(!n||!n.length)return null;var l=ht("recharts-polygon",r);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=Yle(n,a,s);return F.createElement("g",{className:l},F.createElement("path",Nl({},Xe(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?F.createElement("path",Nl({},Xe(o,!0),{fill:"none",d:pd(n,s)})):null,c?F.createElement("path",Nl({},Xe(o,!0),{fill:"none",d:pd(a,s)})):null)}var d=pd(n,s);return F.createElement("path",Nl({},Xe(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gb.apply(this,arguments)}var Z1=function(t){var n=t.cx,r=t.cy,a=t.r,s=t.className,o=ht("recharts-dot",s);return n===+n&&r===+r&&a===+a?F.createElement("circle",Gb({},Xe(t,!1),Jm(t),{className:o,cx:n,cy:r,r:a})):null};function pf(e){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pf(e)}var Xle=["x","y","top","left","width","height","className"];function Kb(){return Kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kb.apply(this,arguments)}function kk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Zle(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kk(Object(n),!0).forEach(function(r){Jle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jle(e,t,n){return t=ece(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ece(e){var t=tce(e,"string");return pf(t)=="symbol"?t:t+""}function tce(e,t){if(pf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nce(e,t){if(e==null)return{};var n=rce(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rce(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var ice=function(t,n,r,a,s,o){return"M".concat(t,",").concat(s,"v").concat(a,"M").concat(o,",").concat(n,"h").concat(r)},ace=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,s=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,p=t.height,h=p===void 0?0:p,x=t.className,m=nce(t,Xle),g=Zle({x:r,y:s,top:l,left:u,width:f,height:h},m);return!he(r)||!he(s)||!he(f)||!he(h)||!he(l)||!he(u)?null:F.createElement("path",Kb({},Xe(g,!0),{className:ht("recharts-cross",x),d:ice(r,s,f,h,l,u)}))},sce=Sg,oce=G$,lce=na;function cce(e,t){return e&&e.length?sce(e,lce(t),oce):void 0}var uce=cce;const dce=Ot(uce);var fce=Sg,pce=na,mce=K$;function hce(e,t){return e&&e.length?fce(e,pce(t),mce):void 0}var vce=hce;const gce=Ot(vce);var xce=["cx","cy","angle","ticks","axisLine"],yce=["ticks","tick","angle","tickFormatter","stroke"];function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}function md(){return md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},md.apply(this,arguments)}function _k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Gs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_k(Object(n),!0).forEach(function(r){Pg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_k(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ok(e,t){if(e==null)return{};var n=bce(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function bce(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function jce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,DM(r.key),r)}}function wce(e,t,n){return t&&Pk(e.prototype,t),n&&Pk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nce(e,t,n){return t=Ih(t),Sce(e,MM()?Reflect.construct(t,n||[],Ih(e).constructor):t.apply(e,n))}function Sce(e,t){if(t&&(Tc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cce(e)}function Cce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MM=function(){return!!e})()}function Ih(e){return Ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ih(e)}function Ece(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yb(e,t)}function Yb(e,t){return Yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Yb(e,t)}function Pg(e,t,n){return t=DM(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DM(e){var t=Ace(e,"string");return Tc(t)=="symbol"?t:t+""}function Ace(e,t){if(Tc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tg=function(e){function t(){return jce(this,t),Nce(this,t,arguments)}return Ece(t,e),wce(t,[{key:"getTickValueCoord",value:function(r){var a=r.coordinate,s=this.props,o=s.angle,l=s.cx,c=s.cy;return zt(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,a;switch(r){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var r=this.props,a=r.cx,s=r.cy,o=r.angle,l=r.ticks,c=dce(l,function(d){return d.coordinate||0}),u=gce(l,function(d){return d.coordinate||0});return{cx:a,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,s=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,u=Ok(r,xce),d=l.reduce(function(x,m){return[Math.min(x[0],m.coordinate),Math.max(x[1],m.coordinate)]},[1/0,-1/0]),f=zt(a,s,d[0],o),p=zt(a,s,d[1],o),h=Gs(Gs(Gs({},Xe(u,!1)),{},{fill:"none"},Xe(c,!1)),{},{x1:f.x,y1:f.y,x2:p.x,y2:p.y});return F.createElement("line",md({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var r=this,a=this.props,s=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=Ok(a,yce),f=this.getTickTextAnchor(),p=Xe(d,!1),h=Xe(o,!1),x=s.map(function(m,g){var b=r.getTickValueCoord(m),v=Gs(Gs(Gs(Gs({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},p),{},{stroke:"none",fill:u},h),{},{index:g},b),{},{payload:m});return F.createElement(Pt,md({className:ht("recharts-polar-radius-axis-tick",wM(o)),key:"tick-".concat(m.coordinate)},Io(r.props,m,g)),t.renderTickItem(o,v,c?c(m.value,g):m.value))});return F.createElement(Pt,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,a=r.ticks,s=r.axisLine,o=r.tick;return!a||!a.length?null:F.createElement(Pt,{className:ht("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),_n.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,a,s){var o;return F.isValidElement(r)?o=F.cloneElement(r,a):et(r)?o=r(a):o=F.createElement(Ro,md({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(N.PureComponent);Pg(Tg,"displayName","PolarRadiusAxis");Pg(Tg,"axisType","radiusAxis");Pg(Tg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function eo(){return eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eo.apply(this,arguments)}function Tk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ks(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tk(Object(n),!0).forEach(function(r){Ig(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ik(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,LM(r.key),r)}}function _ce(e,t,n){return t&&Ik(e.prototype,t),n&&Ik(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oce(e,t,n){return t=Rh(t),Pce(e,FM()?Reflect.construct(t,n||[],Rh(e).constructor):t.apply(e,n))}function Pce(e,t){if(t&&(Ic(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tce(e)}function Tce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FM=function(){return!!e})()}function Rh(e){return Rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rh(e)}function Ice(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qb(e,t)}function Qb(e,t){return Qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Qb(e,t)}function Ig(e,t,n){return t=LM(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LM(e){var t=Rce(e,"string");return Ic(t)=="symbol"?t:t+""}function Rce(e,t){if(Ic(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $ce=Math.PI/180,Rk=1e-5,Rg=function(e){function t(){return kce(this,t),Oce(this,t,arguments)}return Ice(t,e),_ce(t,[{key:"getTickLineCoord",value:function(r){var a=this.props,s=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=zt(s,o,l,r.coordinate),p=zt(s,o,l+(c==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(r){var a=this.props.orientation,s=Math.cos(-r.coordinate*$ce),o;return s>Rk?o=a==="outer"?"start":"end":s<-Rk?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,s=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,u=Ks(Ks({},Xe(this.props,!1)),{},{fill:"none"},Xe(l,!1));if(c==="circle")return F.createElement(Z1,eo({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:s,r:o}));var d=this.props.ticks,f=d.map(function(p){return zt(a,s,o,p.coordinate)});return F.createElement(Qle,eo({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,a=this.props,s=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=Xe(this.props,!1),f=Xe(o,!1),p=Ks(Ks({},d),{},{fill:"none"},Xe(l,!1)),h=s.map(function(x,m){var g=r.getTickLineCoord(x),b=r.getTickTextAnchor(x),v=Ks(Ks(Ks({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:x,x:g.x2,y:g.y2});return F.createElement(Pt,eo({className:ht("recharts-polar-angle-axis-tick",wM(o)),key:"tick-".concat(x.coordinate)},Io(r.props,x,m)),l&&F.createElement("line",eo({className:"recharts-polar-angle-axis-tick-line"},p,g)),o&&t.renderTickItem(o,v,c?c(x.value,m):x.value))});return F.createElement(Pt,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var r=this.props,a=r.ticks,s=r.radius,o=r.axisLine;return s<=0||!a||!a.length?null:F.createElement(Pt,{className:ht("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,a,s){var o;return F.isValidElement(r)?o=F.cloneElement(r,a):et(r)?o=r(a):o=F.createElement(Ro,eo({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(N.PureComponent);Ig(Rg,"displayName","PolarAngleAxis");Ig(Rg,"axisType","angleAxis");Ig(Rg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Mce=UR,Dce=Mce(Object.getPrototypeOf,Object),Fce=Dce,Lce=qa,qce=Fce,zce=za,Bce="[object Object]",Uce=Function.prototype,Vce=Object.prototype,qM=Uce.toString,Hce=Vce.hasOwnProperty,Wce=qM.call(Object);function Gce(e){if(!zce(e)||Lce(e)!=Bce)return!1;var t=qce(e);if(t===null)return!0;var n=Hce.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&qM.call(n)==Wce}var Kce=Gce;const Yce=Ot(Kce);var Qce=qa,Xce=za,Zce="[object Boolean]";function Jce(e){return e===!0||e===!1||Xce(e)&&Qce(e)==Zce}var eue=Jce;const tue=Ot(eue);function mf(e){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mf(e)}function $h(){return $h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$h.apply(this,arguments)}function nue(e,t){return sue(e)||aue(e,t)||iue(e,t)||rue()}function rue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iue(e,t){if(e){if(typeof e=="string")return $k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $k(e,t)}}function $k(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aue(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function sue(e){if(Array.isArray(e))return e}function Mk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Dk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mk(Object(n),!0).forEach(function(r){oue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oue(e,t,n){return t=lue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lue(e){var t=cue(e,"string");return mf(t)=="symbol"?t:t+""}function cue(e,t){if(mf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fk=function(t,n,r,a,s){var o=r-a,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+r,",").concat(n),l+="L ".concat(t+r-o/2,",").concat(n+s),l+="L ".concat(t+r-o/2-a,",").concat(n+s),l+="L ".concat(t,",").concat(n," Z"),l},uue={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},due=function(t){var n=Dk(Dk({},uue),t),r=N.useRef(),a=N.useState(-1),s=nue(a,2),o=s[0],l=s[1];N.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var y=r.current.getTotalLength();y&&l(y)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,p=n.height,h=n.className,x=n.animationEasing,m=n.animationDuration,g=n.animationBegin,b=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||p!==+p||d===0&&f===0||p===0)return null;var v=ht("recharts-trapezoid",h);return b?F.createElement(Da,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:p,x:c,y:u},duration:m,animationEasing:x,isActive:b},function(y){var w=y.upperWidth,j=y.lowerWidth,S=y.height,C=y.x,E=y.y;return F.createElement(Da,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,easing:x},F.createElement("path",$h({},Xe(n,!0),{className:v,d:Fk(C,E,w,j,S),ref:r})))}):F.createElement("g",null,F.createElement("path",$h({},Xe(n,!0),{className:v,d:Fk(c,u,d,f,p)})))},fue=["option","shapeType","propTransformer","activeClassName","isActive"];function hf(e){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hf(e)}function pue(e,t){if(e==null)return{};var n=mue(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function mue(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Lk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lk(Object(n),!0).forEach(function(r){hue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hue(e,t,n){return t=vue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vue(e){var t=gue(e,"string");return hf(t)=="symbol"?t:t+""}function gue(e,t){if(hf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xue(e,t){return Mh(Mh({},t),e)}function yue(e,t){return e==="symbols"}function qk(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return F.createElement(X1,n);case"trapezoid":return F.createElement(due,n);case"sector":return F.createElement(CM,n);case"symbols":if(yue(t))return F.createElement(v1,n);break;default:return null}}function bue(e){return N.isValidElement(e)?e.props:e}function zM(e){var t=e.option,n=e.shapeType,r=e.propTransformer,a=r===void 0?xue:r,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,c=pue(e,fue),u;if(N.isValidElement(t))u=N.cloneElement(t,Mh(Mh({},c),bue(t)));else if(et(t))u=t(c);else if(Yce(t)&&!tue(t)){var d=a(t,c);u=F.createElement(qk,{shapeType:n,elementProps:d})}else{var f=c;u=F.createElement(qk,{shapeType:n,elementProps:f})}return l?F.createElement(Pt,{className:o},u):u}function $g(e,t){return t!=null&&"trapezoids"in e.props}function Mg(e,t){return t!=null&&"sectors"in e.props}function vf(e,t){return t!=null&&"points"in e.props}function jue(e,t){var n,r,a=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,s=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return a&&s}function wue(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function Nue(e,t){var n=e.x===t.x,r=e.y===t.y,a=e.z===t.z;return n&&r&&a}function Sue(e,t){var n;return $g(e,t)?n=jue:Mg(e,t)?n=wue:vf(e,t)&&(n=Nue),n}function Cue(e,t){var n;return $g(e,t)?n="trapezoids":Mg(e,t)?n="sectors":vf(e,t)&&(n="points"),n}function Eue(e,t){if($g(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Mg(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return vf(e,t)?t.payload:{}}function Aue(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,a=Cue(n,t),s=Eue(n,t),o=r.filter(function(c,u){var d=Ag(s,c),f=n.props[a].filter(function(x){var m=Sue(n,t);return m(x,t)}),p=n.props[a].indexOf(f[f.length-1]),h=u===p;return d&&h}),l=r.indexOf(o[o.length-1]);return l}var gm;function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function Sl(){return Sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sl.apply(this,arguments)}function zk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zk(Object(n),!0).forEach(function(r){Br(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,UM(r.key),r)}}function _ue(e,t,n){return t&&Bk(e.prototype,t),n&&Bk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oue(e,t,n){return t=Dh(t),Pue(e,BM()?Reflect.construct(t,n||[],Dh(e).constructor):t.apply(e,n))}function Pue(e,t){if(t&&(Rc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tue(e)}function Tue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BM=function(){return!!e})()}function Dh(e){return Dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dh(e)}function Iue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xb(e,t)}function Xb(e,t){return Xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Xb(e,t)}function Br(e,t,n){return t=UM(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UM(e){var t=Rue(e,"string");return Rc(t)=="symbol"?t:t+""}function Rue(e,t){if(Rc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ua=function(e){function t(n){var r;return kue(this,t),r=Oue(this,t,[n]),Br(r,"pieRef",null),Br(r,"sectorRefs",[]),Br(r,"id",tp("recharts-pie-")),Br(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),et(a)&&a()}),Br(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),et(a)&&a()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Iue(t,e),_ue(t,[{key:"isActiveIndex",value:function(r){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(r)!==-1:r===a}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=Xe(this.props,!1),f=Xe(o,!1),p=Xe(l,!1),h=o&&o.offsetRadius||20,x=r.map(function(m,g){var b=(m.startAngle+m.endAngle)/2,v=zt(m.cx,m.cy,m.outerRadius+h,b),y=Ft(Ft(Ft(Ft({},d),m),{},{stroke:"none"},f),{},{index:g,textAnchor:t.getTextAnchor(v.x,m.cx)},v),w=Ft(Ft(Ft(Ft({},d),m),{},{fill:"none",stroke:m.fill},p),{},{index:g,points:[zt(m.cx,m.cy,m.outerRadius,b),v]}),j=c;return bt(c)&&bt(u)?j="value":bt(c)&&(j=u),F.createElement(Pt,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(g)},l&&t.renderLabelLineItem(l,w,"line"),t.renderLabelItem(o,y,Hn(m,j)))});return F.createElement(Pt,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(r){var a=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=a.isActiveIndex(d),p=c&&a.hasActiveIndex()?c:null,h=f?o:p,x=Ft(Ft({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return F.createElement(Pt,Sl({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},Io(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),F.createElement(zM,Sl({option:h,isActive:f,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,a=this.props,s=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,p=f.prevSectors,h=f.prevIsAnimationActive;return F.createElement(Da,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var m=x.t,g=[],b=s&&s[0],v=b.startAngle;return s.forEach(function(y,w){var j=p&&p[w],S=w>0?Or(y,"paddingAngle",0):0;if(j){var C=Za(j.endAngle-j.startAngle,y.endAngle-y.startAngle),E=Ft(Ft({},y),{},{startAngle:v+S,endAngle:v+C(m)+S});g.push(E),v=E.endAngle}else{var k=y.endAngle,$=y.startAngle,O=Za(0,k-$),T=O(m),P=Ft(Ft({},y),{},{startAngle:v+S,endAngle:v+T+S});g.push(P),v=P.endAngle}}),F.createElement(Pt,null,r.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(r){var a=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,a=r.sectors,s=r.isAnimationActive,o=this.state.prevSectors;return s&&a&&a.length&&(!o||!Ag(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,a=this.props,s=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,p=a.outerRadius,h=a.isAnimationActive,x=this.state.isAnimationFinished;if(s||!o||!o.length||!he(u)||!he(d)||!he(f)||!he(p))return null;var m=ht("recharts-pie",l);return F.createElement(Pt,{tabIndex:this.props.rootTabIndex,className:m,ref:function(b){r.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),_n.renderCallByParent(this.props,null,!1),(!h||x)&&Es.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return a.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:r.sectors!==a.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,a){return r>a?"start":r<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,a,s){if(F.isValidElement(r))return F.cloneElement(r,a);if(et(r))return r(a);var o=ht("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return F.createElement(Mb,Sl({},a,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,a,s){if(F.isValidElement(r))return F.cloneElement(r,a);var o=s;if(et(r)&&(o=r(a),F.isValidElement(o)))return o;var l=ht("recharts-pie-label-text",typeof r!="boolean"&&!et(r)?r.className:"");return F.createElement(Ro,Sl({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(N.PureComponent);gm=Ua;Br(Ua,"displayName","Pie");Br(Ua,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!wa.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Br(Ua,"parseDeltaAngle",function(e,t){var n=tr(t-e),r=Math.min(Math.abs(t-e),360);return n*r});Br(Ua,"getRealPieData",function(e){var t=e.data,n=e.children,r=Xe(e,!1),a=Gr(n,gg);return t&&t.length?t.map(function(s,o){return Ft(Ft(Ft({payload:s},r),s),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(s){return Ft(Ft({},r),s.props)}):[]});Br(Ua,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,a=t.width,s=t.height,o=jM(a,s),l=r+nr(e.cx,a,a/2),c=n+nr(e.cy,s,s/2),u=nr(e.innerRadius,o,0),d=nr(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Br(Ua,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?Ft(Ft({},t.type.defaultProps),t.props):t.props,a=gm.getRealPieData(r);if(!a||!a.length)return null;var s=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,u=r.dataKey,d=r.nameKey,f=r.valueKey,p=r.tooltipType,h=Math.abs(r.minAngle),x=gm.parseCoordinateOfPie(r,n),m=gm.parseDeltaAngle(o,l),g=Math.abs(m),b=u;bt(u)&&bt(f)?(gi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):bt(u)&&(gi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var v=a.filter(function(E){return Hn(E,b,0)!==0}).length,y=(g>=360?v:v-1)*c,w=g-v*h-y,j=a.reduce(function(E,k){var $=Hn(k,b,0);return E+(he($)?$:0)},0),S;if(j>0){var C;S=a.map(function(E,k){var $=Hn(E,b,0),O=Hn(E,d,k),T=(he($)?$:0)/j,P;k?P=C.endAngle+tr(m)*c*($!==0?1:0):P=o;var I=P+tr(m)*(($!==0?h:0)+T*w),D=(P+I)/2,R=(x.innerRadius+x.outerRadius)/2,V=[{name:O,value:$,payload:E,dataKey:b,type:p}],q=zt(x.cx,x.cy,R,D);return C=Ft(Ft(Ft({percent:T,cornerRadius:s,name:O,tooltipPayload:V,midAngle:D,middleRadius:R,tooltipPosition:q},E),x),{},{value:Hn(E,b),startAngle:P,endAngle:I,payload:E,paddingAngle:tr(m)*c}),C})}return Ft(Ft({},x),{},{sectors:S,data:a})});var $ue=Math.ceil,Mue=Math.max;function Due(e,t,n,r){for(var a=-1,s=Mue($ue((t-e)/(n||1)),0),o=Array(s);s--;)o[r?s:++a]=e,e+=n;return o}var Fue=Due,Lue=l$,Uk=1/0,que=17976931348623157e292;function zue(e){if(!e)return e===0?e:0;if(e=Lue(e),e===Uk||e===-Uk){var t=e<0?-1:1;return t*que}return e===e?e:0}var VM=zue,Bue=Fue,Uue=vg,sy=VM;function Vue(e){return function(t,n,r){return r&&typeof r!="number"&&Uue(t,n,r)&&(n=r=void 0),t=sy(t),n===void 0?(n=t,t=0):n=sy(n),r=r===void 0?t<n?1:-1:sy(r),Bue(t,n,r,e)}}var Hue=Vue,Wue=Hue,Gue=Wue(),Kue=Gue;const Fh=Ot(Kue);function gf(e){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gf(e)}function Vk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Hk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vk(Object(n),!0).forEach(function(r){HM(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HM(e,t,n){return t=Yue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yue(e){var t=Que(e,"string");return gf(t)=="symbol"?t:t+""}function Que(e,t){if(gf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xue=["Webkit","Moz","O","ms"],Zue=function(t,n){var r=t.replace(/(\w)/,function(s){return s.toUpperCase()}),a=Xue.reduce(function(s,o){return Hk(Hk({},s),{},HM({},o+r,n))},{});return a[t]=n,a};function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}function Lh(){return Lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lh.apply(this,arguments)}function Wk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function oy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wk(Object(n),!0).forEach(function(r){xr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,GM(r.key),r)}}function ede(e,t,n){return t&&Gk(e.prototype,t),n&&Gk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tde(e,t,n){return t=qh(t),nde(e,WM()?Reflect.construct(t,n||[],qh(e).constructor):t.apply(e,n))}function nde(e,t){if(t&&($c(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rde(e)}function rde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WM=function(){return!!e})()}function qh(e){return qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qh(e)}function ide(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zb(e,t)}function Zb(e,t){return Zb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Zb(e,t)}function xr(e,t,n){return t=GM(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GM(e){var t=ade(e,"string");return $c(t)=="symbol"?t:t+""}function ade(e,t){if($c(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if($c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sde=function(t){var n=t.data,r=t.startIndex,a=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=ud().domain(Fh(0,c)).range([s,s+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(a),scale:u,scaleValues:d}},Kk=function(t){return t.changedTouches&&!!t.changedTouches.length},Mc=function(e){function t(n){var r;return Jue(this,t),r=tde(this,t,[n]),xr(r,"handleDrag",function(a){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(a):r.state.isSlideMoving&&r.handleSlideDrag(a)}),xr(r,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&r.handleDrag(a.changedTouches[0])}),xr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=r.props,s=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:s,startIndex:l})}),r.detachDragEndListener()}),xr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),xr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),xr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),xr(r,"handleSlideDragStart",function(a){var s=Kk(a)?a.changedTouches[0]:a;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return ide(t,e),ede(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var a=r.startX,s=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,s),p=Math.max(a,s),h=t.getIndexInRange(o,f),x=t.getIndexInRange(o,p);return{startIndex:h-h%c,endIndex:x===d?d:x-x%c}}},{key:"getTextOfTick",value:function(r){var a=this.props,s=a.data,o=a.tickFormatter,l=a.dataKey,c=Hn(s[r],l,r);return et(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var a=this.state,s=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,p=c.startIndex,h=c.endIndex,x=c.onChange,m=r.pageX-s;m>0?m=Math.min(m,u+d-f-l,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-l));var g=this.getIndex({startX:o+m,endX:l+m});(g.startIndex!==p||g.endIndex!==h)&&x&&x(g),this.setState({startX:o+m,endX:l+m,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,a){var s=Kk(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var a=this.state,s=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,p=d.width,h=d.travellerWidth,x=d.onChange,m=d.gap,g=d.data,b={startX:this.state.startX,endX:this.state.endX},v=r.pageX-s;v>0?v=Math.min(v,f+p-h-u):v<0&&(v=Math.max(v,f-u)),b[o]=u+v;var y=this.getIndex(b),w=y.startIndex,j=y.endIndex,S=function(){var E=g.length-1;return o==="startX"&&(l>c?w%m===0:j%m===0)||l<c&&j===E||o==="endX"&&(l>c?j%m===0:w%m===0)||l>c&&j===E};this.setState(xr(xr({},o,u+v),"brushMoveStartX",r.pageX),function(){x&&S()&&x(y)})}},{key:"handleTravellerMoveKeyboard",value:function(r,a){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var p=f+r;if(!(p===-1||p>=l.length)){var h=l[p];a==="startX"&&h>=u||a==="endX"&&h<=c||this.setState(xr({},a,h),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,a=r.x,s=r.y,o=r.width,l=r.height,c=r.fill,u=r.stroke;return F.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,a=r.x,s=r.y,o=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,f=N.Children.only(u);return f?F.cloneElement(f,{x:a,y:s,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,a){var s,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,p=c.traveller,h=c.ariaLabel,x=c.data,m=c.startIndex,g=c.endIndex,b=Math.max(r,this.props.x),v=oy(oy({},Xe(this.props,!1)),{},{x:b,y:u,width:d,height:f}),y=h||"Min value: ".concat((s=x[m])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=x[g])===null||o===void 0?void 0:o.name);return F.createElement(Pt,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,v))}},{key:"renderSlide",value:function(r,a){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(r,a)+u,f=Math.max(Math.abs(a-r)-u,0);return F.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var r=this.props,a=r.startIndex,s=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,p=d.endX,h=5,x={pointerEvents:"none",fill:u};return F.createElement(Pt,{className:"recharts-brush-texts"},F.createElement(Ro,Lh({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,p)-h,y:o+l/2},x),this.getTextOfTick(a)),F.createElement(Ro,Lh({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,p)+c+h,y:o+l/2},x),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,a=r.data,s=r.className,o=r.children,l=r.x,c=r.y,u=r.width,d=r.height,f=r.alwaysShowText,p=this.state,h=p.startX,x=p.endX,m=p.isTextActive,g=p.isSlideMoving,b=p.isTravellerMoving,v=p.isTravellerFocused;if(!a||!a.length||!he(l)||!he(c)||!he(u)||!he(d)||u<=0||d<=0)return null;var y=ht("recharts-brush",s),w=F.Children.count(o)===1,j=Zue("userSelect","none");return F.createElement(Pt,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),w&&this.renderPanorama(),this.renderSlide(h,x),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(x,"endX"),(m||g||b||v||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var a=r.x,s=r.y,o=r.width,l=r.height,c=r.stroke,u=Math.floor(s+l/2)-1;return F.createElement(F.Fragment,null,F.createElement("rect",{x:a,y:s,width:o,height:l,fill:c,stroke:"none"}),F.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),F.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,a){var s;return F.isValidElement(r)?s=F.cloneElement(r,a):et(r)?s=r(a):s=t.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(r,a){var s=r.data,o=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return oy({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?sde({data:s,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var p=a.scale.domain().map(function(h){return a.scale(h)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(r.startIndex),endX:a.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,a){for(var s=r.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>a?l=c:o=c}return a>=r[l]?l:o}}])}(N.PureComponent);xr(Mc,"displayName","Brush");xr(Mc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ode=N1;function lde(e,t){var n;return ode(e,function(r,a,s){return n=t(r,a,s),!n}),!!n}var cde=lde,ude=$R,dde=na,fde=cde,pde=gr,mde=vg;function hde(e,t,n){var r=pde(e)?ude:fde;return n&&mde(e,t,n)&&(t=void 0),r(e,dde(t))}var vde=hde;const gde=Ot(vde);var Wi=function(t,n){var r=t.alwaysShow,a=t.ifOverflow;return r&&(a="extendDomain"),a===n},Yk=r$;function xde(e,t,n){t=="__proto__"&&Yk?Yk(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var yde=xde,bde=yde,jde=t$,wde=na;function Nde(e,t){var n={};return t=wde(t),jde(e,function(r,a,s){bde(n,a,t(r,a,s))}),n}var Sde=Nde;const Cde=Ot(Sde);function Ede(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var Ade=Ede,kde=N1;function _de(e,t){var n=!0;return kde(e,function(r,a,s){return n=!!t(r,a,s),n}),n}var Ode=_de,Pde=Ade,Tde=Ode,Ide=na,Rde=gr,$de=vg;function Mde(e,t,n){var r=Rde(e)?Pde:Tde;return n&&$de(e,t,n)&&(t=void 0),r(e,Ide(t))}var Dde=Mde;const KM=Ot(Dde);var Fde=["x","y"];function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}function Jb(){return Jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jb.apply(this,arguments)}function Qk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function zu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qk(Object(n),!0).forEach(function(r){Lde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lde(e,t,n){return t=qde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qde(e){var t=zde(e,"string");return xf(t)=="symbol"?t:t+""}function zde(e,t){if(xf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bde(e,t){if(e==null)return{};var n=Ude(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ude(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Vde(e,t){var n=e.x,r=e.y,a=Bde(e,Fde),s="".concat(n),o=parseInt(s,10),l="".concat(r),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),p=parseInt(f,10);return zu(zu(zu(zu(zu({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:p,name:t.name,radius:t.radius})}function Xk(e){return F.createElement(zM,Jb({shapeType:"rectangle",propTransformer:Vde,activeClassName:"recharts-active-bar"},e))}var Hde=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,a){if(typeof t=="number")return t;var s=typeof r=="number";return s?t(r,a):(s||Mo(),n)}},Wde=["value","background"],YM;function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}function Gde(e,t){if(e==null)return{};var n=Kde(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Kde(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function zh(){return zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zh.apply(this,arguments)}function Zk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zk(Object(n),!0).forEach(function(r){hs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XM(r.key),r)}}function Qde(e,t,n){return t&&Jk(e.prototype,t),n&&Jk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xde(e,t,n){return t=Bh(t),Zde(e,QM()?Reflect.construct(t,n||[],Bh(e).constructor):t.apply(e,n))}function Zde(e,t){if(t&&(Dc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jde(e)}function Jde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QM=function(){return!!e})()}function Bh(e){return Bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bh(e)}function efe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ej(e,t)}function ej(e,t){return ej=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ej(e,t)}function hs(e,t,n){return t=XM(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XM(e){var t=tfe(e,"string");return Dc(t)=="symbol"?t:t+""}function tfe(e,t){if(Dc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xo=function(e){function t(){var n;Yde(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=Xde(this,t,[].concat(a)),hs(n,"state",{isAnimationFinished:!1}),hs(n,"id",tp("recharts-bar-")),hs(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),hs(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return efe(t,e),Qde(t,[{key:"renderRectanglesStatically",value:function(r){var a=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=Xe(this.props,!1);return r&&r.map(function(f,p){var h=p===c,x=h?u:o,m=mn(mn(mn({},d),f),{},{isActive:h,option:x,index:p,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return F.createElement(Pt,zh({className:"recharts-bar-rectangle"},Io(a.props,f,p),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(p)}),F.createElement(Xk,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,a=this.props,s=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,p=this.state.prevData;return F.createElement(Da,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var x=h.t,m=s.map(function(g,b){var v=p&&p[b];if(v){var y=Za(v.x,g.x),w=Za(v.y,g.y),j=Za(v.width,g.width),S=Za(v.height,g.height);return mn(mn({},g),{},{x:y(x),y:w(x),width:j(x),height:S(x)})}if(o==="horizontal"){var C=Za(0,g.height),E=C(x);return mn(mn({},g),{},{y:g.y+g.height-E,height:E})}var k=Za(0,g.width),$=k(x);return mn(mn({},g),{},{width:$})});return F.createElement(Pt,null,r.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var r=this.props,a=r.data,s=r.isAnimationActive,o=this.state.prevData;return s&&a&&a.length&&(!o||!Ag(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var r=this,a=this.props,s=a.data,o=a.dataKey,l=a.activeIndex,c=Xe(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,p=Gde(u,Wde);if(!f)return null;var h=mn(mn(mn(mn(mn({},p),{},{fill:"#eee"},f),c),Io(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return F.createElement(Xk,zh({key:"background-bar-".concat(d),option:r.props.background,isActive:d===l},h))})}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=Gr(d,Og);if(!f)return null;var p=u==="vertical"?o[0].height/2:o[0].width/2,h=function(g,b){var v=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:v,errorVal:Hn(g,b)}},x={clipPath:r?"url(#clipPath-".concat(a,")"):null};return F.createElement(Pt,x,f.map(function(m){return F.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:p,dataPointFormatter:h})}))}},{key:"render",value:function(){var r=this.props,a=r.hide,s=r.data,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,p=r.height,h=r.isAnimationActive,x=r.background,m=r.id;if(a||!s||!s.length)return null;var g=this.state.isAnimationFinished,b=ht("recharts-bar",o),v=l&&l.allowDataOverflow,y=c&&c.allowDataOverflow,w=v||y,j=bt(m)?this.id:m;return F.createElement(Pt,{className:b},v||y?F.createElement("defs",null,F.createElement("clipPath",{id:"clipPath-".concat(j)},F.createElement("rect",{x:v?u:u-f/2,y:y?d:d-p/2,width:v?f:f*2,height:y?p:p*2}))):null,F.createElement(Pt,{className:"recharts-bar-rectangles",clipPath:w?"url(#clipPath-".concat(j,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(w,j),(!h||g)&&Es.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:a.curData}:r.data!==a.curData?{curData:r.data}:null}}])}(N.PureComponent);YM=Xo;hs(Xo,"displayName","Bar");hs(Xo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!wa.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});hs(Xo,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,a=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,p=e.offset,h=$ae(r,n);if(!h)return null;var x=t.layout,m=n.type.defaultProps,g=m!==void 0?mn(mn({},m),n.props):n.props,b=g.dataKey,v=g.children,y=g.minPointSize,w=x==="horizontal"?o:s,j=u?w.scale.domain():null,S=Bae({numericAxis:w}),C=Gr(v,gg),E=f.map(function(k,$){var O,T,P,I,D,R;u?O=Mae(u[d+$],j):(O=Hn(k,b),Array.isArray(O)||(O=[S,O]));var V=Hde(y,YM.defaultProps.minPointSize)(O[1],$);if(x==="horizontal"){var q,B=[o.scale(O[0]),o.scale(O[1])],W=B[0],Z=B[1];T=BA({axis:s,ticks:l,bandSize:a,offset:h.offset,entry:k,index:$}),P=(q=Z??W)!==null&&q!==void 0?q:void 0,I=h.size;var te=W-Z;if(D=Number.isNaN(te)?0:te,R={x:T,y:o.y,width:I,height:o.height},Math.abs(V)>0&&Math.abs(D)<Math.abs(V)){var fe=tr(D||V)*(Math.abs(V)-Math.abs(D));P-=fe,D+=fe}}else{var Ae=[s.scale(O[0]),s.scale(O[1])],He=Ae[0],ze=Ae[1];if(T=He,P=BA({axis:o,ticks:c,bandSize:a,offset:h.offset,entry:k,index:$}),I=ze-He,D=h.size,R={x:s.x,y:P,width:s.width,height:D},Math.abs(V)>0&&Math.abs(I)<Math.abs(V)){var xe=tr(I||V)*(Math.abs(V)-Math.abs(I));I+=xe}}return mn(mn(mn({},k),{},{x:T,y:P,width:I,height:D,value:u?O:O[1],payload:k,background:R},C&&C[$]&&C[$].props),{},{tooltipPayload:[yM(n,k)],tooltipPosition:{x:T+I/2,y:P+D/2}})});return mn({data:E,layout:x},p)});function yf(e){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(e)}function nfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZM(r.key),r)}}function rfe(e,t,n){return t&&e2(e.prototype,t),n&&e2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function t2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function li(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t2(Object(n),!0).forEach(function(r){Dg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dg(e,t,n){return t=ZM(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZM(e){var t=ife(e,"string");return yf(t)=="symbol"?t:t+""}function ife(e,t){if(yf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var afe=function(t,n,r,a,s){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},p=!!jr(u,Xo);return d.reduce(function(h,x){var m=n[x],g=m.orientation,b=m.domain,v=m.padding,y=v===void 0?{}:v,w=m.mirror,j=m.reversed,S="".concat(g).concat(w?"Mirror":""),C,E,k,$,O;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var T=b[1]-b[0],P=1/0,I=m.categoricalDomain.sort();if(I.forEach(function(Ae,He){He>0&&(P=Math.min((Ae||0)-(I[He-1]||0),P))}),Number.isFinite(P)){var D=P/T,R=m.layout==="vertical"?r.height:r.width;if(m.padding==="gap"&&(C=D*R/2),m.padding==="no-gap"){var V=nr(t.barCategoryGap,D*R),q=D*R/2;C=q-V-(q-V)/R*V}}}a==="xAxis"?E=[r.left+(y.left||0)+(C||0),r.left+r.width-(y.right||0)-(C||0)]:a==="yAxis"?E=c==="horizontal"?[r.top+r.height-(y.bottom||0),r.top+(y.top||0)]:[r.top+(y.top||0)+(C||0),r.top+r.height-(y.bottom||0)-(C||0)]:E=m.range,j&&(E=[E[1],E[0]]);var B=hM(m,s,p),W=B.scale,Z=B.realScaleType;W.domain(b).range(E),vM(W);var te=gM(W,li(li({},m),{},{realScaleType:Z}));a==="xAxis"?(O=g==="top"&&!w||g==="bottom"&&w,k=r.left,$=f[S]-O*m.height):a==="yAxis"&&(O=g==="left"&&!w||g==="right"&&w,k=f[S]-O*m.width,$=r.top);var fe=li(li(li({},m),te),{},{realScaleType:Z,x:k,y:$,scale:W,width:a==="xAxis"?r.width:m.width,height:a==="yAxis"?r.height:m.height});return fe.bandSize=Eh(fe,te),!m.hide&&a==="xAxis"?f[S]+=(O?-1:1)*fe.height:m.hide||(f[S]+=(O?-1:1)*fe.width),li(li({},h),{},Dg({},x,fe))},{})},JM=function(t,n){var r=t.x,a=t.y,s=n.x,o=n.y;return{x:Math.min(r,s),y:Math.min(a,o),width:Math.abs(s-r),height:Math.abs(o-a)}},sfe=function(t){var n=t.x1,r=t.y1,a=t.x2,s=t.y2;return JM({x:n,y:r},{x:a,y:s})},e4=function(){function e(t){nfe(this,e),this.scale=t}return rfe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),a=r[0],s=r[r.length-1];return a<=s?n>=a&&n<=s:n>=s&&n<=a}}],[{key:"create",value:function(n){return new e(n)}}])}();Dg(e4,"EPS",1e-4);var J1=function(t){var n=Object.keys(t).reduce(function(r,a){return li(li({},r),{},Dg({},a,e4.create(t[a])))},{});return li(li({},n),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return Cde(a,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return KM(a,function(s,o){return n[o].isInRange(s)})}})};function ofe(e){return(e%180+180)%180}var lfe=function(t){var n=t.width,r=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=ofe(a),o=s*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},cfe=na,ufe=np,dfe=mg;function ffe(e){return function(t,n,r){var a=Object(t);if(!ufe(t)){var s=cfe(n);t=dfe(t),n=function(l){return s(a[l],l,a)}}var o=e(t,n,r);return o>-1?a[s?t[o]:o]:void 0}}var pfe=ffe,mfe=VM;function hfe(e){var t=mfe(e),n=t%1;return t===t?n?t-n:t:0}var vfe=hfe,gfe=YR,xfe=na,yfe=vfe,bfe=Math.max;function jfe(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=n==null?0:yfe(n);return a<0&&(a=bfe(r+a,0)),gfe(e,xfe(t),a)}var wfe=jfe,Nfe=pfe,Sfe=wfe,Cfe=Nfe(Sfe),Efe=Cfe;const Afe=Ot(Efe);var kfe=NH(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),eN=N.createContext(void 0),tN=N.createContext(void 0),t4=N.createContext(void 0),n4=N.createContext({}),r4=N.createContext(void 0),i4=N.createContext(0),a4=N.createContext(0),n2=function(t){var n=t.state,r=n.xAxisMap,a=n.yAxisMap,s=n.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=kfe(s);return F.createElement(eN.Provider,{value:r},F.createElement(tN.Provider,{value:a},F.createElement(n4.Provider,{value:s},F.createElement(t4.Provider,{value:d},F.createElement(r4.Provider,{value:o},F.createElement(i4.Provider,{value:u},F.createElement(a4.Provider,{value:c},l)))))))},_fe=function(){return N.useContext(r4)},s4=function(t){var n=N.useContext(eN);n==null&&Mo();var r=n[t];return r==null&&Mo(),r},Ofe=function(){var t=N.useContext(eN);return ns(t)},Pfe=function(){var t=N.useContext(tN),n=Afe(t,function(r){return KM(r.domain,Number.isFinite)});return n||ns(t)},o4=function(t){var n=N.useContext(tN);n==null&&Mo();var r=n[t];return r==null&&Mo(),r},Tfe=function(){var t=N.useContext(t4);return t},Ife=function(){return N.useContext(n4)},nN=function(){return N.useContext(a4)},rN=function(){return N.useContext(i4)};function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}function Rfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c4(r.key),r)}}function Mfe(e,t,n){return t&&$fe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dfe(e,t,n){return t=Uh(t),Ffe(e,l4()?Reflect.construct(t,n||[],Uh(e).constructor):t.apply(e,n))}function Ffe(e,t){if(t&&(Fc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lfe(e)}function Lfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l4=function(){return!!e})()}function Uh(e){return Uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Uh(e)}function qfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tj(e,t)}function tj(e,t){return tj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},tj(e,t)}function r2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function i2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r2(Object(n),!0).forEach(function(r){iN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iN(e,t,n){return t=c4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c4(e){var t=zfe(e,"string");return Fc(t)=="symbol"?t:t+""}function zfe(e,t){if(Fc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bfe(e,t){return Wfe(e)||Hfe(e,t)||Vfe(e,t)||Ufe()}function Ufe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vfe(e,t){if(e){if(typeof e=="string")return a2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a2(e,t)}}function a2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hfe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Wfe(e){if(Array.isArray(e))return e}function nj(){return nj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nj.apply(this,arguments)}var Gfe=function(t,n){var r;return F.isValidElement(t)?r=F.cloneElement(t,n):et(t)?r=t(n):r=F.createElement("line",nj({},n,{className:"recharts-reference-line-line"})),r},Kfe=function(t,n,r,a,s,o,l,c,u){var d=s.x,f=s.y,p=s.width,h=s.height;if(r){var x=u.y,m=t.y.apply(x,{position:o});if(Wi(u,"discard")&&!t.y.isInRange(m))return null;var g=[{x:d+p,y:m},{x:d,y:m}];return c==="left"?g.reverse():g}if(n){var b=u.x,v=t.x.apply(b,{position:o});if(Wi(u,"discard")&&!t.x.isInRange(v))return null;var y=[{x:v,y:f+h},{x:v,y:f}];return l==="top"?y.reverse():y}if(a){var w=u.segment,j=w.map(function(S){return t.apply(S,{position:o})});return Wi(u,"discard")&&gde(j,function(S){return!t.isInRange(S)})?null:j}return null};function Yfe(e){var t=e.x,n=e.y,r=e.segment,a=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=_fe(),d=s4(a),f=o4(s),p=Tfe();if(!u||!p)return null;gi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=J1({x:d.scale,y:f.scale}),x=Sn(t),m=Sn(n),g=r&&r.length===2,b=Kfe(h,x,m,g,p,e.position,d.orientation,f.orientation,e);if(!b)return null;var v=Bfe(b,2),y=v[0],w=y.x,j=y.y,S=v[1],C=S.x,E=S.y,k=Wi(e,"hidden")?"url(#".concat(u,")"):void 0,$=i2(i2({clipPath:k},Xe(e,!0)),{},{x1:w,y1:j,x2:C,y2:E});return F.createElement(Pt,{className:ht("recharts-reference-line",l)},Gfe(o,$),_n.renderCallByParent(e,sfe({x1:w,y1:j,x2:C,y2:E})))}var aN=function(e){function t(){return Rfe(this,t),Dfe(this,t,arguments)}return qfe(t,e),Mfe(t,[{key:"render",value:function(){return F.createElement(Yfe,this.props)}}])}(F.Component);iN(aN,"displayName","ReferenceLine");iN(aN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function rj(){return rj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rj.apply(this,arguments)}function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function s2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function o2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s2(Object(n),!0).forEach(function(r){Fg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xfe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d4(r.key),r)}}function Zfe(e,t,n){return t&&Xfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jfe(e,t,n){return t=Vh(t),epe(e,u4()?Reflect.construct(t,n||[],Vh(e).constructor):t.apply(e,n))}function epe(e,t){if(t&&(Lc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tpe(e)}function tpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u4=function(){return!!e})()}function Vh(e){return Vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vh(e)}function npe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ij(e,t)}function ij(e,t){return ij=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},ij(e,t)}function Fg(e,t,n){return t=d4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d4(e){var t=rpe(e,"string");return Lc(t)=="symbol"?t:t+""}function rpe(e,t){if(Lc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ipe=function(t){var n=t.x,r=t.y,a=t.xAxis,s=t.yAxis,o=J1({x:a.scale,y:s.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return Wi(t,"discard")&&!o.isInRange(l)?null:l},Lg=function(e){function t(){return Qfe(this,t),Jfe(this,t,arguments)}return npe(t,e),Zfe(t,[{key:"render",value:function(){var r=this.props,a=r.x,s=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,u=Sn(a),d=Sn(s);if(gi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=ipe(this.props);if(!f)return null;var p=f.x,h=f.y,x=this.props,m=x.shape,g=x.className,b=Wi(this.props,"hidden")?"url(#".concat(c,")"):void 0,v=o2(o2({clipPath:b},Xe(this.props,!0)),{},{cx:p,cy:h});return F.createElement(Pt,{className:ht("recharts-reference-dot",g)},t.renderDot(m,v),_n.renderCallByParent(this.props,{x:p-o,y:h-o,width:2*o,height:2*o}))}}])}(F.Component);Fg(Lg,"displayName","ReferenceDot");Fg(Lg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Fg(Lg,"renderDot",function(e,t){var n;return F.isValidElement(e)?n=F.cloneElement(e,t):et(e)?n=e(t):n=F.createElement(Z1,rj({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function aj(){return aj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aj.apply(this,arguments)}function qc(e){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(e)}function l2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function c2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l2(Object(n),!0).forEach(function(r){qg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ape(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function spe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p4(r.key),r)}}function ope(e,t,n){return t&&spe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lpe(e,t,n){return t=Hh(t),cpe(e,f4()?Reflect.construct(t,n||[],Hh(e).constructor):t.apply(e,n))}function cpe(e,t){if(t&&(qc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return upe(e)}function upe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f4=function(){return!!e})()}function Hh(e){return Hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hh(e)}function dpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sj(e,t)}function sj(e,t){return sj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},sj(e,t)}function qg(e,t,n){return t=p4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p4(e){var t=fpe(e,"string");return qc(t)=="symbol"?t:t+""}function fpe(e,t){if(qc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ppe=function(t,n,r,a,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var p=J1({x:d.scale,y:f.scale}),h={x:t?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(c,{position:"start"}):p.y.rangeMin},x={x:n?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:a?p.y.apply(u,{position:"end"}):p.y.rangeMax};return Wi(s,"discard")&&(!p.isInRange(h)||!p.isInRange(x))?null:JM(h,x)},zg=function(e){function t(){return ape(this,t),lpe(this,t,arguments)}return dpe(t,e),ope(t,[{key:"render",value:function(){var r=this.props,a=r.x1,s=r.x2,o=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;gi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Sn(a),p=Sn(s),h=Sn(o),x=Sn(l),m=this.props.shape;if(!f&&!p&&!h&&!x&&!m)return null;var g=ppe(f,p,h,x,this.props);if(!g&&!m)return null;var b=Wi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return F.createElement(Pt,{className:ht("recharts-reference-area",c)},t.renderRect(m,c2(c2({clipPath:b},Xe(this.props,!0)),g)),_n.renderCallByParent(this.props,g))}}])}(F.Component);qg(zg,"displayName","ReferenceArea");qg(zg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});qg(zg,"renderRect",function(e,t){var n;return F.isValidElement(e)?n=F.cloneElement(e,t):et(e)?n=e(t):n=F.createElement(X1,aj({},t,{className:"recharts-reference-area-rect"})),n});function m4(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function mpe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return lfe(r,n)}function hpe(e,t,n){var r=n==="width",a=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:r?a:s,end:r?a+o:s+l}:{start:r?a+o:s+l,end:r?a:s}}function Wh(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-a)<=0}function vpe(e,t){return m4(e,t+1)}function gpe(e,t,n,r,a){for(var s=(r||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var x=r==null?void 0:r[c];if(x===void 0)return{v:m4(r,u)};var m=c,g,b=function(){return g===void 0&&(g=n(x,m)),g},v=x.coordinate,y=c===0||Wh(e,v,b,d,l);y||(c=0,d=o,u+=1),y&&(d=v+e*(b()/2+a),c+=u)},p;u<=s.length;)if(p=f(),p)return p.v;return[]}function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function u2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function zn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u2(Object(n),!0).forEach(function(r){xpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xpe(e,t,n){return t=ype(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ype(e){var t=bpe(e,"string");return bf(t)=="symbol"?t:t+""}function bpe(e,t){if(bf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jpe(e,t,n,r,a){for(var s=(r||[]).slice(),o=s.length,l=t.start,c=t.end,u=function(p){var h=s[p],x,m=function(){return x===void 0&&(x=n(h,p)),x};if(p===o-1){var g=e*(h.coordinate+e*m()/2-c);s[p]=h=zn(zn({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate})}else s[p]=h=zn(zn({},h),{},{tickCoord:h.coordinate});var b=Wh(e,h.tickCoord,m,l,c);b&&(c=h.tickCoord-e*(m()/2+a),s[p]=zn(zn({},h),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function wpe(e,t,n,r,a,s){var o=(r||[]).slice(),l=o.length,c=t.start,u=t.end;if(s){var d=r[l-1],f=n(d,l-1),p=e*(d.coordinate+e*f/2-u);o[l-1]=d=zn(zn({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate});var h=Wh(e,d.tickCoord,function(){return f},c,u);h&&(u=d.tickCoord-e*(f/2+a),o[l-1]=zn(zn({},d),{},{isShow:!0}))}for(var x=s?l-1:l,m=function(v){var y=o[v],w,j=function(){return w===void 0&&(w=n(y,v)),w};if(v===0){var S=e*(y.coordinate-e*j()/2-c);o[v]=y=zn(zn({},y),{},{tickCoord:S<0?y.coordinate-S*e:y.coordinate})}else o[v]=y=zn(zn({},y),{},{tickCoord:y.coordinate});var C=Wh(e,y.tickCoord,j,c,u);C&&(c=y.tickCoord+e*(j()/2+a),o[v]=zn(zn({},y),{},{isShow:!0}))},g=0;g<x;g++)m(g);return o}function sN(e,t,n){var r=e.tick,a=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!r)return[];if(he(c)||wa.isSsr)return vpe(a,typeof c=="number"&&he(c)?c:0);var p=[],h=l==="top"||l==="bottom"?"width":"height",x=d&&h==="width"?cd(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(y,w){var j=et(u)?u(y.value,w):y.value;return h==="width"?mpe(cd(j,{fontSize:t,letterSpacing:n}),x,f):cd(j,{fontSize:t,letterSpacing:n})[h]},g=a.length>=2?tr(a[1].coordinate-a[0].coordinate):1,b=hpe(s,g,h);return c==="equidistantPreserveStart"?gpe(g,b,m,a,o):(c==="preserveStart"||c==="preserveStartEnd"?p=wpe(g,b,m,a,o,c==="preserveStartEnd"):p=jpe(g,b,m,a,o),p.filter(function(v){return v.isShow}))}var Npe=["viewBox"],Spe=["viewBox"],Cpe=["ticks"];function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function Cl(){return Cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cl.apply(this,arguments)}function d2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Kn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d2(Object(n),!0).forEach(function(r){oN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ly(e,t){if(e==null)return{};var n=Epe(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Epe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Ape(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v4(r.key),r)}}function kpe(e,t,n){return t&&f2(e.prototype,t),n&&f2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _pe(e,t,n){return t=Gh(t),Ope(e,h4()?Reflect.construct(t,n||[],Gh(e).constructor):t.apply(e,n))}function Ope(e,t){if(t&&(zc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ppe(e)}function Ppe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h4=function(){return!!e})()}function Gh(e){return Gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gh(e)}function Tpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oj(e,t)}function oj(e,t){return oj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},oj(e,t)}function oN(e,t,n){return t=v4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v4(e){var t=Ipe(e,"string");return zc(t)=="symbol"?t:t+""}function Ipe(e,t){if(zc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xu=function(e){function t(n){var r;return Ape(this,t),r=_pe(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return Tpe(t,e),kpe(t,[{key:"shouldComponentUpdate",value:function(r,a){var s=r.viewBox,o=ly(r,Npe),l=this.props,c=l.viewBox,u=ly(l,Spe);return!Ll(s,c)||!Ll(o,u)||!Ll(a,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var a=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var a=this.props,s=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,p=a.tickMargin,h,x,m,g,b,v,y=f?-1:1,w=r.tickSize||d,j=he(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":h=x=r.coordinate,g=o+ +!f*c,m=g-y*w,v=m-y*p,b=j;break;case"left":m=g=r.coordinate,x=s+ +!f*l,h=x-y*w,b=h-y*p,v=j;break;case"right":m=g=r.coordinate,x=s+ +f*l,h=x+y*w,b=h+y*p,v=j;break;default:h=x=r.coordinate,g=o+ +f*c,m=g+y*w,v=m+y*p,b=j;break}return{line:{x1:h,y1:m,x2:x,y2:g},tick:{x:b,y:v}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,a=r.orientation,s=r.mirror,o;switch(a){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,a=r.orientation,s=r.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.x,s=r.y,o=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,f=Kn(Kn(Kn({},Xe(this.props,!1)),Xe(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!u||c==="bottom"&&u);f=Kn(Kn({},f),{},{x1:a,y1:s+p*l,x2:a+o,y2:s+p*l})}else{var h=+(c==="left"&&!u||c==="right"&&u);f=Kn(Kn({},f),{},{x1:a+h*o,y1:s,x2:a+h*o,y2:s+l})}return F.createElement("line",Cl({},f,{className:ht("recharts-cartesian-axis-line",Or(d,"className"))}))}},{key:"renderTicks",value:function(r,a,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,p=l.unit,h=sN(Kn(Kn({},this.props),{},{ticks:r}),a,s),x=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),g=Xe(this.props,!1),b=Xe(d,!1),v=Kn(Kn({},g),{},{fill:"none"},Xe(c,!1)),y=h.map(function(w,j){var S=o.getTickLineCoord(w),C=S.line,E=S.tick,k=Kn(Kn(Kn(Kn({textAnchor:x,verticalAnchor:m},g),{},{stroke:"none",fill:u},b),E),{},{index:j,payload:w,visibleTicksCount:h.length,tickFormatter:f});return F.createElement(Pt,Cl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(w.value,"-").concat(w.coordinate,"-").concat(w.tickCoord)},Io(o.props,w,j)),c&&F.createElement("line",Cl({},v,C,{className:ht("recharts-cartesian-axis-tick-line",Or(c,"className"))})),d&&t.renderTickItem(d,k,"".concat(et(f)?f(w.value,j):w.value).concat(p||"")))});return F.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var r=this,a=this.props,s=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,p=f.ticks,h=ly(f,Cpe),x=p;return et(c)&&(x=p&&p.length>0?c(this.props):c(h)),o<=0||l<=0||!x||!x.length?null:F.createElement(Pt,{className:ht("recharts-cartesian-axis",u),ref:function(g){r.layerReference=g}},s&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),_n.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,a,s){var o;return F.isValidElement(r)?o=F.cloneElement(r,a):et(r)?o=r(a):o=F.createElement(Ro,Cl({},a,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(N.Component);oN(xu,"displayName","CartesianAxis");oN(xu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Rpe=["x1","y1","x2","y2","key"],$pe=["offset"];function Do(e){"@babel/helpers - typeof";return Do=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Do(e)}function p2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p2(Object(n),!0).forEach(function(r){Mpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mpe(e,t,n){return t=Dpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dpe(e){var t=Fpe(e,"string");return Do(t)=="symbol"?t:t+""}function Fpe(e,t){if(Do(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Do(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lo(){return lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lo.apply(this,arguments)}function m2(e,t){if(e==null)return{};var n=Lpe(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Lpe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var qpe=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,a=t.x,s=t.y,o=t.width,l=t.height,c=t.ry;return F.createElement("rect",{x:a,y:s,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function g4(e,t){var n;if(F.isValidElement(e))n=F.cloneElement(e,t);else if(et(e))n=e(t);else{var r=t.x1,a=t.y1,s=t.x2,o=t.y2,l=t.key,c=m2(t,Rpe),u=Xe(c,!1);u.offset;var d=m2(u,$pe);n=F.createElement("line",lo({},d,{x1:r,y1:a,x2:s,y2:o,fill:"none",key:l}))}return n}function zpe(e){var t=e.x,n=e.width,r=e.horizontal,a=r===void 0?!0:r,s=e.horizontalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=Vn(Vn({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return g4(a,u)});return F.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Bpe(e){var t=e.y,n=e.height,r=e.vertical,a=r===void 0?!0:r,s=e.verticalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=Vn(Vn({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return g4(a,u)});return F.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Upe(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,a=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(p){return Math.round(p+a-a)}).sort(function(p,h){return p-h});a!==d[0]&&d.unshift(0);var f=d.map(function(p,h){var x=!d[h+1],m=x?a+o-p:d[h+1]-p;if(m<=0)return null;var g=h%t.length;return F.createElement("rect",{key:"react-".concat(h),y:p,x:r,height:m,width:s,stroke:"none",fill:t[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Vpe(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,a=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(p){return Math.round(p+s-s)}).sort(function(p,h){return p-h});s!==d[0]&&d.unshift(0);var f=d.map(function(p,h){var x=!d[h+1],m=x?s+l-p:d[h+1]-p;if(m<=0)return null;var g=h%r.length;return F.createElement("rect",{key:"react-".concat(h),x:p,y:o,width:m,height:c,stroke:"none",fill:r[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Hpe=function(t,n){var r=t.xAxis,a=t.width,s=t.height,o=t.offset;return mM(sN(Vn(Vn(Vn({},xu.defaultProps),r),{},{ticks:ya(r,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.left,o.left+o.width,n)},Wpe=function(t,n){var r=t.yAxis,a=t.width,s=t.height,o=t.offset;return mM(sN(Vn(Vn(Vn({},xu.defaultProps),r),{},{ticks:ya(r,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.top,o.top+o.height,n)},il={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function x4(e){var t,n,r,a,s,o,l=nN(),c=rN(),u=Ife(),d=Vn(Vn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:il.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:il.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:il.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:il.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:il.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:il.verticalFill,x:he(e.x)?e.x:u.left,y:he(e.y)?e.y:u.top,width:he(e.width)?e.width:u.width,height:he(e.height)?e.height:u.height}),f=d.x,p=d.y,h=d.width,x=d.height,m=d.syncWithTicks,g=d.horizontalValues,b=d.verticalValues,v=Ofe(),y=Pfe();if(!he(h)||h<=0||!he(x)||x<=0||!he(f)||f!==+f||!he(p)||p!==+p)return null;var w=d.verticalCoordinatesGenerator||Hpe,j=d.horizontalCoordinatesGenerator||Wpe,S=d.horizontalPoints,C=d.verticalPoints;if((!S||!S.length)&&et(j)){var E=g&&g.length,k=j({yAxis:y?Vn(Vn({},y),{},{ticks:E?g:y.ticks}):void 0,width:l,height:c,offset:u},E?!0:m);gi(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Do(k),"]")),Array.isArray(k)&&(S=k)}if((!C||!C.length)&&et(w)){var $=b&&b.length,O=w({xAxis:v?Vn(Vn({},v),{},{ticks:$?b:v.ticks}):void 0,width:l,height:c,offset:u},$?!0:m);gi(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Do(O),"]")),Array.isArray(O)&&(C=O)}return F.createElement("g",{className:"recharts-cartesian-grid"},F.createElement(qpe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),F.createElement(zpe,lo({},d,{offset:u,horizontalPoints:S,xAxis:v,yAxis:y})),F.createElement(Bpe,lo({},d,{offset:u,verticalPoints:C,xAxis:v,yAxis:y})),F.createElement(Upe,lo({},d,{horizontalPoints:S})),F.createElement(Vpe,lo({},d,{verticalPoints:C})))}x4.displayName="CartesianGrid";function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function Gpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kpe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,j4(r.key),r)}}function Ype(e,t,n){return t&&Kpe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qpe(e,t,n){return t=Kh(t),Xpe(e,y4()?Reflect.construct(t,n||[],Kh(e).constructor):t.apply(e,n))}function Xpe(e,t){if(t&&(Bc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zpe(e)}function Zpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y4=function(){return!!e})()}function Kh(e){return Kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kh(e)}function Jpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lj(e,t)}function lj(e,t){return lj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},lj(e,t)}function b4(e,t,n){return t=j4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j4(e){var t=eme(e,"string");return Bc(t)=="symbol"?t:t+""}function eme(e,t){if(Bc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cj(){return cj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cj.apply(this,arguments)}function tme(e){var t=e.xAxisId,n=nN(),r=rN(),a=s4(t);return a==null?null:F.createElement(xu,cj({},a,{className:ht("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return ya(o,!0)}}))}var Bg=function(e){function t(){return Gpe(this,t),Qpe(this,t,arguments)}return Jpe(t,e),Ype(t,[{key:"render",value:function(){return F.createElement(tme,this.props)}}])}(F.Component);b4(Bg,"displayName","XAxis");b4(Bg,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Uc(e){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}function nme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rme(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S4(r.key),r)}}function ime(e,t,n){return t&&rme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ame(e,t,n){return t=Yh(t),sme(e,w4()?Reflect.construct(t,n||[],Yh(e).constructor):t.apply(e,n))}function sme(e,t){if(t&&(Uc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ome(e)}function ome(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w4=function(){return!!e})()}function Yh(e){return Yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yh(e)}function lme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uj(e,t)}function uj(e,t){return uj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},uj(e,t)}function N4(e,t,n){return t=S4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S4(e){var t=cme(e,"string");return Uc(t)=="symbol"?t:t+""}function cme(e,t){if(Uc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dj(){return dj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dj.apply(this,arguments)}var ume=function(t){var n=t.yAxisId,r=nN(),a=rN(),s=o4(n);return s==null?null:F.createElement(xu,dj({},s,{className:ht("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(l){return ya(l,!0)}}))},Ug=function(e){function t(){return nme(this,t),ame(this,t,arguments)}return lme(t,e),ime(t,[{key:"render",value:function(){return F.createElement(ume,this.props)}}])}(F.Component);N4(Ug,"displayName","YAxis");N4(Ug,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function h2(e){return mme(e)||pme(e)||fme(e)||dme()}function dme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fme(e,t){if(e){if(typeof e=="string")return fj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fj(e,t)}}function pme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mme(e){if(Array.isArray(e))return fj(e)}function fj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pj=function(t,n,r,a,s){var o=Gr(t,aN),l=Gr(t,Lg),c=[].concat(h2(o),h2(l)),u=Gr(t,zg),d="".concat(a,"Id"),f=a[0],p=n;if(c.length&&(p=c.reduce(function(m,g){if(g.props[d]===r&&Wi(g.props,"extendDomain")&&he(g.props[f])){var b=g.props[f];return[Math.min(m[0],b),Math.max(m[1],b)]}return m},p)),u.length){var h="".concat(f,"1"),x="".concat(f,"2");p=u.reduce(function(m,g){if(g.props[d]===r&&Wi(g.props,"extendDomain")&&he(g.props[h])&&he(g.props[x])){var b=g.props[h],v=g.props[x];return[Math.min(m[0],b,v),Math.max(m[1],b,v)]}return m},p)}return s&&s.length&&(p=s.reduce(function(m,g){return he(g)?[Math.min(m[0],g),Math.max(m[1],g)]:m},p)),p},C4={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new a(d,f||c,p),x=n?n+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],h]:c._events[x].push(h):(c._events[x]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,h=f.length,x=new Array(h);p<h;p++)x[p]=f[p].fn;return x},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,p,h,x){var m=n?n+u:u;if(!this._events[m])return!1;var g=this._events[m],b=arguments.length,v,y;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),b){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,f),!0;case 4:return g.fn.call(g.context,d,f,p),!0;case 5:return g.fn.call(g.context,d,f,p,h),!0;case 6:return g.fn.call(g.context,d,f,p,h,x),!0}for(y=1,v=new Array(b-1);y<b;y++)v[y-1]=arguments[y];g.fn.apply(g.context,v)}else{var w=g.length,j;for(y=0;y<w;y++)switch(g[y].once&&this.removeListener(u,g[y].fn,void 0,!0),b){case 1:g[y].fn.call(g[y].context);break;case 2:g[y].fn.call(g[y].context,d);break;case 3:g[y].fn.call(g[y].context,d,f);break;case 4:g[y].fn.call(g[y].context,d,f,p);break;default:if(!v)for(j=1,v=new Array(b-1);j<b;j++)v[j-1]=arguments[j];g[y].fn.apply(g[y].context,v)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,p){var h=n?n+u:u;if(!this._events[h])return this;if(!d)return o(this,h),this;var x=this._events[h];if(x.fn)x.fn===d&&(!p||x.once)&&(!f||x.context===f)&&o(this,h);else{for(var m=0,g=[],b=x.length;m<b;m++)(x[m].fn!==d||p&&!x[m].once||f&&x[m].context!==f)&&g.push(x[m]);g.length?this._events[h]=g.length===1?g[0]:g:o(this,h)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(C4);var hme=C4.exports;const vme=Ot(hme);var cy=new vme,uy="recharts.syncMouseEvents";function jf(e){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(e)}function gme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xme(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,E4(r.key),r)}}function yme(e,t,n){return t&&xme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dy(e,t,n){return t=E4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E4(e){var t=bme(e,"string");return jf(t)=="symbol"?t:t+""}function bme(e,t){if(jf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jme=function(){function e(){gme(this,e),dy(this,"activeIndex",0),dy(this,"coordinateList",[]),dy(this,"layout","horizontal")}return yme(e,[{key:"setDetails",value:function(n){var r,a=n.coordinateList,s=a===void 0?null:a,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,p=n.mouseHandlerCallback,h=p===void 0?null:p;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=s+c+u,p=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:p})}}}])}();function wme(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],a=e==null?void 0:e[1];if(r&&a&&he(r)&&he(a))return!0}return!1}function Nme(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function A4(e){var t=e.cx,n=e.cy,r=e.radius,a=e.startAngle,s=e.endAngle,o=zt(t,n,r,a),l=zt(t,n,r,s);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:a,endAngle:s}}function Sme(e,t,n){var r,a,s,o;if(e==="horizontal")r=t.x,s=r,a=n.top,o=n.top+n.height;else if(e==="vertical")a=t.y,o=a,r=n.left,s=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,p=zt(l,c,u,f),h=zt(l,c,d,f);r=p.x,a=p.y,s=h.x,o=h.y}else return A4(t);return[{x:r,y:a},{x:s,y:o}]}function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}function v2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Hp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v2(Object(n),!0).forEach(function(r){Cme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cme(e,t,n){return t=Eme(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eme(e){var t=Ame(e,"string");return wf(t)=="symbol"?t:t+""}function Ame(e,t){if(wf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kme(e){var t,n,r=e.element,a=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,h=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!h||!s||!o||p!=="ScatterChart"&&a!=="axis")return null;var x,m=Mb;if(p==="ScatterChart")x=o,m=ace;else if(p==="BarChart")x=Nme(f,o,c,d),m=X1;else if(f==="radial"){var g=A4(o),b=g.cx,v=g.cy,y=g.radius,w=g.startAngle,j=g.endAngle;x={cx:b,cy:v,startAngle:w,endAngle:j,innerRadius:y,outerRadius:y},m=CM}else x={points:Sme(f,o,c)},m=Mb;var S=Hp(Hp(Hp(Hp({stroke:"#ccc",pointerEvents:"none"},c),x),Xe(h,!1)),{},{payload:l,payloadIndex:u,className:ht("recharts-tooltip-cursor",h.className)});return N.isValidElement(h)?N.cloneElement(h,S):N.createElement(m,S)}var _me=["item"],Ome=["children","className","width","height","style","compact","title","desc"];function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function El(){return El=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},El.apply(this,arguments)}function g2(e,t){return Ime(e)||Tme(e,t)||_4(e,t)||Pme()}function Pme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tme(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Ime(e){if(Array.isArray(e))return e}function x2(e,t){if(e==null)return{};var n=Rme(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Rme(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function $me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mme(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O4(r.key),r)}}function Dme(e,t,n){return t&&Mme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fme(e,t,n){return t=Qh(t),Lme(e,k4()?Reflect.construct(t,n||[],Qh(e).constructor):t.apply(e,n))}function Lme(e,t){if(t&&(Vc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qme(e)}function qme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k4=function(){return!!e})()}function Qh(e){return Qh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qh(e)}function zme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mj(e,t)}function mj(e,t){return mj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},mj(e,t)}function Hc(e){return Vme(e)||Ume(e)||_4(e)||Bme()}function Bme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _4(e,t){if(e){if(typeof e=="string")return hj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hj(e,t)}}function Ume(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vme(e){if(Array.isArray(e))return hj(e)}function hj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y2(Object(n),!0).forEach(function(r){We(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function We(e,t,n){return t=O4(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O4(e){var t=Hme(e,"string");return Vc(t)=="symbol"?t:t+""}function Hme(e,t){if(Vc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wme={xAxis:["bottom","top"],yAxis:["left","right"]},Gme={width:"100%",height:"100%"},P4={x:0,y:0};function Wp(e){return e}var Kme=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},Yme=function(t,n,r,a){var s=n.find(function(d){return d&&d.index===r});if(s){if(t==="horizontal")return{x:s.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=a.radius;return ie(ie(ie({},a),zt(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=a.angle;return ie(ie(ie({},a),zt(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return P4},Vg=function(t,n){var r=n.graphicalItems,a=n.dataStartIndex,s=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Hc(l),Hc(u)):l},[]);return o.length>0?o:t&&t.length&&he(a)&&he(s)?t.slice(a,s+1):[]};function T4(e){return e==="number"?[0,"auto"]:void 0}var vj=function(t,n,r,a){var s=t.graphicalItems,o=t.tooltipAxis,l=Vg(n,t);return r<0||!s||!s.length||r>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var h=f===void 0?l:f;p=V0(h,o.dataKey,a)}else p=f&&f[r]||l[r];return p?[].concat(Hc(c),[yM(u,p)]):c},[])},b2=function(t,n,r,a){var s=a||{x:t.chartX,y:t.chartY},o=Kme(s,r),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=_ae(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,p=vj(t,n,d,f),h=Yme(r,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:p,activeCoordinate:h}}return null},Qme=function(t,n){var r=n.axes,a=n.graphicalItems,s=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,p=t.stackOffset,h=pM(d,s);return r.reduce(function(x,m){var g,b=m.type.defaultProps!==void 0?ie(ie({},m.type.defaultProps),m.props):m.props,v=b.type,y=b.dataKey,w=b.allowDataOverflow,j=b.allowDuplicatedCategory,S=b.scale,C=b.ticks,E=b.includeHidden,k=b[o];if(x[k])return x;var $=Vg(t.data,{graphicalItems:a.filter(function(te){var fe,Ae=o in te.props?te.props[o]:(fe=te.type.defaultProps)===null||fe===void 0?void 0:fe[o];return Ae===k}),dataStartIndex:c,dataEndIndex:u}),O=$.length,T,P,I;wme(b.domain,w,v)&&(T=Pb(b.domain,null,w),h&&(v==="number"||S!=="auto")&&(I=dd($,y,"category")));var D=T4(v);if(!T||T.length===0){var R,V=(R=b.domain)!==null&&R!==void 0?R:D;if(y){if(T=dd($,y,v),v==="category"&&h){var q=b9(T);j&&q?(P=T,T=Fh(0,O)):j||(T=HA(V,T,m).reduce(function(te,fe){return te.indexOf(fe)>=0?te:[].concat(Hc(te),[fe])},[]))}else if(v==="category")j?T=T.filter(function(te){return te!==""&&!bt(te)}):T=HA(V,T,m).reduce(function(te,fe){return te.indexOf(fe)>=0||fe===""||bt(fe)?te:[].concat(Hc(te),[fe])},[]);else if(v==="number"){var B=Rae($,a.filter(function(te){var fe,Ae,He=o in te.props?te.props[o]:(fe=te.type.defaultProps)===null||fe===void 0?void 0:fe[o],ze="hide"in te.props?te.props.hide:(Ae=te.type.defaultProps)===null||Ae===void 0?void 0:Ae.hide;return He===k&&(E||!ze)}),y,s,d);B&&(T=B)}h&&(v==="number"||S!=="auto")&&(I=dd($,y,"category"))}else h?T=Fh(0,O):l&&l[k]&&l[k].hasStack&&v==="number"?T=p==="expand"?[0,1]:xM(l[k].stackGroups,c,u):T=fM($,a.filter(function(te){var fe=o in te.props?te.props[o]:te.type.defaultProps[o],Ae="hide"in te.props?te.props.hide:te.type.defaultProps.hide;return fe===k&&(E||!Ae)}),v,d,!0);if(v==="number")T=pj(f,T,k,s,C),V&&(T=Pb(V,T,w));else if(v==="category"&&V){var W=V,Z=T.every(function(te){return W.indexOf(te)>=0});Z&&(T=W)}}return ie(ie({},x),{},We({},k,ie(ie({},b),{},{axisType:s,domain:T,categoricalDomain:I,duplicateDomain:P,originalDomain:(g=b.domain)!==null&&g!==void 0?g:D,isCategorical:h,layout:d})))},{})},Xme=function(t,n){var r=n.graphicalItems,a=n.Axis,s=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,p=Vg(t.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),h=p.length,x=pM(d,s),m=-1;return r.reduce(function(g,b){var v=b.type.defaultProps!==void 0?ie(ie({},b.type.defaultProps),b.props):b.props,y=v[o],w=T4("number");if(!g[y]){m++;var j;return x?j=Fh(0,h):l&&l[y]&&l[y].hasStack?(j=xM(l[y].stackGroups,c,u),j=pj(f,j,y,s)):(j=Pb(w,fM(p,r.filter(function(S){var C,E,k=o in S.props?S.props[o]:(C=S.type.defaultProps)===null||C===void 0?void 0:C[o],$="hide"in S.props?S.props.hide:(E=S.type.defaultProps)===null||E===void 0?void 0:E.hide;return k===y&&!$}),"number",d),a.defaultProps.allowDataOverflow),j=pj(f,j,y,s)),ie(ie({},g),{},We({},y,ie(ie({axisType:s},a.defaultProps),{},{hide:!0,orientation:Or(Wme,"".concat(s,".").concat(m%2),null),domain:j,originalDomain:w,isCategorical:x,layout:d})))}return g},{})},Zme=function(t,n){var r=n.axisType,a=r===void 0?"xAxis":r,s=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.children,f="".concat(a,"Id"),p=Gr(d,s),h={};return p&&p.length?h=Qme(t,{axes:p,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(h=Xme(t,{Axis:s,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),h},Jme=function(t){var n=ns(t),r=ya(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:S1(r,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Eh(n,r)}},j2=function(t){var n=t.children,r=t.defaultShowTooltip,a=jr(n,Mc),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},ehe=function(t){return!t||!t.length?!1:t.some(function(n){var r=ja(n&&n.type);return r&&r.indexOf("Bar")>=0})},w2=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},the=function(t,n){var r=t.props,a=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,f=r.children,p=r.margin||{},h=jr(f,Mc),x=jr(f,ql),m=Object.keys(c).reduce(function(j,S){var C=c[S],E=C.orientation;return!C.mirror&&!C.hide?ie(ie({},j),{},We({},E,j[E]+C.width)):j},{left:p.left||0,right:p.right||0}),g=Object.keys(o).reduce(function(j,S){var C=o[S],E=C.orientation;return!C.mirror&&!C.hide?ie(ie({},j),{},We({},E,Or(j,"".concat(E))+C.height)):j},{top:p.top||0,bottom:p.bottom||0}),b=ie(ie({},g),m),v=b.bottom;h&&(b.bottom+=h.props.height||Mc.defaultProps.height),x&&n&&(b=Tae(b,a,r,n));var y=u-b.left-b.right,w=d-b.top-b.bottom;return ie(ie({brushBottom:v},b),{},{width:Math.max(y,0),height:Math.max(w,0)})},nhe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},I4=function(t){var n=t.chartName,r=t.GraphicalChild,a=t.defaultTooltipEventType,s=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,p=function(b,v){var y=v.graphicalItems,w=v.stackGroups,j=v.offset,S=v.updateId,C=v.dataStartIndex,E=v.dataEndIndex,k=b.barSize,$=b.layout,O=b.barGap,T=b.barCategoryGap,P=b.maxBarSize,I=w2($),D=I.numericAxisName,R=I.cateAxisName,V=ehe(y),q=[];return y.forEach(function(B,W){var Z=Vg(b.data,{graphicalItems:[B],dataStartIndex:C,dataEndIndex:E}),te=B.type.defaultProps!==void 0?ie(ie({},B.type.defaultProps),B.props):B.props,fe=te.dataKey,Ae=te.maxBarSize,He=te["".concat(D,"Id")],ze=te["".concat(R,"Id")],xe={},Re=c.reduce(function(z,A){var L=v["".concat(A.axisType,"Map")],M=te["".concat(A.axisType,"Id")];L&&L[M]||A.axisType==="zAxis"||Mo();var G=L[M];return ie(ie({},z),{},We(We({},A.axisType,G),"".concat(A.axisType,"Ticks"),ya(G)))},xe),le=Re[R],ce=Re["".concat(R,"Ticks")],me=w&&w[He]&&w[He].hasStack&&Uae(B,w[He].stackGroups),Y=ja(B.type).indexOf("Bar")>=0,Ie=Eh(le,ce),Ne=[],Q=V&&Oae({barSize:k,stackGroups:w,totalSize:nhe(Re,R)});if(Y){var de,ye,Fe=bt(Ae)?P:Ae,Be=(de=(ye=Eh(le,ce,!0))!==null&&ye!==void 0?ye:Fe)!==null&&de!==void 0?de:0;Ne=Pae({barGap:O,barCategoryGap:T,bandSize:Be!==Ie?Be:Ie,sizeList:Q[ze],maxBarSize:Fe}),Be!==Ie&&(Ne=Ne.map(function(z){return ie(ie({},z),{},{position:ie(ie({},z.position),{},{offset:z.position.offset-Be/2})})}))}var wt=B&&B.type&&B.type.getComposedData;wt&&q.push({props:ie(ie({},wt(ie(ie({},Re),{},{displayedData:Z,props:b,dataKey:fe,item:B,bandSize:Ie,barPosition:Ne,offset:j,stackedData:me,layout:$,dataStartIndex:C,dataEndIndex:E}))),{},We(We(We({key:B.key||"item-".concat(W)},D,Re[D]),R,Re[R]),"animationId",S)),childIndex:P9(B,b.children),item:B})}),q},h=function(b,v){var y=b.props,w=b.dataStartIndex,j=b.dataEndIndex,S=b.updateId;if(!FC({props:y}))return null;var C=y.children,E=y.layout,k=y.stackOffset,$=y.data,O=y.reverseStackOrder,T=w2(E),P=T.numericAxisName,I=T.cateAxisName,D=Gr(C,r),R=zae($,D,"".concat(P,"Id"),"".concat(I,"Id"),k,O),V=c.reduce(function(te,fe){var Ae="".concat(fe.axisType,"Map");return ie(ie({},te),{},We({},Ae,Zme(y,ie(ie({},fe),{},{graphicalItems:D,stackGroups:fe.axisType===P&&R,dataStartIndex:w,dataEndIndex:j}))))},{}),q=the(ie(ie({},V),{},{props:y,graphicalItems:D}),v==null?void 0:v.legendBBox);Object.keys(V).forEach(function(te){V[te]=d(y,V[te],q,te.replace("Map",""),n)});var B=V["".concat(I,"Map")],W=Jme(B),Z=p(y,ie(ie({},V),{},{dataStartIndex:w,dataEndIndex:j,updateId:S,graphicalItems:D,stackGroups:R,offset:q}));return ie(ie({formattedGraphicalItems:Z,graphicalItems:D,offset:q,stackGroups:R},W),V)},x=function(g){function b(v){var y,w,j;return $me(this,b),j=Fme(this,b,[v]),We(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),We(j,"accessibilityManager",new jme),We(j,"handleLegendBBoxUpdate",function(S){if(S){var C=j.state,E=C.dataStartIndex,k=C.dataEndIndex,$=C.updateId;j.setState(ie({legendBBox:S},h({props:j.props,dataStartIndex:E,dataEndIndex:k,updateId:$},ie(ie({},j.state),{},{legendBBox:S}))))}}),We(j,"handleReceiveSyncEvent",function(S,C,E){if(j.props.syncId===S){if(E===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(C)}}),We(j,"handleBrushChange",function(S){var C=S.startIndex,E=S.endIndex;if(C!==j.state.dataStartIndex||E!==j.state.dataEndIndex){var k=j.state.updateId;j.setState(function(){return ie({dataStartIndex:C,dataEndIndex:E},h({props:j.props,dataStartIndex:C,dataEndIndex:E,updateId:k},j.state))}),j.triggerSyncEvent({dataStartIndex:C,dataEndIndex:E})}}),We(j,"handleMouseEnter",function(S){var C=j.getMouseInfo(S);if(C){var E=ie(ie({},C),{},{isTooltipActive:!0});j.setState(E),j.triggerSyncEvent(E);var k=j.props.onMouseEnter;et(k)&&k(E,S)}}),We(j,"triggeredAfterMouseMove",function(S){var C=j.getMouseInfo(S),E=C?ie(ie({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(E),j.triggerSyncEvent(E);var k=j.props.onMouseMove;et(k)&&k(E,S)}),We(j,"handleItemMouseEnter",function(S){j.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),We(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),We(j,"handleMouseMove",function(S){S.persist(),j.throttleTriggeredAfterMouseMove(S)}),We(j,"handleMouseLeave",function(S){j.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};j.setState(C),j.triggerSyncEvent(C);var E=j.props.onMouseLeave;et(E)&&E(C,S)}),We(j,"handleOuterEvent",function(S){var C=O9(S),E=Or(j.props,"".concat(C));if(C&&et(E)){var k,$;/.*touch.*/i.test(C)?$=j.getMouseInfo(S.changedTouches[0]):$=j.getMouseInfo(S),E((k=$)!==null&&k!==void 0?k:{},S)}}),We(j,"handleClick",function(S){var C=j.getMouseInfo(S);if(C){var E=ie(ie({},C),{},{isTooltipActive:!0});j.setState(E),j.triggerSyncEvent(E);var k=j.props.onClick;et(k)&&k(E,S)}}),We(j,"handleMouseDown",function(S){var C=j.props.onMouseDown;if(et(C)){var E=j.getMouseInfo(S);C(E,S)}}),We(j,"handleMouseUp",function(S){var C=j.props.onMouseUp;if(et(C)){var E=j.getMouseInfo(S);C(E,S)}}),We(j,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),We(j,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseDown(S.changedTouches[0])}),We(j,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseUp(S.changedTouches[0])}),We(j,"handleDoubleClick",function(S){var C=j.props.onDoubleClick;if(et(C)){var E=j.getMouseInfo(S);C(E,S)}}),We(j,"handleContextMenu",function(S){var C=j.props.onContextMenu;if(et(C)){var E=j.getMouseInfo(S);C(E,S)}}),We(j,"triggerSyncEvent",function(S){j.props.syncId!==void 0&&cy.emit(uy,j.props.syncId,S,j.eventEmitterSymbol)}),We(j,"applySyncEvent",function(S){var C=j.props,E=C.layout,k=C.syncMethod,$=j.state.updateId,O=S.dataStartIndex,T=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)j.setState(ie({dataStartIndex:O,dataEndIndex:T},h({props:j.props,dataStartIndex:O,dataEndIndex:T,updateId:$},j.state)));else if(S.activeTooltipIndex!==void 0){var P=S.chartX,I=S.chartY,D=S.activeTooltipIndex,R=j.state,V=R.offset,q=R.tooltipTicks;if(!V)return;if(typeof k=="function")D=k(q,S);else if(k==="value"){D=-1;for(var B=0;B<q.length;B++)if(q[B].value===S.activeLabel){D=B;break}}var W=ie(ie({},V),{},{x:V.left,y:V.top}),Z=Math.min(P,W.x+W.width),te=Math.min(I,W.y+W.height),fe=q[D]&&q[D].value,Ae=vj(j.state,j.props.data,D),He=q[D]?{x:E==="horizontal"?q[D].coordinate:Z,y:E==="horizontal"?te:q[D].coordinate}:P4;j.setState(ie(ie({},S),{},{activeLabel:fe,activeCoordinate:He,activePayload:Ae,activeTooltipIndex:D}))}else j.setState(S)}),We(j,"renderCursor",function(S){var C,E=j.state,k=E.isTooltipActive,$=E.activeCoordinate,O=E.activePayload,T=E.offset,P=E.activeTooltipIndex,I=E.tooltipAxisBandSize,D=j.getTooltipEventType(),R=(C=S.props.active)!==null&&C!==void 0?C:k,V=j.props.layout,q=S.key||"_recharts-cursor";return F.createElement(kme,{key:q,activeCoordinate:$,activePayload:O,activeTooltipIndex:P,chartName:n,element:S,isActive:R,layout:V,offset:T,tooltipAxisBandSize:I,tooltipEventType:D})}),We(j,"renderPolarAxis",function(S,C,E){var k=Or(S,"type.axisType"),$=Or(j.state,"".concat(k,"Map")),O=S.type.defaultProps,T=O!==void 0?ie(ie({},O),S.props):S.props,P=$&&$[T["".concat(k,"Id")]];return N.cloneElement(S,ie(ie({},P),{},{className:ht(k,P.className),key:S.key||"".concat(C,"-").concat(E),ticks:ya(P,!0)}))}),We(j,"renderPolarGrid",function(S){var C=S.props,E=C.radialLines,k=C.polarAngles,$=C.polarRadius,O=j.state,T=O.radiusAxisMap,P=O.angleAxisMap,I=ns(T),D=ns(P),R=D.cx,V=D.cy,q=D.innerRadius,B=D.outerRadius;return N.cloneElement(S,{polarAngles:Array.isArray(k)?k:ya(D,!0).map(function(W){return W.coordinate}),polarRadius:Array.isArray($)?$:ya(I,!0).map(function(W){return W.coordinate}),cx:R,cy:V,innerRadius:q,outerRadius:B,key:S.key||"polar-grid",radialLines:E})}),We(j,"renderLegend",function(){var S=j.state.formattedGraphicalItems,C=j.props,E=C.children,k=C.width,$=C.height,O=j.props.margin||{},T=k-(O.left||0)-(O.right||0),P=uM({children:E,formattedGraphicalItems:S,legendWidth:T,legendContent:u});if(!P)return null;var I=P.item,D=x2(P,_me);return N.cloneElement(I,ie(ie({},D),{},{chartWidth:k,chartHeight:$,margin:O,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),We(j,"renderTooltip",function(){var S,C=j.props,E=C.children,k=C.accessibilityLayer,$=jr(E,oi);if(!$)return null;var O=j.state,T=O.isTooltipActive,P=O.activeCoordinate,I=O.activePayload,D=O.activeLabel,R=O.offset,V=(S=$.props.active)!==null&&S!==void 0?S:T;return N.cloneElement($,{viewBox:ie(ie({},R),{},{x:R.left,y:R.top}),active:V,label:D,payload:V?I:[],coordinate:P,accessibilityLayer:k})}),We(j,"renderBrush",function(S){var C=j.props,E=C.margin,k=C.data,$=j.state,O=$.offset,T=$.dataStartIndex,P=$.dataEndIndex,I=$.updateId;return N.cloneElement(S,{key:S.key||"_recharts-brush",onChange:zp(j.handleBrushChange,S.props.onChange),data:k,x:he(S.props.x)?S.props.x:O.left,y:he(S.props.y)?S.props.y:O.top+O.height+O.brushBottom-(E.bottom||0),width:he(S.props.width)?S.props.width:O.width,startIndex:T,endIndex:P,updateId:"brush-".concat(I)})}),We(j,"renderReferenceElement",function(S,C,E){if(!S)return null;var k=j,$=k.clipPathId,O=j.state,T=O.xAxisMap,P=O.yAxisMap,I=O.offset,D=S.type.defaultProps||{},R=S.props,V=R.xAxisId,q=V===void 0?D.xAxisId:V,B=R.yAxisId,W=B===void 0?D.yAxisId:B;return N.cloneElement(S,{key:S.key||"".concat(C,"-").concat(E),xAxis:T[q],yAxis:P[W],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:$})}),We(j,"renderActivePoints",function(S){var C=S.item,E=S.activePoint,k=S.basePoint,$=S.childIndex,O=S.isRange,T=[],P=C.props.key,I=C.item.type.defaultProps!==void 0?ie(ie({},C.item.type.defaultProps),C.item.props):C.item.props,D=I.activeDot,R=I.dataKey,V=ie(ie({index:$,dataKey:R,cx:E.x,cy:E.y,r:4,fill:Q1(C.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},Xe(D,!1)),Jm(D));return T.push(b.renderActiveDot(D,V,"".concat(P,"-activePoint-").concat($))),k?T.push(b.renderActiveDot(D,ie(ie({},V),{},{cx:k.x,cy:k.y}),"".concat(P,"-basePoint-").concat($))):O&&T.push(null),T}),We(j,"renderGraphicChild",function(S,C,E){var k=j.filterFormatItem(S,C,E);if(!k)return null;var $=j.getTooltipEventType(),O=j.state,T=O.isTooltipActive,P=O.tooltipAxis,I=O.activeTooltipIndex,D=O.activeLabel,R=j.props.children,V=jr(R,oi),q=k.props,B=q.points,W=q.isRange,Z=q.baseLine,te=k.item.type.defaultProps!==void 0?ie(ie({},k.item.type.defaultProps),k.item.props):k.item.props,fe=te.activeDot,Ae=te.hide,He=te.activeBar,ze=te.activeShape,xe=!!(!Ae&&T&&V&&(fe||He||ze)),Re={};$!=="axis"&&V&&V.props.trigger==="click"?Re={onClick:zp(j.handleItemMouseEnter,S.props.onClick)}:$!=="axis"&&(Re={onMouseLeave:zp(j.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:zp(j.handleItemMouseEnter,S.props.onMouseEnter)});var le=N.cloneElement(S,ie(ie({},k.props),Re));function ce(A){return typeof P.dataKey=="function"?P.dataKey(A.payload):null}if(xe)if(I>=0){var me,Y;if(P.dataKey&&!P.allowDuplicatedCategory){var Ie=typeof P.dataKey=="function"?ce:"payload.".concat(P.dataKey.toString());me=V0(B,Ie,D),Y=W&&Z&&V0(Z,Ie,D)}else me=B==null?void 0:B[I],Y=W&&Z&&Z[I];if(ze||He){var Ne=S.props.activeIndex!==void 0?S.props.activeIndex:I;return[N.cloneElement(S,ie(ie(ie({},k.props),Re),{},{activeIndex:Ne})),null,null]}if(!bt(me))return[le].concat(Hc(j.renderActivePoints({item:k,activePoint:me,basePoint:Y,childIndex:I,isRange:W})))}else{var Q,de=(Q=j.getItemByXY(j.state.activeCoordinate))!==null&&Q!==void 0?Q:{graphicalItem:le},ye=de.graphicalItem,Fe=ye.item,Be=Fe===void 0?S:Fe,wt=ye.childIndex,z=ie(ie(ie({},k.props),Re),{},{activeIndex:wt});return[N.cloneElement(Be,z),null,null]}return W?[le,null,null]:[le,null]}),We(j,"renderCustomized",function(S,C,E){return N.cloneElement(S,ie(ie({key:"recharts-customized-".concat(E)},j.props),j.state))}),We(j,"renderMap",{CartesianGrid:{handler:Wp,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Wp},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Wp},YAxis:{handler:Wp},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((y=v.id)!==null&&y!==void 0?y:tp("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=c$(j.triggeredAfterMouseMove,(w=v.throttleDelay)!==null&&w!==void 0?w:1e3/60),j.state={},j}return zme(b,g),Dme(b,[{key:"componentDidMount",value:function(){var y,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,w=y.children,j=y.data,S=y.height,C=y.layout,E=jr(w,oi);if(E){var k=E.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var $=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,O=vj(this.state,j,k,$),T=this.state.tooltipTicks[k].coordinate,P=(this.state.offset.top+S)/2,I=C==="horizontal",D=I?{x:T,y:P}:{y:T,x:P},R=this.state.formattedGraphicalItems.find(function(q){var B=q.item;return B.type.name==="Scatter"});R&&(D=ie(ie({},D),R.props.points[k].tooltipPosition),O=R.props.points[k].tooltipPayload);var V={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:$,activePayload:O,activeCoordinate:D};this.setState(V),this.renderCursor(E),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var j,S;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(y){W0([jr(y.children,oi)],[jr(this.props.children,oi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=jr(this.props.children,oi);if(y&&typeof y.props.shared=="boolean"){var w=y.props.shared?"axis":"item";return l.indexOf(w)>=0?w:s}return s}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var w=this.container,j=w.getBoundingClientRect(),S=rte(j),C={chartX:Math.round(y.pageX-S.left),chartY:Math.round(y.pageY-S.top)},E=j.width/w.offsetWidth||1,k=this.inRange(C.chartX,C.chartY,E);if(!k)return null;var $=this.state,O=$.xAxisMap,T=$.yAxisMap,P=this.getTooltipEventType(),I=b2(this.state,this.props.data,this.props.layout,k);if(P!=="axis"&&O&&T){var D=ns(O).scale,R=ns(T).scale,V=D&&D.invert?D.invert(C.chartX):null,q=R&&R.invert?R.invert(C.chartY):null;return ie(ie({},C),{},{xValue:V,yValue:q},I)}return I?ie(ie({},C),I):null}},{key:"inRange",value:function(y,w){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,C=y/j,E=w/j;if(S==="horizontal"||S==="vertical"){var k=this.state.offset,$=C>=k.left&&C<=k.left+k.width&&E>=k.top&&E<=k.top+k.height;return $?{x:C,y:E}:null}var O=this.state,T=O.angleAxisMap,P=O.radiusAxisMap;if(T&&P){var I=ns(T);return KA({x:C,y:E},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,w=this.getTooltipEventType(),j=jr(y,oi),S={};j&&w==="axis"&&(j.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=Jm(this.props,this.handleOuterEvent);return ie(ie({},C),S)}},{key:"addListener",value:function(){cy.on(uy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){cy.removeListener(uy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,w,j){for(var S=this.state.formattedGraphicalItems,C=0,E=S.length;C<E;C++){var k=S[C];if(k.item===y||k.props.key===y.key||w===ja(k.item.type)&&j===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,w=this.state.offset,j=w.left,S=w.top,C=w.height,E=w.width;return F.createElement("defs",null,F.createElement("clipPath",{id:y},F.createElement("rect",{x:j,y:S,height:C,width:E})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(w,j){var S=g2(j,2),C=S[0],E=S[1];return ie(ie({},w),{},We({},C,E.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(w,j){var S=g2(j,2),C=S[0],E=S[1];return ie(ie({},w),{},We({},C,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[y])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(y){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[y])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(y){var w=this.state,j=w.formattedGraphicalItems,S=w.activeItem;if(j&&j.length)for(var C=0,E=j.length;C<E;C++){var k=j[C],$=k.props,O=k.item,T=O.type.defaultProps!==void 0?ie(ie({},O.type.defaultProps),O.props):O.props,P=ja(O.type);if(P==="Bar"){var I=($.data||[]).find(function(q){return Lle(y,q)});if(I)return{graphicalItem:k,payload:I}}else if(P==="RadialBar"){var D=($.data||[]).find(function(q){return KA(y,q)});if(D)return{graphicalItem:k,payload:D}}else if($g(k,S)||Mg(k,S)||vf(k,S)){var R=Aue({graphicalItem:k,activeTooltipItem:S,itemData:T.data}),V=T.activeIndex===void 0?R:T.activeIndex;return{graphicalItem:ie(ie({},k),{},{childIndex:V}),payload:vf(k,S)?T.data[R]:k.props.data[R]}}}return null}},{key:"render",value:function(){var y=this;if(!FC(this))return null;var w=this.props,j=w.children,S=w.className,C=w.width,E=w.height,k=w.style,$=w.compact,O=w.title,T=w.desc,P=x2(w,Ome),I=Xe(P,!1);if($)return F.createElement(n2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement(K0,El({},I,{width:C,height:E,title:O,desc:T}),this.renderClipPath(),qC(j,this.renderMap)));if(this.props.accessibilityLayer){var D,R;I.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,I.role=(R=this.props.role)!==null&&R!==void 0?R:"application",I.onKeyDown=function(q){y.accessibilityManager.keyboardEvent(q)},I.onFocus=function(){y.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return F.createElement(n2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},F.createElement("div",El({className:ht("recharts-wrapper",S),style:ie({position:"relative",cursor:"default",width:C,height:E},k)},V,{ref:function(B){y.container=B}}),F.createElement(K0,El({},I,{width:C,height:E,title:O,desc:T,style:Gme}),this.renderClipPath(),qC(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(N.Component);We(x,"displayName",n),We(x,"defaultProps",ie({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),We(x,"getDerivedStateFromProps",function(g,b){var v=g.dataKey,y=g.data,w=g.children,j=g.width,S=g.height,C=g.layout,E=g.stackOffset,k=g.margin,$=b.dataStartIndex,O=b.dataEndIndex;if(b.updateId===void 0){var T=j2(g);return ie(ie(ie({},T),{},{updateId:0},h(ie(ie({props:g},T),{},{updateId:0}),b)),{},{prevDataKey:v,prevData:y,prevWidth:j,prevHeight:S,prevLayout:C,prevStackOffset:E,prevMargin:k,prevChildren:w})}if(v!==b.prevDataKey||y!==b.prevData||j!==b.prevWidth||S!==b.prevHeight||C!==b.prevLayout||E!==b.prevStackOffset||!Ll(k,b.prevMargin)){var P=j2(g),I={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},D=ie(ie({},b2(b,y,C)),{},{updateId:b.updateId+1}),R=ie(ie(ie({},P),I),D);return ie(ie(ie({},R),h(ie({props:g},R),b)),{},{prevDataKey:v,prevData:y,prevWidth:j,prevHeight:S,prevLayout:C,prevStackOffset:E,prevMargin:k,prevChildren:w})}if(!W0(w,b.prevChildren)){var V,q,B,W,Z=jr(w,Mc),te=Z&&(V=(q=Z.props)===null||q===void 0?void 0:q.startIndex)!==null&&V!==void 0?V:$,fe=Z&&(B=(W=Z.props)===null||W===void 0?void 0:W.endIndex)!==null&&B!==void 0?B:O,Ae=te!==$||fe!==O,He=!bt(y),ze=He&&!Ae?b.updateId:b.updateId+1;return ie(ie({updateId:ze},h(ie(ie({props:g},b),{},{updateId:ze,dataStartIndex:te,dataEndIndex:fe}),b)),{},{prevChildren:w,dataStartIndex:te,dataEndIndex:fe})}return null}),We(x,"renderActiveDot",function(g,b,v){var y;return N.isValidElement(g)?y=N.cloneElement(g,b):et(g)?y=g(b):y=F.createElement(Z1,b),F.createElement(Pt,{className:"recharts-active-dot",key:v},y)});var m=N.forwardRef(function(b,v){return F.createElement(x,El({},b,{ref:v}))});return m.displayName=x.displayName,m},rhe=I4({chartName:"BarChart",GraphicalChild:Xo,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Bg},{axisType:"yAxis",AxisComp:Ug}],formatAxisMap:afe}),ihe=I4({chartName:"PieChart",GraphicalChild:Ua,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Rg},{axisType:"radiusAxis",AxisComp:Tg}],formatAxisMap:Jae,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function ahe(){const{data:e=[]}=Ye({queryKey:["/api/analyses"]}),{data:t}=Ye({queryKey:["/api/analytics"]}),r=e.filter(d=>d.status==="completed").slice(0,3),a=t!=null&&t.rootCauseDistribution?Object.entries(t.rootCauseDistribution).map(([d,f])=>({name:d,value:f})):[],s=t!=null&&t.confidenceDistribution?Object.entries(t.confidenceDistribution).map(([d,f])=>({name:d,value:f})):[],o=["#ef4444","#f59e0b","#3b82f6","#10b981","#8b5cf6"],l=d=>{switch(d){case"high":return"priority-high";case"medium":return"priority-medium";case"low":return"priority-low";default:return"bg-gray-100 text-gray-800"}},c=d=>d>=90?"confidence-high":d>=70?"confidence-medium":"confidence-low",u=d=>{const f=new Date,p=new Date(d),h=Math.floor((f.getTime()-p.getTime())/(1e3*60*60));if(h<1)return"Less than an hour ago";if(h===1)return"1 hour ago";if(h<24)return`${h} hours ago`;const x=Math.floor(h/24);return x===1?"1 day ago":`${x} days ago`};return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx(ee,{children:i.jsxs(re,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Issues Analyzed"}),i.jsx("p",{className:"text-2xl font-bold text-foreground",children:(t==null?void 0:t.totalAnalyses)||0})]}),i.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:i.jsx(hm,{className:"text-blue-600"})})]}),i.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[i.jsx(va,{className:"w-4 h-4 text-accent mr-1"}),i.jsx("span",{className:"text-accent font-medium",children:"+12%"}),i.jsx("span",{className:"text-muted-foreground ml-1",children:"from last month"})]})]})}),i.jsx(ee,{children:i.jsxs(re,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Root Causes Identified"}),i.jsx("p",{className:"text-2xl font-bold text-foreground",children:(t==null?void 0:t.rootCausesIdentified)||0})]}),i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:i.jsx(Pa,{className:"text-green-600"})})]}),i.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[i.jsx(va,{className:"w-4 h-4 text-accent mr-1"}),i.jsx("span",{className:"text-accent font-medium",children:"+8%"}),i.jsx("span",{className:"text-muted-foreground ml-1",children:"resolution rate"})]})]})}),i.jsx(ee,{children:i.jsxs(re,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg Analysis Time"}),i.jsx("p",{className:"text-2xl font-bold text-foreground",children:(t==null?void 0:t.avgAnalysisTime)||"0m"})]}),i.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:i.jsx(Oo,{className:"text-yellow-600"})})]}),i.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[i.jsx(va,{className:"w-4 h-4 text-accent mr-1"}),i.jsx("span",{className:"text-accent font-medium",children:"-15%"}),i.jsx("span",{className:"text-muted-foreground ml-1",children:"faster than manual"})]})]})}),i.jsx(ee,{children:i.jsxs(re,{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Success Rate"}),i.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[(t==null?void 0:t.successRate)||0,"%"]})]}),i.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:i.jsx(Fd,{className:"text-purple-600"})})]}),i.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[i.jsx(va,{className:"w-4 h-4 text-accent mr-1"}),i.jsx("span",{className:"text-accent font-medium",children:"+3%"}),i.jsx("span",{className:"text-muted-foreground ml-1",children:"accuracy improvement"})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsx(se,{children:"Root Cause Distribution"})}),i.jsx(re,{children:i.jsx(DE,{width:"100%",height:300,children:i.jsxs(ihe,{children:[i.jsx(Ua,{data:a,cx:"50%",cy:"50%",labelLine:!1,label:({name:d,percent:f})=>`${d} ${(f*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:a.map((d,f)=>i.jsx(gg,{fill:o[f%o.length]},`cell-${f}`))}),i.jsx(oi,{})]})})})]}),i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsx(se,{children:"Analysis Confidence Levels"})}),i.jsx(re,{children:i.jsx(DE,{width:"100%",height:300,children:i.jsxs(rhe,{data:s,children:[i.jsx(x4,{strokeDasharray:"3 3"}),i.jsx(Bg,{dataKey:"name"}),i.jsx(Ug,{}),i.jsx(oi,{}),i.jsx(Xo,{dataKey:"value",fill:"hsl(217, 91%, 60%)"})]})})})]})]}),i.jsxs(ee,{children:[i.jsxs(ae,{className:"flex flex-row items-center justify-between",children:[i.jsx(se,{children:"Recent Root Cause Findings"}),i.jsx(H,{variant:"ghost",size:"sm",children:"View All"})]}),i.jsx(re,{className:"space-y-4",children:r.length===0?i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(Ki,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No completed analyses yet. Upload files to get started."})]}):r.map(d=>i.jsx("div",{className:"border border-border rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[i.jsx("h4",{className:"font-medium text-foreground",children:d.issueDescription}),i.jsxs(ne,{className:l(d.priority),children:[d.priority.charAt(0).toUpperCase()+d.priority.slice(1)," Priority"]}),d.confidence&&i.jsxs(ne,{className:c(d.confidence),children:[d.confidence,"% Confidence"]})]}),d.rootCause&&i.jsxs("p",{className:"text-muted-foreground text-sm mb-3",children:["Root cause identified: ",d.rootCause]}),d.recommendations&&Array.isArray(d.recommendations)&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("span",{className:"text-sm font-medium text-foreground",children:"Recommendations:"}),i.jsx("ul",{className:"text-sm text-muted-foreground ml-4 mt-1 space-y-1",children:d.recommendations.map((f,p)=>i.jsxs("li",{children:[" ",f]},p))})]})]}),i.jsxs("div",{className:"ml-4 flex flex-col items-end space-y-2",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-xs text-muted-foreground",children:u(d.createdAt)}),d.equipmentType&&i.jsx(ne,{variant:"outline",className:"text-xs mt-1",children:d.equipmentType.charAt(0).toUpperCase()+d.equipmentType.slice(1).replace("_"," ")})]}),i.jsx(H,{variant:"ghost",size:"sm",children:"View Details"})]})]})},d.id))})]})]})}const ke=N.forwardRef(({className:e,type:t,...n},r)=>i.jsx("input",{type:t,className:Le("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));ke.displayName="Input";function gj(e,[t,n]){return Math.min(n,Math.max(t,e))}var fy=0;function R4(){N.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??N2()),document.body.insertAdjacentElement("beforeend",e[1]??N2()),fy++,()=>{fy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),fy--}},[])}function N2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var py="focusScope.autoFocusOnMount",my="focusScope.autoFocusOnUnmount",S2={bubbles:!1,cancelable:!0},she="FocusScope",lN=N.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...o}=e,[l,c]=N.useState(null),u=dn(a),d=dn(s),f=N.useRef(null),p=St(t,m=>c(m)),h=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(r){let m=function(y){if(h.paused||!l)return;const w=y.target;l.contains(w)?f.current=w:Ya(f.current,{select:!0})},g=function(y){if(h.paused||!l)return;const w=y.relatedTarget;w!==null&&(l.contains(w)||Ya(f.current,{select:!0}))},b=function(y){if(document.activeElement===document.body)for(const j of y)j.removedNodes.length>0&&Ya(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const v=new MutationObserver(b);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),v.disconnect()}}},[r,l,h.paused]),N.useEffect(()=>{if(l){E2.add(h);const m=document.activeElement;if(!l.contains(m)){const b=new CustomEvent(py,S2);l.addEventListener(py,u),l.dispatchEvent(b),b.defaultPrevented||(ohe(fhe($4(l)),{select:!0}),document.activeElement===m&&Ya(l))}return()=>{l.removeEventListener(py,u),setTimeout(()=>{const b=new CustomEvent(my,S2);l.addEventListener(my,d),l.dispatchEvent(b),b.defaultPrevented||Ya(m??document.body,{select:!0}),l.removeEventListener(my,d),E2.remove(h)},0)}}},[l,u,d,h]);const x=N.useCallback(m=>{if(!n&&!r||h.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,b=document.activeElement;if(g&&b){const v=m.currentTarget,[y,w]=lhe(v);y&&w?!m.shiftKey&&b===w?(m.preventDefault(),n&&Ya(y,{select:!0})):m.shiftKey&&b===y&&(m.preventDefault(),n&&Ya(w,{select:!0})):b===v&&m.preventDefault()}},[n,r,h.paused]);return i.jsx(rt.div,{tabIndex:-1,...o,ref:p,onKeyDown:x})});lN.displayName=she;function ohe(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ya(r,{select:t}),document.activeElement!==n)return}function lhe(e){const t=$4(e),n=C2(t,e),r=C2(t.reverse(),e);return[n,r]}function $4(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function C2(e,t){for(const n of e)if(!che(n,{upTo:t}))return n}function che(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function uhe(e){return e instanceof HTMLInputElement&&"select"in e}function Ya(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&uhe(e)&&t&&e.select()}}var E2=dhe();function dhe(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=A2(e,t),e.unshift(t)},remove(t){var n;e=A2(e,t),(n=e[0])==null||n.resume()}}}function A2(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function fhe(e){return e.filter(t=>t.tagName!=="A")}function M4(e){const t=N.useRef({value:e,previous:e});return N.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var phe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},al=new WeakMap,Gp=new WeakMap,Kp={},hy=0,D4=function(e){return e&&(e.host||D4(e.parentNode))},mhe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=D4(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},hhe=function(e,t,n,r){var a=mhe(t,Array.isArray(e)?e:[e]);Kp[n]||(Kp[n]=new WeakMap);var s=Kp[n],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))d(p);else try{var h=p.getAttribute(r),x=h!==null&&h!=="false",m=(al.get(p)||0)+1,g=(s.get(p)||0)+1;al.set(p,m),s.set(p,g),o.push(p),m===1&&x&&Gp.set(p,!0),g===1&&p.setAttribute(n,"true"),x||p.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return d(t),l.clear(),hy++,function(){o.forEach(function(f){var p=al.get(f)-1,h=s.get(f)-1;al.set(f,p),s.set(f,h),p||(Gp.has(f)||f.removeAttribute(r),Gp.delete(f)),h||f.removeAttribute(n)}),hy--,hy||(al=new WeakMap,al=new WeakMap,Gp=new WeakMap,Kp={})}},F4=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=phe(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),hhe(r,a,n,"aria-hidden")):function(){return null}},Mi=function(){return Mi=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Mi.apply(this,arguments)};function L4(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function Zo(e,t,n,r){function a(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):a(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})}function vhe(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,s;r<a;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var xm="right-scroll-bar-position",ym="width-before-scroll-bar",ghe="with-scroll-bars-hidden",xhe="--removed-body-scroll-bar-size";function vy(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function yhe(e,t){var n=N.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var bhe=typeof window<"u"?N.useLayoutEffect:N.useEffect,k2=new WeakMap;function jhe(e,t){var n=yhe(null,function(r){return e.forEach(function(a){return vy(a,r)})});return bhe(function(){var r=k2.get(n);if(r){var a=new Set(r),s=new Set(e),o=n.current;a.forEach(function(l){s.has(l)||vy(l,null)}),s.forEach(function(l){a.has(l)||vy(l,o)})}k2.set(n,e)},[e]),n}function whe(e){return e}function Nhe(e,t){t===void 0&&(t=whe);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var o=t(s,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(s),o=n}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return a}function She(e){e===void 0&&(e={});var t=Nhe(null);return t.options=Mi({async:!0,ssr:!1},e),t}var q4=function(e){var t=e.sideCar,n=L4(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return N.createElement(r,Mi({},n))};q4.isSideCarExport=!0;function Che(e,t){return e.useMedium(t),q4}var z4=She(),gy=function(){},Hg=N.forwardRef(function(e,t){var n=N.useRef(null),r=N.useState({onScrollCapture:gy,onWheelCapture:gy,onTouchMoveCapture:gy}),a=r[0],s=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,p=e.sideCar,h=e.noIsolation,x=e.inert,m=e.allowPinchZoom,g=e.as,b=g===void 0?"div":g,v=e.gapMode,y=L4(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=p,j=jhe([n,t]),S=Mi(Mi({},y),a);return N.createElement(N.Fragment,null,d&&N.createElement(w,{sideCar:z4,removeScrollBar:u,shards:f,noIsolation:h,inert:x,setCallbacks:s,allowPinchZoom:!!m,lockRef:n,gapMode:v}),o?N.cloneElement(N.Children.only(l),Mi(Mi({},S),{ref:j})):N.createElement(b,Mi({},S,{className:c,ref:j}),l))});Hg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hg.classNames={fullWidth:ym,zeroRight:xm};var Ehe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ahe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Ehe();return t&&e.setAttribute("nonce",t),e}function khe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function _he(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Ohe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Ahe())&&(khe(t,n),_he(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Phe=function(){var e=Ohe();return function(t,n){N.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},B4=function(){var e=Phe(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},The={left:0,top:0,right:0,gap:0},xy=function(e){return parseInt(e||"",10)||0},Ihe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[xy(n),xy(r),xy(a)]},Rhe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return The;var t=Ihe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},$he=B4(),Ul="data-scroll-locked",Mhe=function(e,t,n,r){var a=e.left,s=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(ghe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Ul,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xm,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ym,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(xm," .").concat(xm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ym," .").concat(ym,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ul,`] {
    `).concat(xhe,": ").concat(l,`px;
  }
`)},_2=function(){var e=parseInt(document.body.getAttribute(Ul)||"0",10);return isFinite(e)?e:0},Dhe=function(){N.useEffect(function(){return document.body.setAttribute(Ul,(_2()+1).toString()),function(){var e=_2()-1;e<=0?document.body.removeAttribute(Ul):document.body.setAttribute(Ul,e.toString())}},[])},Fhe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;Dhe();var s=N.useMemo(function(){return Rhe(a)},[a]);return N.createElement($he,{styles:Mhe(s,!t,a,n?"":"!important")})},xj=!1;if(typeof window<"u")try{var Yp=Object.defineProperty({},"passive",{get:function(){return xj=!0,!0}});window.addEventListener("test",Yp,Yp),window.removeEventListener("test",Yp,Yp)}catch{xj=!1}var sl=xj?{passive:!1}:!1,Lhe=function(e){return e.tagName==="TEXTAREA"},U4=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Lhe(e)&&n[t]==="visible")},qhe=function(e){return U4(e,"overflowY")},zhe=function(e){return U4(e,"overflowX")},O2=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=V4(e,r);if(a){var s=H4(e,r),o=s[1],l=s[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Bhe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Uhe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},V4=function(e,t){return e==="v"?qhe(t):zhe(t)},H4=function(e,t){return e==="v"?Bhe(t):Uhe(t)},Vhe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Hhe=function(e,t,n,r,a){var s=Vhe(e,window.getComputedStyle(t).direction),o=s*r,l=n.target,c=t.contains(l),u=!1,d=o>0,f=0,p=0;do{var h=H4(e,l),x=h[0],m=h[1],g=h[2],b=m-g-s*x;(x||b)&&V4(e,l)&&(f+=b,p+=x),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(p)<1||!a))&&(u=!0),u},Qp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},P2=function(e){return[e.deltaX,e.deltaY]},T2=function(e){return e&&"current"in e?e.current:e},Whe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Ghe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Khe=0,ol=[];function Yhe(e){var t=N.useRef([]),n=N.useRef([0,0]),r=N.useRef(),a=N.useState(Khe++)[0],s=N.useState(B4)[0],o=N.useRef(e);N.useEffect(function(){o.current=e},[e]),N.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=vhe([e.lockRef.current],(e.shards||[]).map(T2),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=N.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var b=Qp(m),v=n.current,y="deltaX"in m?m.deltaX:v[0]-b[0],w="deltaY"in m?m.deltaY:v[1]-b[1],j,S=m.target,C=Math.abs(y)>Math.abs(w)?"h":"v";if("touches"in m&&C==="h"&&S.type==="range")return!1;var E=O2(C,S);if(!E)return!0;if(E?j=C:(j=C==="v"?"h":"v",E=O2(C,S)),!E)return!1;if(!r.current&&"changedTouches"in m&&(y||w)&&(r.current=j),!j)return!0;var k=r.current||j;return Hhe(k,g,m,k==="h"?y:w,!0)},[]),c=N.useCallback(function(m){var g=m;if(!(!ol.length||ol[ol.length-1]!==s)){var b="deltaY"in g?P2(g):Qp(g),v=t.current.filter(function(j){return j.name===g.type&&(j.target===g.target||g.target===j.shadowParent)&&Whe(j.delta,b)})[0];if(v&&v.should){g.cancelable&&g.preventDefault();return}if(!v){var y=(o.current.shards||[]).map(T2).filter(Boolean).filter(function(j){return j.contains(g.target)}),w=y.length>0?l(g,y[0]):!o.current.noIsolation;w&&g.cancelable&&g.preventDefault()}}},[]),u=N.useCallback(function(m,g,b,v){var y={name:m,delta:g,target:b,should:v,shadowParent:Qhe(b)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(w){return w!==y})},1)},[]),d=N.useCallback(function(m){n.current=Qp(m),r.current=void 0},[]),f=N.useCallback(function(m){u(m.type,P2(m),m.target,l(m,e.lockRef.current))},[]),p=N.useCallback(function(m){u(m.type,Qp(m),m.target,l(m,e.lockRef.current))},[]);N.useEffect(function(){return ol.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,sl),document.addEventListener("touchmove",c,sl),document.addEventListener("touchstart",d,sl),function(){ol=ol.filter(function(m){return m!==s}),document.removeEventListener("wheel",c,sl),document.removeEventListener("touchmove",c,sl),document.removeEventListener("touchstart",d,sl)}},[]);var h=e.removeScrollBar,x=e.inert;return N.createElement(N.Fragment,null,x?N.createElement(s,{styles:Ghe(a)}):null,h?N.createElement(Fhe,{gapMode:e.gapMode}):null)}function Qhe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Xhe=Che(z4,Yhe);var cN=N.forwardRef(function(e,t){return N.createElement(Hg,Mi({},e,{ref:t,sideCar:Xhe}))});cN.classNames=Hg.classNames;var Zhe=[" ","Enter","ArrowUp","ArrowDown"],Jhe=[" ","Enter"],op="Select",[Wg,Gg,eve]=Fw(op),[yu,J0e]=Ni(op,[eve,Vv]),Kg=Vv(),[tve,Vs]=yu(op),[nve,rve]=yu(op),W4=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:a,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:p,required:h,form:x}=e,m=Kg(t),[g,b]=N.useState(null),[v,y]=N.useState(null),[w,j]=N.useState(!1),S=Gv(u),[C=!1,E]=gc({prop:r,defaultProp:a,onChange:s}),[k,$]=gc({prop:o,defaultProp:l,onChange:c}),O=N.useRef(null),T=g?x||!!g.closest("form"):!0,[P,I]=N.useState(new Set),D=Array.from(P).map(R=>R.props.value).join(";");return i.jsx(Jz,{...m,children:i.jsxs(tve,{required:h,scope:t,trigger:g,onTriggerChange:b,valueNode:v,onValueNodeChange:y,valueNodeHasChildren:w,onValueNodeHasChildrenChange:j,contentId:Ss(),value:k,onValueChange:$,open:C,onOpenChange:E,dir:S,triggerPointerDownPosRef:O,disabled:p,children:[i.jsx(Wg.Provider,{scope:t,children:i.jsx(nve,{scope:e.__scopeSelect,onNativeOptionAdd:N.useCallback(R=>{I(V=>new Set(V).add(R))},[]),onNativeOptionRemove:N.useCallback(R=>{I(V=>{const q=new Set(V);return q.delete(R),q})},[]),children:n})}),T?i.jsxs(gD,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:f,value:k,onChange:R=>$(R.target.value),disabled:p,form:x,children:[k===void 0?i.jsx("option",{value:""}):null,Array.from(P)]},D):null]})})};W4.displayName=op;var G4="SelectTrigger",K4=N.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...a}=e,s=Kg(n),o=Vs(G4,n),l=o.disabled||r,c=St(t,o.onTriggerChange),u=Gg(n),d=N.useRef("touch"),[f,p,h]=xD(m=>{const g=u().filter(y=>!y.disabled),b=g.find(y=>y.value===o.value),v=yD(g,m,b);v!==void 0&&o.onValueChange(v.value)}),x=m=>{l||(o.onOpenChange(!0),h()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return i.jsx(yI,{asChild:!0,...s,children:i.jsx(rt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":vD(o.value)?"":void 0,...a,ref:c,onClick:Me(a.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&x(m)}),onPointerDown:Me(a.onPointerDown,m=>{d.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(x(m),m.preventDefault())}),onKeyDown:Me(a.onKeyDown,m=>{const g=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(g&&m.key===" ")&&Zhe.includes(m.key)&&(x(),m.preventDefault())})})})});K4.displayName=G4;var Y4="SelectValue",Q4=N.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:s,placeholder:o="",...l}=e,c=Vs(Y4,n),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=St(t,c.onValueNodeChange);return xn(()=>{u(d)},[u,d]),i.jsx(rt.span,{...l,ref:f,style:{pointerEvents:"none"},children:vD(c.value)?i.jsx(i.Fragment,{children:o}):s})});Q4.displayName=Y4;var ive="SelectIcon",X4=N.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...a}=e;return i.jsx(rt.span,{"aria-hidden":!0,...a,ref:t,children:r||""})});X4.displayName=ive;var ave="SelectPortal",Z4=e=>i.jsx($v,{asChild:!0,...e});Z4.displayName=ave;var Fo="SelectContent",J4=N.forwardRef((e,t)=>{const n=Vs(Fo,e.__scopeSelect),[r,a]=N.useState();if(xn(()=>{a(new DocumentFragment)},[]),!n.open){const s=r;return s?Ho.createPortal(i.jsx(eD,{scope:e.__scopeSelect,children:i.jsx(Wg.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),s):null}return i.jsx(tD,{...e,ref:t})});J4.displayName=Fo;var ri=10,[eD,Hs]=yu(Fo),sve="SelectContentImpl",ove=vc("SelectContent.RemoveScroll"),tD=N.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:x,hideWhenDetached:m,avoidCollisions:g,...b}=e,v=Vs(Fo,n),[y,w]=N.useState(null),[j,S]=N.useState(null),C=St(t,xe=>w(xe)),[E,k]=N.useState(null),[$,O]=N.useState(null),T=Gg(n),[P,I]=N.useState(!1),D=N.useRef(!1);N.useEffect(()=>{if(y)return F4(y)},[y]),R4();const R=N.useCallback(xe=>{const[Re,...le]=T().map(Y=>Y.ref.current),[ce]=le.slice(-1),me=document.activeElement;for(const Y of xe)if(Y===me||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===Re&&j&&(j.scrollTop=0),Y===ce&&j&&(j.scrollTop=j.scrollHeight),Y==null||Y.focus(),document.activeElement!==me))return},[T,j]),V=N.useCallback(()=>R([E,y]),[R,E,y]);N.useEffect(()=>{P&&V()},[P,V]);const{onOpenChange:q,triggerPointerDownPosRef:B}=v;N.useEffect(()=>{if(y){let xe={x:0,y:0};const Re=ce=>{var me,Y;xe={x:Math.abs(Math.round(ce.pageX)-(((me=B.current)==null?void 0:me.x)??0)),y:Math.abs(Math.round(ce.pageY)-(((Y=B.current)==null?void 0:Y.y)??0))}},le=ce=>{xe.x<=10&&xe.y<=10?ce.preventDefault():y.contains(ce.target)||q(!1),document.removeEventListener("pointermove",Re),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",Re),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Re),document.removeEventListener("pointerup",le,{capture:!0})}}},[y,q,B]),N.useEffect(()=>{const xe=()=>q(!1);return window.addEventListener("blur",xe),window.addEventListener("resize",xe),()=>{window.removeEventListener("blur",xe),window.removeEventListener("resize",xe)}},[q]);const[W,Z]=xD(xe=>{const Re=T().filter(me=>!me.disabled),le=Re.find(me=>me.ref.current===document.activeElement),ce=yD(Re,xe,le);ce&&setTimeout(()=>ce.ref.current.focus())}),te=N.useCallback((xe,Re,le)=>{const ce=!D.current&&!le;(v.value!==void 0&&v.value===Re||ce)&&(k(xe),ce&&(D.current=!0))},[v.value]),fe=N.useCallback(()=>y==null?void 0:y.focus(),[y]),Ae=N.useCallback((xe,Re,le)=>{const ce=!D.current&&!le;(v.value!==void 0&&v.value===Re||ce)&&O(xe)},[v.value]),He=r==="popper"?yj:nD,ze=He===yj?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:x,hideWhenDetached:m,avoidCollisions:g}:{};return i.jsx(eD,{scope:n,content:y,viewport:j,onViewportChange:S,itemRefCallback:te,selectedItem:E,onItemLeave:fe,itemTextRefCallback:Ae,focusSelectedItem:V,selectedItemText:$,position:r,isPositioned:P,searchRef:W,children:i.jsx(cN,{as:ove,allowPinchZoom:!0,children:i.jsx(lN,{asChild:!0,trapped:v.open,onMountAutoFocus:xe=>{xe.preventDefault()},onUnmountAutoFocus:Me(a,xe=>{var Re;(Re=v.trigger)==null||Re.focus({preventScroll:!0}),xe.preventDefault()}),children:i.jsx(Wf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:xe=>xe.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:i.jsx(He,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:xe=>xe.preventDefault(),...b,...ze,onPlaced:()=>I(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Me(b.onKeyDown,xe=>{const Re=xe.ctrlKey||xe.altKey||xe.metaKey;if(xe.key==="Tab"&&xe.preventDefault(),!Re&&xe.key.length===1&&Z(xe.key),["ArrowUp","ArrowDown","Home","End"].includes(xe.key)){let ce=T().filter(me=>!me.disabled).map(me=>me.ref.current);if(["ArrowUp","End"].includes(xe.key)&&(ce=ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(xe.key)){const me=xe.target,Y=ce.indexOf(me);ce=ce.slice(Y+1)}setTimeout(()=>R(ce)),xe.preventDefault()}})})})})})})});tD.displayName=sve;var lve="SelectItemAlignedPosition",nD=N.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...a}=e,s=Vs(Fo,n),o=Hs(Fo,n),[l,c]=N.useState(null),[u,d]=N.useState(null),f=St(t,C=>d(C)),p=Gg(n),h=N.useRef(!1),x=N.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:b,focusSelectedItem:v}=o,y=N.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&m&&g&&b){const C=s.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),k=s.valueNode.getBoundingClientRect(),$=b.getBoundingClientRect();if(s.dir!=="rtl"){const me=$.left-E.left,Y=k.left-me,Ie=C.left-Y,Ne=C.width+Ie,Q=Math.max(Ne,E.width),de=window.innerWidth-ri,ye=gj(Y,[ri,Math.max(ri,de-Q)]);l.style.minWidth=Ne+"px",l.style.left=ye+"px"}else{const me=E.right-$.right,Y=window.innerWidth-k.right-me,Ie=window.innerWidth-C.right-Y,Ne=C.width+Ie,Q=Math.max(Ne,E.width),de=window.innerWidth-ri,ye=gj(Y,[ri,Math.max(ri,de-Q)]);l.style.minWidth=Ne+"px",l.style.right=ye+"px"}const O=p(),T=window.innerHeight-ri*2,P=m.scrollHeight,I=window.getComputedStyle(u),D=parseInt(I.borderTopWidth,10),R=parseInt(I.paddingTop,10),V=parseInt(I.borderBottomWidth,10),q=parseInt(I.paddingBottom,10),B=D+R+P+q+V,W=Math.min(g.offsetHeight*5,B),Z=window.getComputedStyle(m),te=parseInt(Z.paddingTop,10),fe=parseInt(Z.paddingBottom,10),Ae=C.top+C.height/2-ri,He=T-Ae,ze=g.offsetHeight/2,xe=g.offsetTop+ze,Re=D+R+xe,le=B-Re;if(Re<=Ae){const me=O.length>0&&g===O[O.length-1].ref.current;l.style.bottom="0px";const Y=u.clientHeight-m.offsetTop-m.offsetHeight,Ie=Math.max(He,ze+(me?fe:0)+Y+V),Ne=Re+Ie;l.style.height=Ne+"px"}else{const me=O.length>0&&g===O[0].ref.current;l.style.top="0px";const Ie=Math.max(Ae,D+m.offsetTop+(me?te:0)+ze)+le;l.style.height=Ie+"px",m.scrollTop=Re-Ae+m.offsetTop}l.style.margin=`${ri}px 0`,l.style.minHeight=W+"px",l.style.maxHeight=T+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[p,s.trigger,s.valueNode,l,u,m,g,b,s.dir,r]);xn(()=>y(),[y]);const[w,j]=N.useState();xn(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const S=N.useCallback(C=>{C&&x.current===!0&&(y(),v==null||v(),x.current=!1)},[y,v]);return i.jsx(uve,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:S,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:i.jsx(rt.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});nD.displayName=lve;var cve="SelectPopperPosition",yj=N.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=ri,...s}=e,o=Kg(n);return i.jsx(bI,{...o,...s,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});yj.displayName=cve;var[uve,uN]=yu(Fo,{}),bj="SelectViewport",rD=N.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...a}=e,s=Hs(bj,n),o=uN(bj,n),l=St(t,s.onViewportChange),c=N.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(Wg.Slot,{scope:n,children:i.jsx(rt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Me(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const h=Math.abs(c.current-d.scrollTop);if(h>0){const x=window.innerHeight-ri*2,m=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),b=Math.max(m,g);if(b<x){const v=b+h,y=Math.min(x,v),w=v-y;f.style.height=y+"px",f.style.bottom==="0px"&&(d.scrollTop=w>0?w:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});rD.displayName=bj;var iD="SelectGroup",[dve,fve]=yu(iD),pve=N.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=Ss();return i.jsx(dve,{scope:n,id:a,children:i.jsx(rt.div,{role:"group","aria-labelledby":a,...r,ref:t})})});pve.displayName=iD;var aD="SelectLabel",sD=N.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=fve(aD,n);return i.jsx(rt.div,{id:a.id,...r,ref:t})});sD.displayName=aD;var Xh="SelectItem",[mve,oD]=yu(Xh),lD=N.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:s,...o}=e,l=Vs(Xh,n),c=Hs(Xh,n),u=l.value===r,[d,f]=N.useState(s??""),[p,h]=N.useState(!1),x=St(t,v=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,v,r,a)}),m=Ss(),g=N.useRef("touch"),b=()=>{a||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(mve,{scope:n,value:r,disabled:a,textId:m,isSelected:u,onItemTextChange:N.useCallback(v=>{f(y=>y||((v==null?void 0:v.textContent)??"").trim())},[]),children:i.jsx(Wg.ItemSlot,{scope:n,value:r,disabled:a,textValue:d,children:i.jsx(rt.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:x,onFocus:Me(o.onFocus,()=>h(!0)),onBlur:Me(o.onBlur,()=>h(!1)),onClick:Me(o.onClick,()=>{g.current!=="mouse"&&b()}),onPointerUp:Me(o.onPointerUp,()=>{g.current==="mouse"&&b()}),onPointerDown:Me(o.onPointerDown,v=>{g.current=v.pointerType}),onPointerMove:Me(o.onPointerMove,v=>{var y;g.current=v.pointerType,a?(y=c.onItemLeave)==null||y.call(c):g.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Me(o.onPointerLeave,v=>{var y;v.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:Me(o.onKeyDown,v=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&v.key===" "||(Jhe.includes(v.key)&&b(),v.key===" "&&v.preventDefault())})})})})});lD.displayName=Xh;var Qu="SelectItemText",cD=N.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,...s}=e,o=Vs(Qu,n),l=Hs(Qu,n),c=oD(Qu,n),u=rve(Qu,n),[d,f]=N.useState(null),p=St(t,b=>f(b),c.onItemTextChange,b=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,b,c.value,c.disabled)}),h=d==null?void 0:d.textContent,x=N.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=u;return xn(()=>(m(x),()=>g(x)),[m,g,x]),i.jsxs(i.Fragment,{children:[i.jsx(rt.span,{id:c.textId,...s,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ho.createPortal(s.children,o.valueNode):null]})});cD.displayName=Qu;var uD="SelectItemIndicator",dD=N.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return oD(uD,n).isSelected?i.jsx(rt.span,{"aria-hidden":!0,...r,ref:t}):null});dD.displayName=uD;var jj="SelectScrollUpButton",fD=N.forwardRef((e,t)=>{const n=Hs(jj,e.__scopeSelect),r=uN(jj,e.__scopeSelect),[a,s]=N.useState(!1),o=St(t,r.onScrollButtonChange);return xn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?i.jsx(mD,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});fD.displayName=jj;var wj="SelectScrollDownButton",pD=N.forwardRef((e,t)=>{const n=Hs(wj,e.__scopeSelect),r=uN(wj,e.__scopeSelect),[a,s]=N.useState(!1),o=St(t,r.onScrollButtonChange);return xn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?i.jsx(mD,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});pD.displayName=wj;var mD=N.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=e,s=Hs("SelectScrollButton",n),o=N.useRef(null),l=Gg(n),c=N.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return N.useEffect(()=>()=>c(),[c]),xn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(rt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Me(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Me(a.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Me(a.onPointerLeave,()=>{c()})})}),hve="SelectSeparator",hD=N.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return i.jsx(rt.div,{"aria-hidden":!0,...r,ref:t})});hD.displayName=hve;var Nj="SelectArrow",vve=N.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=Kg(n),s=Vs(Nj,n),o=Hs(Nj,n);return s.open&&o.position==="popper"?i.jsx(jI,{...a,...r,ref:t}):null});vve.displayName=Nj;function vD(e){return e===""||e===void 0}var gD=N.forwardRef((e,t)=>{const{value:n,...r}=e,a=N.useRef(null),s=St(t,a),o=M4(n);return N.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&d){const f=new Event("change",{bubbles:!0});d.call(l,n),l.dispatchEvent(f)}},[o,n]),i.jsx(Gf,{asChild:!0,children:i.jsx("select",{...r,ref:s,defaultValue:n})})});gD.displayName="BubbleSelect";function xD(e){const t=dn(e),n=N.useRef(""),r=N.useRef(0),a=N.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=N.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,s]}function yD(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let o=gve(e,Math.max(s,0));a.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function gve(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var xve=W4,bD=K4,yve=Q4,bve=X4,jve=Z4,jD=J4,wve=rD,wD=sD,ND=lD,Nve=cD,Sve=dD,SD=fD,CD=pD,ED=hD;const ut=xve,dt=yve,ot=N.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(bD,{ref:r,className:Le("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,i.jsx(bve,{asChild:!0,children:i.jsx(Gm,{className:"h-4 w-4 opacity-50"})})]}));ot.displayName=bD.displayName;const AD=N.forwardRef(({className:e,...t},n)=>i.jsx(SD,{ref:n,className:Le("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(R0,{className:"h-4 w-4"})}));AD.displayName=SD.displayName;const kD=N.forwardRef(({className:e,...t},n)=>i.jsx(CD,{ref:n,className:Le("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Gm,{className:"h-4 w-4"})}));kD.displayName=CD.displayName;const lt=N.forwardRef(({className:e,children:t,position:n="popper",...r},a)=>i.jsx(jve,{children:i.jsxs(jD,{ref:a,className:Le("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[i.jsx(AD,{}),i.jsx(wve,{className:Le("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(kD,{})]})}));lt.displayName=jD.displayName;const Cve=N.forwardRef(({className:e,...t},n)=>i.jsx(wD,{ref:n,className:Le("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Cve.displayName=wD.displayName;const X=N.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(ND,{ref:r,className:Le("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(Sve,{children:i.jsx(IT,{className:"h-4 w-4"})})}),i.jsx(Nve,{children:t})]}));X.displayName=ND.displayName;const Eve=N.forwardRef(({className:e,...t},n)=>i.jsx(ED,{ref:n,className:Le("-mx-1 my-1 h-px bg-muted",e),...t}));Eve.displayName=ED.displayName;const Di=N.forwardRef(({className:e,...t},n)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:n,className:Le("w-full caption-bottom text-sm",e),...t})}));Di.displayName="Table";const Fi=N.forwardRef(({className:e,...t},n)=>i.jsx("thead",{ref:n,className:Le("[&_tr]:border-b",e),...t}));Fi.displayName="TableHeader";const Li=N.forwardRef(({className:e,...t},n)=>i.jsx("tbody",{ref:n,className:Le("[&_tr:last-child]:border-0",e),...t}));Li.displayName="TableBody";const Ave=N.forwardRef(({className:e,...t},n)=>i.jsx("tfoot",{ref:n,className:Le("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Ave.displayName="TableFooter";const ln=N.forwardRef(({className:e,...t},n)=>i.jsx("tr",{ref:n,className:Le("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));ln.displayName="TableRow";const we=N.forwardRef(({className:e,...t},n)=>i.jsx("th",{ref:n,className:Le("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));we.displayName="TableHead";const je=N.forwardRef(({className:e,...t},n)=>i.jsx("td",{ref:n,className:Le("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));je.displayName="TableCell";const kve=N.forwardRef(({className:e,...t},n)=>i.jsx("caption",{ref:n,className:Le("mt-4 text-sm text-muted-foreground",e),...t}));kve.displayName="TableCaption";function _ve(){const[e,t]=N.useState(""),[n,r]=N.useState("all"),[a,s]=N.useState("all"),[o,l]=N.useState("all"),[c,u]=N.useState(1),[,d]=Xr(),f=10,p=new URLSearchParams;e&&p.set("search",e),n&&n!=="all"&&p.set("priority",n),a&&a!=="all"&&p.set("dateRange",a),p.set("status",o);const{data:h=[],isLoading:x,refetch:m}=Ye({queryKey:["/api/analyses",p.toString()],queryFn:async()=>{const C=`/api/analyses${p.toString()?`?${p.toString()}`:""}`,E=await fetch(C);if(!E.ok)throw new Error("Failed to fetch analyses");return E.json()}}),g=Math.ceil(h.length/f),b=(c-1)*f,v=h.slice(b,b+f),y=C=>{switch(C){case"high":return"priority-high";case"medium":return"priority-medium";case"low":return"priority-low";default:return"bg-gray-100 text-gray-800"}},w=C=>C?C>=90?"confidence-high":C>=70?"confidence-medium":"confidence-low":"bg-gray-100 text-gray-800",j=C=>new Date(C).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),S=()=>{console.log("Export functionality would be implemented here")};return i.jsxs("div",{className:"space-y-8",children:[i.jsx(ee,{children:i.jsx(re,{className:"p-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 flex-1",children:[i.jsxs("div",{className:"relative flex-1 max-w-md",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Pa,{className:"text-muted-foreground",size:16})}),i.jsx(ke,{placeholder:"Search analyses...",value:e,onChange:C=>t(C.target.value),className:"pl-10"})]}),i.jsxs(ut,{value:n,onValueChange:r,children:[i.jsx(ot,{className:"w-full sm:w-[180px]",children:i.jsx(dt,{placeholder:"All Priorities"})}),i.jsxs(lt,{children:[i.jsx(X,{value:"all",children:"All Priorities"}),i.jsx(X,{value:"high",children:"High Priority"}),i.jsx(X,{value:"medium",children:"Medium Priority"}),i.jsx(X,{value:"low",children:"Low Priority"})]})]}),i.jsxs(ut,{value:a,onValueChange:s,children:[i.jsx(ot,{className:"w-full sm:w-[180px]",children:i.jsx(dt,{placeholder:"All Time"})}),i.jsxs(lt,{children:[i.jsx(X,{value:"all",children:"All Time"}),i.jsx(X,{value:"today",children:"Today"}),i.jsx(X,{value:"week",children:"This Week"}),i.jsx(X,{value:"month",children:"This Month"}),i.jsx(X,{value:"quarter",children:"This Quarter"})]})]}),i.jsxs(ut,{value:o,onValueChange:l,children:[i.jsx(ot,{className:"w-40",children:i.jsx(dt,{placeholder:"Status"})}),i.jsxs(lt,{children:[i.jsx(X,{value:"all",children:"All Status"}),i.jsx(X,{value:"draft",children:"Drafts Only"}),i.jsx(X,{value:"completed",children:"Completed Only"})]})]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(H,{variant:"outline",onClick:S,children:[i.jsx(kr,{className:"w-4 h-4 mr-2"}),"Export"]}),i.jsxs(H,{variant:"outline",onClick:()=>m(),children:[i.jsx(M0,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]})})}),i.jsxs(ee,{children:[i.jsxs(ae,{children:[i.jsx(se,{children:"Analysis History"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete record of all root cause analyses"})]}),i.jsx(re,{children:x?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx(M0,{className:"w-6 h-6 animate-spin text-muted-foreground"})}):h.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:i.jsx("p",{children:"No analyses found matching your criteria."})}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(Di,{children:[i.jsx(Fi,{children:i.jsxs(ln,{children:[i.jsx(we,{className:"min-w-[120px]",children:"Analysis ID"}),i.jsx(we,{className:"min-w-[140px]",children:"Equipment"}),i.jsx(we,{className:"min-w-[200px]",children:"Issue Description"}),i.jsx(we,{className:"min-w-[200px]",children:"Root Cause"}),i.jsx(we,{className:"min-w-[100px]",children:"Confidence"}),i.jsx(we,{className:"min-w-[90px]",children:"Priority"}),i.jsx(we,{className:"min-w-[140px]",children:"Date"}),i.jsx(we,{className:"min-w-[160px] sticky right-0 bg-background",children:"Actions"})]})}),i.jsx(Li,{children:v.map(C=>{var E,k,$;return i.jsxs(ln,{className:"hover:bg-muted/50",children:[i.jsx(je,{className:"font-medium min-w-[120px]",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{children:C.investigationId}),C.isDraft&&i.jsx(ne,{variant:"outline",className:"text-xs w-fit mt-1",children:"Draft"})]})}),i.jsx(je,{className:"min-w-[140px]",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-medium",children:((E=C.equipmentType)==null?void 0:E.charAt(0).toUpperCase())+((k=C.equipmentType)==null?void 0:k.slice(1).replace("_"," "))}),(($=C.evidenceData)==null?void 0:$.equipment_tag)&&i.jsx("span",{className:"text-xs text-muted-foreground",children:C.evidenceData.equipment_tag}),C.location&&i.jsx("span",{className:"text-xs text-muted-foreground",children:C.location})]})}),i.jsx(je,{className:"min-w-[200px] max-w-[250px] truncate",children:C.whatHappened}),i.jsx(je,{className:"min-w-[200px] max-w-[250px] truncate",children:C.cause||"Processing..."}),i.jsx(je,{className:"min-w-[100px]",children:C.confidence&&!C.isDraft?i.jsxs(ne,{className:w(C.confidence),children:[C.confidence,"%"]}):i.jsx("span",{className:"text-sm text-muted-foreground",children:"-"})}),i.jsx(je,{className:"min-w-[90px]",children:i.jsx(ne,{className:y(C.priority),children:C.priority.charAt(0).toUpperCase()+C.priority.slice(1)})}),i.jsx(je,{className:"text-sm min-w-[140px]",children:j(C.createdAt)}),i.jsx(je,{className:"min-w-[160px] sticky right-0 bg-background",children:i.jsxs("div",{className:"flex space-x-1",children:[i.jsx(H,{variant:"ghost",size:"sm",onClick:()=>{C.isDraft?d(`/equipment-selection?incident=${C.id}`):d(`/analysis-details/${C.id}`)},className:"text-xs px-2",children:C.isDraft?"Continue":"Details"}),i.jsx(H,{variant:"ghost",size:"sm",className:"text-xs px-2",children:"Export"})]})})]},C.id)})})]})}),g>1&&i.jsxs("div",{className:"flex items-center justify-between mt-6",children:[i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",b+1," to ",Math.min(b+f,h.length)," of ",h.length," results"]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(H,{variant:"outline",size:"sm",onClick:()=>u(Math.max(1,c-1)),disabled:c===1,children:[i.jsx(X6,{className:"w-4 h-4"}),"Previous"]}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",c," of ",g]}),i.jsxs(H,{variant:"outline",size:"sm",onClick:()=>u(Math.min(g,c+1)),disabled:c===g,children:["Next",i.jsx(Yf,{className:"w-4 h-4"})]})]})]})]})})]})]})}function Ove(){return i.jsx("div",{className:"space-y-6",children:i.jsxs(ee,{children:[i.jsxs(ae,{children:[i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(on,{className:"h-5 w-5"}),"Evidence-First Root Cause Analysis"]}),i.jsx(yt,{children:"Comprehensive, systematic approach to accurate root cause identification"})]}),i.jsxs(re,{className:"space-y-6",children:[i.jsxs(Qt,{children:[i.jsx(Pa,{className:"h-4 w-4"}),i.jsxs(Xt,{children:[i.jsx("strong",{children:"Enhanced Workflow:"})," Our new evidence-driven process guides you through structured data collection before AI analysis, ensuring higher accuracy and confidence."]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(ne,{variant:"outline",children:"1"}),i.jsx("h4",{className:"font-medium",children:"Evidence Collection"})]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Structured questionnaire covering asset context, symptoms, operating conditions, and maintenance history"})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(ne,{variant:"outline",children:"2"}),i.jsx("h4",{className:"font-medium",children:"AI Analysis"})]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Advanced root cause analysis using collected evidence with confidence scoring and reasoning"})]}),i.jsxs("div",{className:"p-4 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(ne,{variant:"outline",children:"3"}),i.jsx("h4",{className:"font-medium",children:"Results & Action"})]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Detailed findings with actionable recommendations and comprehensive audit trail"})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsx(fn,{href:"/incident-reporting",className:"flex-1",children:i.jsxs(H,{className:"w-full flex items-center gap-2",size:"lg",children:[i.jsx(vn,{className:"h-5 w-5"}),"Report New Incident",i.jsx(Er,{className:"h-4 w-4 ml-auto"})]})}),i.jsx(fn,{href:"/new",className:"flex-1",children:i.jsxs(H,{variant:"outline",className:"w-full flex items-center gap-2",size:"lg",children:[i.jsx(Pa,{className:"h-5 w-5"}),"Legacy Analysis Upload",i.jsx(Er,{className:"h-4 w-4 ml-auto"})]})})]}),i.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[i.jsx("p",{className:"font-medium mb-1",children:"What makes this better?"}),i.jsxs("ul",{className:"space-y-1 text-xs",children:[i.jsx("li",{children:" Systematic evidence gathering prevents missed critical information"}),i.jsx("li",{children:" Equipment-specific questions provide relevant context"}),i.jsx("li",{children:" Structured data ensures consistent, auditable analysis"}),i.jsx("li",{children:" Higher confidence scores through comprehensive input"})]})]})]})]})})}function Pve(){const[,e]=Xr();return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("header",{className:"bg-card shadow-sm border-b border-border",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between items-center h-16",children:[i.jsx("div",{className:"flex items-center space-x-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("img",{src:"/quanntaum-logo.jpg",alt:"Quanntaum Logo",className:"w-8 h-8 rounded-lg object-contain"}),i.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Quanntaum RCA Intelligence Pro"}),i.jsx(ne,{className:"enterprise-gradient text-white text-xs px-2 py-1 font-medium",children:"AI-Powered"})]})}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[i.jsx("span",{className:"w-2 h-2 bg-accent rounded-full"}),i.jsx("span",{children:"System Active"})]}),i.jsxs(H,{variant:"secondary",onClick:()=>e("/admin"),className:"text-sm font-medium",children:[i.jsx(c8,{className:"w-4 h-4 mr-2"}),"Admin Settings"]})]})]})})}),i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:i.jsxs(ea,{defaultValue:"upload",className:"w-full",children:[i.jsxs(Ci,{className:"grid w-full grid-cols-3 mb-8",children:[i.jsxs(Ze,{value:"upload",className:"flex items-center space-x-2",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),i.jsx("span",{children:"Upload & Analyze"})]}),i.jsxs(Ze,{value:"dashboard",className:"flex items-center space-x-2",children:[i.jsx(H6,{className:"w-4 h-4"}),i.jsx("span",{children:"Dashboard"})]}),i.jsxs(Ze,{value:"history",className:"flex items-center space-x-2",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("span",{children:"Analysis History"})]})]}),i.jsx(tt,{value:"upload",children:i.jsx(Ove,{})}),i.jsx(tt,{value:"dashboard",children:i.jsx(ahe,{})}),i.jsx(tt,{value:"history",children:i.jsx(_ve,{})})]})})]})}var Tve="Separator",I2="horizontal",Ive=["horizontal","vertical"],_D=N.forwardRef((e,t)=>{const{decorative:n,orientation:r=I2,...a}=e,s=Rve(r)?r:I2,l=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return i.jsx(rt.div,{"data-orientation":s,...l,...a,ref:t})});_D.displayName=Tve;function Rve(e){return Ive.includes(e)}var OD=_D;const Sa=N.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},a)=>i.jsx(OD,{ref:a,decorative:n,orientation:t,className:Le("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Sa.displayName=OD.displayName;function PD({analysis:e,incident:t,onEdit:n}){var p,h,x;const[r,a]=N.useState("tree"),[s,o]=N.useState(1),c=(()=>{var E,k,$,O,T;if(!e)return{id:"root",label:"No Analysis Data",confidence:0,evidence:[],type:"root"};const m=e.equipmentGroup&&e.equipmentType?`${e.equipmentGroup}  ${e.equipmentType}${e.equipmentSubtype?`  ${e.equipmentSubtype}`:""}`:"Equipment Type Not Specified",g=e.equipmentId||(t==null?void 0:t.equipmentId)||e.equipmentTag||"ID Not Specified",b=e.failureMode||e.rootCause||"Equipment Failure",v=[];e.symptoms&&v.push(...e.symptoms),e.description&&v.push(`Reported: ${e.description}`);const y=[];if(e.operatingParameters){const P=e.operatingParameters;Object.keys(P).forEach(I=>{P[I]&&typeof P[I]=="object"?Object.entries(P[I]).forEach(([D,R])=>{y.push(`${I}.${D}: ${R}`)}):P[I]&&y.push(`${I}: ${P[I]}`)})}let w=0;const j=[((E=e.evidenceFiles)==null?void 0:E.length)||0,(($=(k=e.evidenceChecklist)==null?void 0:k.filter(P=>P.completed))==null?void 0:$.length)||0,((T=(O=e.crossMatchResults)==null?void 0:O.libraryMatches)==null?void 0:T.length)||0,v.length,y.length];w=Math.min(100,Math.round(j.reduce((P,I)=>P+I,0)/15*100));const S=[],C=[];if(e.eliminationResults&&e.eliminationResults.forEach((P,I)=>{C.push({id:`eliminated-${I}`,label:P.failureMode||`Eliminated Cause ${I+1}`,confidence:0,evidence:[P.reason||"Eliminated by analysis"],type:"evidence"})}),e.rootCauses&&Array.isArray(e.rootCauses)&&e.rootCauses.forEach((P,I)=>{var D;S.push({id:`root-cause-${I}`,label:P.description||P.title||`Root Cause ${I+1}`,confidence:P.confidence||75,evidence:P.evidence||[P.rationale||"Analysis evidence"],type:"primary",children:((D=P.contributingFactors)==null?void 0:D.map((R,V)=>({id:`factor-${I}-${V}`,label:R.description||R.name||`Contributing Factor ${V+1}`,confidence:R.confidence||70,evidence:R.evidence||[],type:"secondary"})))||[]})}),e.recommendations&&Array.isArray(e.recommendations)){const P=e.recommendations.slice(0,3).map((I,D)=>({id:`prevention-${D}`,label:I.title||I.description||`Preventive Measure ${D+1}`,confidence:90,evidence:[I.rationale||"Recommended prevention"],type:"evidence"}));P.length>0&&S.push({id:"prevention-root",label:"Preventive Measures",confidence:90,evidence:["Analysis recommendations"],type:"primary",children:P})}return S.length===0&&S.push({id:"default-factor",label:"Analysis Results",confidence:e.overallConfidence||75,evidence:["AI analysis findings"],type:"primary",children:[{id:"default-evidence",label:"Investigation Evidence",confidence:70,evidence:["Collected evidence from investigation"],type:"evidence"}]}),{id:"root",label:b,confidence:e.overallConfidence||85,evidence:["Analysis results"],type:"root",children:S,equipmentContext:m,equipmentId:g,evidenceAdequacy:w,eliminatedCauses:C,originalSymptoms:v,operatingContext:y}})(),u=(m,g,b,v)=>{const y=()=>m==="root"&&g==="primary"?"text-red-600":m==="primary"&&g==="secondary"?"text-orange-600":"text-blue-600",w=()=>m==="root"?"causes":m==="primary"?"leads to":"results in";return i.jsx("div",{className:`flex items-center justify-center my-3 ${y()}`,children:i.jsxs("div",{className:"flex items-center gap-2 bg-white px-3 py-1 rounded-full border border-gray-200 shadow-sm",children:[i.jsx("div",{className:"text-lg font-bold",children:""}),i.jsx("span",{className:"text-xs font-medium",children:w()}),i.jsx("div",{className:"text-lg font-bold",children:""})]})})},d=(m,g=0,b)=>{const v=(w,j)=>{var C;const S={root:"bg-red-50 border-red-400 text-red-900 shadow-red-100",primary:"bg-orange-50 border-orange-400 text-orange-900 shadow-orange-100",secondary:"bg-blue-50 border-blue-400 text-blue-900 shadow-blue-100",evidence:"bg-green-50 border-green-400 text-green-900 shadow-green-100",recommendation:"bg-purple-50 border-purple-400 text-purple-900 shadow-purple-100"};return j<60?((C=S[w])==null?void 0:C.replace("50","25").replace("400","300"))||"bg-gray-50 border-gray-300 text-gray-700":S[w]||"bg-gray-50 border-gray-400 text-gray-800"},y=w=>{var S,C,E;const j=[];return w.evidence&&w.evidence.length>0&&j.push(`${w.evidence.length} evidence item(s)`),(S=e==null?void 0:e.crossMatchResults)!=null&&S.libraryMatches&&j.push("Library pattern match"),(E=(C=e==null?void 0:e.eliminationResults)==null?void 0:C.eliminationReasons)!=null&&E.length&&j.push("Elimination logic applied"),w.confidence>=80?j.push("High data quality"):w.confidence>=60?j.push("Moderate data quality"):j.push("Limited data available"),`Confidence ${w.confidence}% based on: ${j.join(", ")}`};return i.jsxs("div",{className:`ml-${g*8} mb-4`,children:[b&&g>0&&u(b,m.type),i.jsxs("div",{className:`inline-block p-4 rounded-lg border-2 shadow-lg ${v(m.type,m.confidence)} max-w-md hover:shadow-xl transition-shadow cursor-help`,title:y(m),children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"font-semibold text-sm",children:m.label}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(ne,{variant:"outline",className:"text-xs font-medium",children:[m.confidence,"%"]}),i.jsx("div",{className:"text-xs px-2 py-1 bg-white/70 rounded-full",children:m.type.charAt(0).toUpperCase()+m.type.slice(1)})]})]}),m.evidence&&m.evidence.length>0&&i.jsxs("div",{className:"text-xs opacity-90 bg-white/50 p-2 rounded border mb-2",children:[i.jsx("strong",{children:"Evidence:"})," ",m.evidence[0],m.evidence.length>1&&i.jsxs("span",{className:"text-gray-600",children:[" (+",m.evidence.length-1," more)"]})]}),m.type==="root"&&m.children&&m.children.length>0&&i.jsxs("div",{className:"text-xs mt-2 p-2 bg-white/70 rounded border border-dashed",children:[i.jsx("strong",{children:"Failure Logic:"})," ",m.children.length," contributing factor",m.children.length>1?"s":""," identified"]}),i.jsx("div",{className:"text-xs mt-1 opacity-60",children:"Hover for confidence explanation"})]}),m.children&&m.children.map(w=>d(w,g+1,m.type))]},m.id)},f=(m,g)=>i.jsxs("div",{className:`p-2 rounded border ${g==="main"?"bg-red-100 border-red-300":"bg-blue-100 border-blue-300"} text-sm`,children:[i.jsx("div",{className:"font-semibold",children:m.label}),i.jsxs("div",{className:"text-xs",children:["Confidence: ",m.confidence,"%"]})]},m.id);return i.jsxs("div",{className:"w-full",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx(ea,{value:r,onValueChange:m=>a(m),children:i.jsxs(Ci,{children:[i.jsx(Ze,{value:"tree",children:"Tree View"}),i.jsx(Ze,{value:"fishbone",children:"Fishbone View"})]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(H,{variant:"outline",size:"sm",onClick:()=>o(Math.max(.5,s-.1)),children:i.jsx(zT,{className:"h-4 w-4"})}),i.jsx(H,{variant:"outline",size:"sm",onClick:()=>o(Math.min(2,s+.1)),children:i.jsx(qT,{className:"h-4 w-4"})}),i.jsx(H,{variant:"outline",size:"sm",onClick:()=>o(1),children:i.jsx(Fv,{className:"h-4 w-4"})}),i.jsx(H,{variant:"outline",size:"sm",children:i.jsx(kr,{className:"h-4 w-4"})})]})]}),i.jsx("div",{className:"bg-white border rounded-lg p-6 min-h-[400px] overflow-auto",style:{transform:`scale(${s})`,transformOrigin:"top left"},children:r==="tree"?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"text-center mb-8 bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-lg border",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Root Cause Analysis Tree"}),i.jsxs("div",{className:"bg-white p-4 rounded-lg border shadow-sm mb-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("strong",{className:"text-blue-700",children:"Equipment ID:"}),i.jsx("span",{className:"ml-2 font-mono bg-blue-50 px-2 py-1 rounded",children:c.equipmentId})]}),i.jsxs("div",{children:[i.jsx("strong",{className:"text-green-700",children:"Equipment Type:"}),i.jsx("span",{className:"ml-2 text-green-800",children:c.equipmentContext})]})]}),i.jsxs("div",{className:"mt-2 text-center",children:[i.jsx("strong",{className:"text-purple-700",children:"Analysis Confidence:"}),i.jsxs("span",{className:"ml-2 text-purple-800 font-semibold",children:[(e==null?void 0:e.overallConfidence)||0,"%"]})]})]}),i.jsxs("div",{className:"flex justify-center items-center gap-4 flex-wrap",children:[i.jsxs(ne,{variant:c.evidenceAdequacy>=80?"default":c.evidenceAdequacy>=60?"secondary":"destructive",className:"text-sm",children:["Evidence Quality: ",c.evidenceAdequacy,"%"]}),c.eliminatedCauses&&c.eliminatedCauses.length>0&&i.jsxs(ne,{variant:"outline",className:"text-sm",children:[c.eliminatedCauses.length," Causes Eliminated"]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 bg-red-200 border border-red-400 rounded"}),i.jsx("span",{children:"Root"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 bg-orange-200 border border-orange-400 rounded"}),i.jsx("span",{children:"Primary"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 bg-blue-200 border border-blue-400 rounded"}),i.jsx("span",{children:"Secondary"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-3 h-3 bg-green-200 border border-green-400 rounded"}),i.jsx("span",{children:"Evidence"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[c.originalSymptoms&&c.originalSymptoms.length>0&&i.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 p-4 rounded-lg border-2 border-blue-300 shadow-md",children:[i.jsxs("h4",{className:"font-bold text-sm text-blue-900 mb-3 flex items-center gap-2",children:[i.jsx("span",{className:"text-lg",children:""})," Initial Symptoms",i.jsx(ne,{variant:"default",className:"text-xs",children:"Starting Point"})]}),i.jsx("div",{className:"space-y-2",children:c.originalSymptoms.map((m,g)=>i.jsxs("div",{className:"flex items-center gap-2 bg-white p-2 rounded border border-blue-200",children:[i.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold text-xs",children:g+1}),i.jsx("span",{className:"text-xs font-medium text-blue-800",children:m})]},g))})]}),c.operatingContext&&c.operatingContext.length>0&&i.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:[i.jsx("h4",{className:"font-semibold text-sm text-green-800 mb-2",children:" Operating Context"}),i.jsx("ul",{className:"text-xs text-green-700 space-y-1",children:c.operatingContext.slice(0,4).map((m,g)=>i.jsxs("li",{children:[" ",m]},g))})]})]}),d(c),c.eliminatedCauses&&c.eliminatedCauses.length>0&&i.jsxs("div",{className:"mt-8 bg-gradient-to-r from-gray-50 to-red-50 p-6 rounded-lg border-2 border-dashed border-gray-300",children:[i.jsxs("h4",{className:"font-semibold text-lg text-gray-800 mb-4 flex items-center gap-2",children:[i.jsx("span",{className:"text-red-500",children:""}),"Rejected/Eliminated Causes",i.jsxs(ne,{variant:"outline",className:"ml-2",children:[c.eliminatedCauses.length," eliminated"]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.eliminatedCauses.map((m,g)=>i.jsxs("div",{className:"bg-white/60 p-4 rounded-lg border-2 border-dashed border-gray-400 opacity-70 hover:opacity-90 transition-opacity",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"w-4 h-4 bg-gray-300 rounded-full flex items-center justify-center",children:i.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full"})}),i.jsx("span",{className:"text-sm font-medium line-through text-gray-700",children:m.label}),i.jsx(ne,{variant:"destructive",className:"text-xs ml-auto",children:"REJECTED"})]}),i.jsxs("div",{className:"text-xs text-gray-600 bg-gray-100 p-2 rounded border-l-4 border-l-red-400 ml-7",children:[i.jsx("strong",{children:"Reason:"})," ",m.evidence[0]||"Engineering logic elimination"]})]},g))}),i.jsx("div",{className:"mt-4 text-xs text-gray-600 text-center italic",children:"These failure modes were systematically eliminated through engineering analysis and evidence review"})]})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Fishbone Diagram"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Cause and Effect Analysis"})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-6 relative",children:[i.jsx("div",{className:"col-span-3 flex justify-center",children:f(c,"main")}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-semibold text-sm text-center",children:"Primary Causes"}),(p=c.children)==null?void 0:p.filter(m=>m.type==="primary").slice(0,2).map(m=>f(m,"branch"))]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-semibold text-sm text-center",children:"Secondary Causes"}),(h=c.children)==null?void 0:h.filter(m=>m.type==="secondary").slice(0,2).map(m=>f(m,"branch"))]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-semibold text-sm text-center",children:"Evidence"}),(x=c.children)==null?void 0:x.filter(m=>m.type==="evidence").slice(0,2).map(m=>f(m,"branch"))]})]})]})}),i.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[i.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Legend"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-xs",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 bg-red-100 border border-red-300 rounded"}),i.jsx("span",{children:"Root Cause"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 bg-orange-100 border border-orange-300 rounded"}),i.jsx("span",{children:"Primary Factor"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 bg-blue-100 border border-blue-300 rounded"}),i.jsx("span",{children:"Secondary Factor"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 bg-gray-100 border border-gray-300 rounded"}),i.jsx("span",{children:"Evidence"})]})]})]})]})}var dN="Dialog",[TD,ebe]=Ni(dN),[$ve,Ai]=TD(dN),ID=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:s,modal:o=!0}=e,l=N.useRef(null),c=N.useRef(null),[u=!1,d]=gc({prop:r,defaultProp:a,onChange:s});return i.jsx($ve,{scope:t,triggerRef:l,contentRef:c,contentId:Ss(),titleId:Ss(),descriptionId:Ss(),open:u,onOpenChange:d,onOpenToggle:N.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};ID.displayName=dN;var RD="DialogTrigger",$D=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Ai(RD,n),s=St(t,a.triggerRef);return i.jsx(rt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":mN(a.open),...r,ref:s,onClick:Me(e.onClick,a.onOpenToggle)})});$D.displayName=RD;var fN="DialogPortal",[Mve,MD]=TD(fN,{forceMount:void 0}),DD=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,s=Ai(fN,t);return i.jsx(Mve,{scope:t,forceMount:n,children:N.Children.map(r,o=>i.jsx(Si,{present:n||s.open,children:i.jsx($v,{asChild:!0,container:a,children:o})}))})};DD.displayName=fN;var Zh="DialogOverlay",FD=N.forwardRef((e,t)=>{const n=MD(Zh,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,s=Ai(Zh,e.__scopeDialog);return s.modal?i.jsx(Si,{present:r||s.open,children:i.jsx(Fve,{...a,ref:t})}):null});FD.displayName=Zh;var Dve=vc("DialogOverlay.RemoveScroll"),Fve=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Ai(Zh,n);return i.jsx(cN,{as:Dve,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(rt.div,{"data-state":mN(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Lo="DialogContent",LD=N.forwardRef((e,t)=>{const n=MD(Lo,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,s=Ai(Lo,e.__scopeDialog);return i.jsx(Si,{present:r||s.open,children:s.modal?i.jsx(Lve,{...a,ref:t}):i.jsx(qve,{...a,ref:t})})});LD.displayName=Lo;var Lve=N.forwardRef((e,t)=>{const n=Ai(Lo,e.__scopeDialog),r=N.useRef(null),a=St(t,n.contentRef,r);return N.useEffect(()=>{const s=r.current;if(s)return F4(s)},[]),i.jsx(qD,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Me(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Me(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:Me(e.onFocusOutside,s=>s.preventDefault())})}),qve=N.forwardRef((e,t)=>{const n=Ai(Lo,e.__scopeDialog),r=N.useRef(!1),a=N.useRef(!1);return i.jsx(qD,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),qD=N.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:s,...o}=e,l=Ai(Lo,n),c=N.useRef(null),u=St(t,c);return R4(),i.jsxs(i.Fragment,{children:[i.jsx(lN,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:s,children:i.jsx(Wf,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":mN(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(zve,{titleId:l.titleId}),i.jsx(Uve,{contentRef:c,descriptionId:l.descriptionId})]})]})}),pN="DialogTitle",zD=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Ai(pN,n);return i.jsx(rt.h2,{id:a.titleId,...r,ref:t})});zD.displayName=pN;var BD="DialogDescription",UD=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Ai(BD,n);return i.jsx(rt.p,{id:a.descriptionId,...r,ref:t})});UD.displayName=BD;var VD="DialogClose",HD=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Ai(VD,n);return i.jsx(rt.button,{type:"button",...r,ref:t,onClick:Me(e.onClick,()=>a.onOpenChange(!1))})});HD.displayName=VD;function mN(e){return e?"open":"closed"}var WD="DialogTitleWarning",[tbe,GD]=e6(WD,{contentName:Lo,titleName:pN,docsSlug:"dialog"}),zve=({titleId:e})=>{const t=GD(WD),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Bve="DialogDescriptionWarning",Uve=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${GD(Bve).contentName}}.`;return N.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Vve=ID,Hve=$D,Wve=DD,KD=FD,YD=LD,QD=zD,XD=UD,Gve=HD;const Vl=Vve,Sj=Hve,Kve=Wve,ZD=N.forwardRef(({className:e,...t},n)=>i.jsx(KD,{ref:n,className:Le("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));ZD.displayName=KD.displayName;const Hl=N.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(Kve,{children:[i.jsx(ZD,{}),i.jsxs(YD,{ref:r,className:Le("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,i.jsxs(Gve,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(yc,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Hl.displayName=YD.displayName;const Wl=({className:e,...t})=>i.jsx("div",{className:Le("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Wl.displayName="DialogHeader";const Gl=N.forwardRef(({className:e,...t},n)=>i.jsx(QD,{ref:n,className:Le("text-lg font-semibold leading-none tracking-tight",e),...t}));Gl.displayName=QD.displayName;const Yve=N.forwardRef(({className:e,...t},n)=>i.jsx(XD,{ref:n,className:Le("text-sm text-muted-foreground",e),...t}));Yve.displayName=XD.displayName;const Te=N.forwardRef(({className:e,...t},n)=>i.jsx("textarea",{className:Le("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));Te.displayName="Textarea";function JD({analysisData:e,investigationType:t,onNodeUpdate:n,onNodeAdd:r,onNodeDelete:a}){const[s,o]=N.useState("tree"),[l,c]=N.useState(null),[u,d]=N.useState([]),[f,p]=N.useState(1),[h,x]=N.useState(null),m=N.useRef(null);N.useEffect(()=>{e&&g()},[e]);const g=()=>{if(!(e!=null&&e.causes))return;const O=[];if(t==="equipment_failure"){const T={id:"top-event",label:e.topEvent||"Equipment Failure",type:"top_event",confidence:e.confidence||.8,evidence:["Equipment failed during operation"],position:{x:400,y:50}};O.push(T),e.causes.forEach((P,I)=>{const D={id:`cause-${I}`,label:P.description||P.name||"Unknown Cause",type:P.type==="root"?"root_cause":"contributing_factor",confidence:P.confidence||.7,evidence:P.evidence||[],parent:"top-event",category:P.category||"Technical",position:{x:200+I*250,y:200}};O.push(D),P.subCauses&&P.subCauses.forEach((R,V)=>{const q={id:`subcause-${I}-${V}`,label:R.description||R.name,type:"immediate_cause",confidence:R.confidence||.6,evidence:R.evidence||[],parent:`cause-${I}`,position:{x:150+I*250+V*100,y:350}};O.push(q)})})}else{const T={id:"incident",label:"Safety Incident",type:"top_event",confidence:1,evidence:["Incident occurred"],position:{x:400,y:50}};O.push(T),e.eventSequence&&e.eventSequence.forEach((P,I)=>{const D={id:`event-${I}`,label:P.description,type:"contributing_factor",confidence:P.confidence||.8,evidence:P.evidence||[],parent:I===0?"incident":`event-${I-1}`,position:{x:200+I*200,y:150+I*50}};O.push(D)})}d(O)},b=O=>{c(O)},v=O=>{x(O)},y=O=>{if(h){const T=u.map(P=>P.id===h.id?{...P,...O}:P);d(T),n(h.id,O),x(null)}},w=O=>{const T={label:"New Cause",type:"contributing_factor",confidence:.5,evidence:[],parent:O.id,position:{x:O.position.x+100,y:O.position.y+150}},P={...T,id:(()=>{const I=new Date().getTime(),D=I%1e4;return`new-${I}-${D}`})()};d([...u,P]),r(O.id,T)},j=()=>(u.filter(O=>!O.parent||O.type==="top_event"),i.jsx("div",{className:"relative w-full h-96 overflow-auto border rounded-lg bg-gray-50",children:i.jsxs("svg",{ref:m,width:"800",height:"600",viewBox:"0 0 800 600",className:"w-full h-full",style:{transform:`scale(${f})`},children:[u.map(O=>{if(!O.parent||!O.position)return null;const T=u.find(P=>P.id===O.parent);return T!=null&&T.position?i.jsx("line",{x1:T.position.x,y1:T.position.y+30,x2:O.position.x,y2:O.position.y,stroke:"#6b7280",strokeWidth:"2",markerEnd:"url(#arrowhead)"},`line-${O.id}`):null}),i.jsx("defs",{children:i.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:i.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#6b7280"})})}),u.map(O=>{if(!O.position)return null;const T=k(O.type),P=(l==null?void 0:l.id)===O.id;return i.jsxs("g",{children:[i.jsx("rect",{x:O.position.x-60,y:O.position.y-15,width:"120",height:"30",rx:"5",fill:T,stroke:P?"#2563eb":"#d1d5db",strokeWidth:P?"3":"1",className:"cursor-pointer",onClick:()=>b(O)}),i.jsx("text",{x:O.position.x,y:O.position.y+5,textAnchor:"middle",fontSize:"12",fill:"white",className:"pointer-events-none",children:O.label.length>15?O.label.substring(0,15)+"...":O.label}),i.jsx("circle",{cx:O.position.x+50,cy:O.position.y-10,r:"8",fill:"#059669",className:"cursor-pointer",onClick:()=>b(O)}),i.jsxs("text",{x:O.position.x+50,y:O.position.y-6,textAnchor:"middle",fontSize:"8",fill:"white",className:"pointer-events-none",children:[Math.round(O.confidence*100),"%"]})]},O.id)})]})})),S=()=>{const O=["People","Process","Equipment","Environment","Materials","Methods"],T=u.find(P=>P.type==="top_event");return i.jsx("div",{className:"relative w-full h-96 overflow-auto border rounded-lg bg-gray-50",children:i.jsxs("svg",{width:"800",height:"400",viewBox:"0 0 800 400",className:"w-full h-full",children:[i.jsx("line",{x1:"100",y1:"200",x2:"700",y2:"200",stroke:"#374151",strokeWidth:"4"}),i.jsx("rect",{x:"680",y:"170",width:"100",height:"60",rx:"5",fill:"#dc2626",stroke:"#991b1b",strokeWidth:"2"}),i.jsx("text",{x:"730",y:"190",textAnchor:"middle",fontSize:"12",fill:"white",children:(T==null?void 0:T.label)||"Problem"}),i.jsx("text",{x:"730",y:"205",textAnchor:"middle",fontSize:"10",fill:"white",children:"Event"}),O.map((P,I)=>{const D=I%2===0,R=150+I*90,V=200,q=D?120:280,B=u.filter(W=>W.category===P||P==="Equipment"&&W.type!=="top_event").slice(0,3);return i.jsxs("g",{children:[i.jsx("line",{x1:R,y1:V,x2:R,y2:q,stroke:"#6b7280",strokeWidth:"3"}),i.jsx("rect",{x:R-30,y:q-15,width:"60",height:"30",rx:"3",fill:"#3b82f6",stroke:"#1e40af"}),i.jsx("text",{x:R,y:q+5,textAnchor:"middle",fontSize:"10",fill:"white",children:P}),B.map((W,Z)=>{const te=R+(-60+Z*30),fe=q+(D?-40:40);return i.jsxs("g",{children:[i.jsx("line",{x1:R,y1:q,x2:te,y2:fe,stroke:"#9ca3af",strokeWidth:"2"}),i.jsx("rect",{x:te-25,y:fe-10,width:"50",height:"20",rx:"3",fill:k(W.type),className:"cursor-pointer",onClick:()=>b(W)}),i.jsx("text",{x:te,y:fe+5,textAnchor:"middle",fontSize:"8",fill:"white",className:"pointer-events-none",children:W.label.substring(0,8)})]},W.id)})]},P)})]})})},C=()=>{const O=u.filter(T=>T.type!=="top_event").sort((T,P)=>T.id.localeCompare(P.id));return i.jsx("div",{className:"relative w-full h-96 overflow-auto border rounded-lg bg-gray-50",children:i.jsxs("svg",{width:"800",height:"300",viewBox:"0 0 800 300",className:"w-full h-full",children:[i.jsx("line",{x1:"50",y1:"150",x2:"750",y2:"150",stroke:"#374151",strokeWidth:"3"}),O.map((T,P)=>{const I=80+P*120,D=150,R=P%2===0,V=R?D-40:D+60;return i.jsxs("g",{children:[i.jsx("circle",{cx:I,cy:D,r:"8",fill:k(T.type),stroke:"#ffffff",strokeWidth:"2",className:"cursor-pointer",onClick:()=>b(T)}),i.jsx("line",{x1:I,y1:D,x2:I,y2:V+(R?15:-15),stroke:"#6b7280",strokeWidth:"2"}),i.jsx("rect",{x:I-40,y:V-15,width:"80",height:"30",rx:"5",fill:k(T.type),stroke:"#d1d5db",className:"cursor-pointer",onClick:()=>b(T)}),i.jsx("text",{x:I,y:V,textAnchor:"middle",fontSize:"10",fill:"white",children:T.label.substring(0,12)}),i.jsxs("text",{x:I,y:V+10,textAnchor:"middle",fontSize:"8",fill:"white",children:[Math.round(T.confidence*100),"%"]})]},T.id)})]})})},E=()=>{const O=u.find(I=>I.type==="top_event"),T=u.filter(I=>I.type==="root_cause"),P=u.filter(I=>I.type==="contributing_factor");return i.jsx("div",{className:"relative w-full h-96 overflow-auto border rounded-lg bg-gray-50",children:i.jsxs("svg",{width:"800",height:"400",viewBox:"0 0 800 400",className:"w-full h-full",children:[i.jsx("rect",{x:"350",y:"175",width:"100",height:"50",rx:"5",fill:"#dc2626",stroke:"#991b1b",strokeWidth:"2"}),i.jsx("text",{x:"400",y:"195",textAnchor:"middle",fontSize:"12",fill:"white",children:(O==null?void 0:O.label)||"Top Event"}),i.jsx("text",{x:"400",y:"210",textAnchor:"middle",fontSize:"10",fill:"white",children:"Failure"}),T.map((I,D)=>{const R=100+D*60;return i.jsxs("g",{children:[i.jsx("line",{x1:"250",y1:R+15,x2:"350",y2:"200",stroke:"#6b7280",strokeWidth:"2"}),i.jsx("rect",{x:"150",y:R,width:"100",height:"30",rx:"5",fill:"#f59e0b",className:"cursor-pointer",onClick:()=>b(I)}),i.jsx("text",{x:"200",y:R+20,textAnchor:"middle",fontSize:"10",fill:"white",children:I.label.substring(0,15)})]},I.id)}),P.map((I,D)=>{const R=100+D*60;return i.jsxs("g",{children:[i.jsx("line",{x1:"450",y1:"200",x2:"550",y2:R+15,stroke:"#6b7280",strokeWidth:"2"}),i.jsx("rect",{x:"550",y:R,width:"100",height:"30",rx:"5",fill:"#ef4444",className:"cursor-pointer",onClick:()=>b(I)}),i.jsx("text",{x:"600",y:R+20,textAnchor:"middle",fontSize:"10",fill:"white",children:I.label.substring(0,15)})]},I.id)})]})})},k=O=>{switch(O){case"root_cause":return"#dc2626";case"contributing_factor":return"#f59e0b";case"immediate_cause":return"#3b82f6";case"top_event":return"#7c2d12";case"barrier":return"#059669";case"threat":return"#b45309";default:return"#6b7280"}},$=O=>{switch(O){case"root_cause":return"Root Cause";case"contributing_factor":return"Contributing Factor";case"immediate_cause":return"Immediate Cause";case"top_event":return"Top Event";case"barrier":return"Barrier";case"threat":return"Threat";default:return"Unknown"}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Interactive RCA Diagrams"}),i.jsxs(ne,{variant:"outline",children:[u.length," nodes"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(H,{variant:"outline",size:"sm",onClick:()=>p(Math.max(.5,f-.1)),children:i.jsx(zT,{className:"h-4 w-4"})}),i.jsxs("span",{className:"text-sm font-mono",children:[Math.round(f*100),"%"]}),i.jsx(H,{variant:"outline",size:"sm",onClick:()=>p(Math.min(2,f+.1)),children:i.jsx(qT,{className:"h-4 w-4"})}),i.jsx(H,{variant:"outline",size:"sm",onClick:()=>p(1),children:i.jsx(Fv,{className:"h-4 w-4"})}),i.jsxs(H,{variant:"outline",size:"sm",children:[i.jsx(kr,{className:"h-4 w-4 mr-1"}),"Export"]})]})]}),i.jsxs(ea,{value:s,onValueChange:O=>o(O),children:[i.jsxs(Ci,{className:"grid w-full grid-cols-4",children:[i.jsxs(Ze,{value:"tree",className:"flex items-center gap-2",children:[i.jsx(o8,{className:"h-4 w-4"}),"RCA Tree"]}),i.jsxs(Ze,{value:"fishbone",className:"flex items-center gap-2",children:[i.jsx(Dd,{className:"h-4 w-4"}),"Fishbone"]}),i.jsxs(Ze,{value:"timeline",className:"flex items-center gap-2",children:[i.jsx(Oo,{className:"h-4 w-4"}),"Timeline"]}),i.jsxs(Ze,{value:"bowtie",className:"flex items-center gap-2",children:[i.jsx(ru,{className:"h-4 w-4"}),"Bowtie"]})]}),i.jsx(tt,{value:"tree",children:i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsx(se,{children:"Fault Tree Analysis"})}),i.jsx(re,{children:j()})]})}),i.jsx(tt,{value:"fishbone",children:i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsx(se,{children:"Fishbone Diagram"})}),i.jsx(re,{children:S()})]})}),i.jsx(tt,{value:"timeline",children:i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsx(se,{children:"ECFA Timeline"})}),i.jsx(re,{children:C()})]})}),i.jsx(tt,{value:"bowtie",children:i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsx(se,{children:"Bowtie Analysis"})}),i.jsx(re,{children:E()})]})})]}),l&&i.jsxs(ee,{className:"border-blue-200",children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Md,{className:"h-5 w-5 text-blue-600"}),"Node Details: ",l.label]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(H,{variant:"outline",size:"sm",onClick:()=>v(l),children:[i.jsx(Vr,{className:"h-4 w-4 mr-1"}),"Edit"]}),i.jsxs(H,{variant:"outline",size:"sm",onClick:()=>w(l),children:[i.jsx(Un,{className:"h-4 w-4 mr-1"}),"Add Child"]})]})]})}),i.jsx(re,{children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Type"}),i.jsx(ne,{variant:"outline",children:$(l.type)})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Confidence"}),i.jsxs("div",{className:"text-lg font-bold text-green-600",children:[Math.round(l.confidence*100),"%"]})]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Supporting Evidence"}),i.jsx("div",{className:"space-y-1",children:l.evidence.length>0?l.evidence.map((O,T)=>i.jsx("div",{className:"text-sm text-gray-700 bg-gray-50 p-2 rounded",children:O},T)):i.jsx("div",{className:"text-sm text-gray-500 italic",children:"No evidence recorded"})})]})]})})]}),i.jsx(Vl,{open:!!h,onOpenChange:O=>!O&&x(null),children:i.jsxs(Hl,{children:[i.jsx(Wl,{children:i.jsxs(Gl,{children:["Edit Node: ",h==null?void 0:h.label]})}),h&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Label"}),i.jsx(ke,{defaultValue:h.label,onChange:O=>x({...h,label:O.target.value})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Confidence (0-1)"}),i.jsx(ke,{type:"number",min:"0",max:"1",step:"0.1",defaultValue:h.confidence,onChange:O=>x({...h,confidence:parseFloat(O.target.value)})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Evidence (one per line)"}),i.jsx(Te,{defaultValue:h.evidence.join(`
`),onChange:O=>x({...h,evidence:O.target.value.split(`
`).filter(T=>T.trim())}),rows:4})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(H,{variant:"outline",onClick:()=>x(null),children:"Cancel"}),i.jsx(H,{onClick:()=>y(h),children:"Save Changes"})]})]})]})})]})}var Qve="Label",eF=N.forwardRef((e,t)=>i.jsx(rt.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));eF.displayName=Qve;var tF=eF;const Xve=Kf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ve=N.forwardRef(({className:e,...t},n)=>i.jsx(tF,{ref:n,className:Le(Xve(),e),...t}));ve.displayName=tF.displayName;function Zve({analysis:e,onComplete:t}){const[n,r]=N.useState({}),[a,s]=N.useState(!1),{toast:o}=Cn(),l=Wo(),u=(()=>{var g;const h=[];e.equipmentType;const x=e.operatingParameters;(!e.rootCause||e.rootCause.length<20)&&h.push({id:"failure_mode",question:`Can you provide more specific details about what exactly failed in ${e.equipmentId}? (e.g., bearing failure, seal leak, electrical fault)`,type:"text",required:!0,context:"Root cause analysis requires specific failure mode identification"}),x!=null&&x.runtime||(h.push({id:"runtime_hours",question:"How long has the equipment been running since last maintenance?",type:"select",options:["< 1 week","1-4 weeks","1-3 months","3-6 months","6-12 months","> 1 year","Unknown"],required:!1,context:"Runtime hours help establish wear patterns and maintenance intervals"}),h.push({id:"duty_cycle",question:"What is the typical duty cycle of this equipment?",type:"select",options:["Continuous (24/7)","Heavy duty (16-20 hrs/day)","Normal duty (8-12 hrs/day)","Light duty (< 8 hrs/day)","Intermittent/on-demand","Unknown"],required:!1,context:"Duty cycle affects equipment stress and expected life"})),x!=null&&x.environmental||h.push({id:"environmental_factors",question:"What environmental conditions might have contributed to the failure?",type:"multiselect",options:["High temperature","High humidity","Corrosive atmosphere","Dusty environment","Vibration from nearby equipment","Frequent temperature cycling","Chemical exposure","No environmental issues"],required:!1,context:"Environmental factors significantly impact equipment reliability and failure modes"});const m=e.historicalData;return(g=m==null?void 0:m.eventMetadata)!=null&&g.active_alarms||h.push({id:"alarms_before_failure",question:"Were there any alarms or warnings before the failure occurred?",type:"multiselect",options:["High temperature alarm","High vibration alarm","Low pressure alarm","High pressure alarm","Flow deviation alarm","Power consumption alarm","No alarms","Unknown"],required:!1,context:"Alarm history provides critical sequence of events leading to failure"}),(!e.location||e.location.length<10)&&h.push({id:"environment",question:"Please describe the environmental conditions where this equipment operates (temperature, humidity, contamination, etc.)",type:"text",required:!1,context:"Environmental factors significantly impact equipment reliability"}),(!(m!=null&&m.maintenanceRecords)||m.maintenanceRecords.length===0)&&h.push({id:"maintenance_history",question:"When was the last maintenance performed on this equipment and what type of work was done?",type:"text",required:!1,context:"Maintenance history helps identify patterns and potential causes"}),h.push({id:"failure_timing",question:"When did you first notice signs of this problem?",type:"select",options:["Just happened","1-7 days ago","1-4 weeks ago","1-3 months ago","Ongoing issue","Not sure"],required:!0,context:"Failure timeline helps establish causation"}),h.push({id:"operational_changes",question:"Have there been any recent changes to operations, maintenance, or environment that might be related?",type:"text",required:!1,context:"Recent changes often contribute to equipment failures"}),h})(),d=Je({mutationFn:async({id:h,updates:x})=>gt(`/api/analyses/${h}`,{method:"PATCH",body:JSON.stringify(x),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{l.invalidateQueries({queryKey:["/api/analyses"]}),l.invalidateQueries({queryKey:[`/api/analyses/${e.id}`]}),o({title:"Analysis Updated",description:"Additional evidence has been incorporated into the analysis."}),t==null||t()},onError:()=>{o({title:"Update Failed",description:"Failed to update analysis with additional evidence.",variant:"destructive"})}}),f=async()=>{if(s(!0),u.filter(g=>g.required).filter(g=>!n[g.id]||n[g.id].trim()==="").length>0){o({title:"Missing Required Information",description:"Please answer all required questions before submitting.",variant:"destructive"}),s(!1);return}const x={gatheringResponses:n,enhancedContext:u.reduce((g,b)=>(n[b.id]&&(g[b.id]={question:b.question,answer:n[b.id],context:b.context}),g),{})},m={...e,status:"processing",evidenceGathering:x,confidence:Math.min(95,(e.confidence||0)+10)};setTimeout(async()=>{let g=e.rootCause||"";n.failure_mode&&(g=`${n.failure_mode}. Contributing factors: `),n.operational_changes&&(g+=`Recent operational changes (${n.operational_changes}) likely contributed to the failure. `),n.maintenance_history&&(g+=`Maintenance history indicates: ${n.maintenance_history}. `);const b={...m,status:"completed",rootCause:g||e.rootCause,confidence:Math.min(98,(e.confidence||0)+15),completedAt:new Date().toISOString()};await d.mutateAsync({id:e.id,updates:b}),s(!1)},3e3)},p=(h,x)=>{r(m=>({...m,[h]:x}))};return u.length===0?i.jsx(ee,{children:i.jsx(re,{className:"p-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Yt,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Analysis Complete"}),i.jsx("p",{className:"text-muted-foreground",children:"Sufficient evidence has been gathered for this root cause analysis."})]})})}):i.jsxs(ee,{className:"w-full",children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center space-x-2",children:[i.jsx(DT,{className:"w-5 h-5"}),i.jsx("span",{children:"Interactive Evidence Gathering"}),i.jsx(ne,{variant:"outline",children:"AI-Powered"})]})}),i.jsxs(re,{className:"space-y-6",children:[i.jsxs(Qt,{children:[i.jsx(Ki,{className:"h-4 w-4"}),i.jsx(Xt,{children:"Our AI has identified areas where additional information could improve the root cause analysis accuracy. Please answer the following questions to enhance the analysis."})]}),i.jsx("div",{className:"space-y-6",children:u.map((h,x)=>{var m,g;return i.jsx("div",{className:"space-y-3",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-semibold text-sm mt-1",children:x+1}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsxs(ve,{className:"text-sm font-medium",children:[h.question,h.required&&i.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),i.jsx("p",{className:"text-xs text-muted-foreground italic",children:h.context}),h.type==="text"&&i.jsx(Te,{value:n[h.id]||"",onChange:b=>p(h.id,b.target.value),placeholder:"Please provide details...",className:"min-h-[80px]"}),h.type==="number"&&i.jsx(ke,{type:"number",value:n[h.id]||"",onChange:b=>p(h.id,b.target.value),placeholder:"Enter value..."}),h.type==="select"&&i.jsxs("select",{value:n[h.id]||"",onChange:b=>p(h.id,b.target.value),className:"w-full p-2 border border-gray-300 rounded-md bg-white",children:[i.jsx("option",{value:"",children:"Select an option..."}),(m=h.options)==null?void 0:m.map(b=>i.jsx("option",{value:b,children:b},b))]}),h.type==="multiselect"&&i.jsx("div",{className:"space-y-2",children:(g=h.options)==null?void 0:g.map(b=>{var v;return i.jsxs("label",{className:"flex items-center space-x-2 text-sm",children:[i.jsx("input",{type:"checkbox",checked:((v=n[h.id])==null?void 0:v.includes(b))||!1,onChange:y=>{const w=n[h.id]||"",j=w?w.split(", "):[];y.target.checked?p(h.id,[...j,b].join(", ")):p(h.id,j.filter(S=>S!==b).join(", "))}}),i.jsx("span",{children:b})]},b)})})]})]})},h.id)})}),i.jsxs("div",{className:"flex justify-between items-center pt-6 border-t",children:[i.jsxs("div",{className:"text-sm text-muted-foreground",children:[u.filter(h=>h.required).length," required questions ",u.filter(h=>n[h.id]).length,"/",u.length," answered"]}),i.jsx(H,{onClick:f,disabled:a,className:"min-w-[120px]",children:a?i.jsxs(i.Fragment,{children:[i.jsx(Oo,{className:"w-4 h-4 mr-2 animate-spin"}),"Re-analyzing..."]}):"Update Analysis"})]})]})]})}function Jve({analysis:e,onSave:t,onCancel:n}){const[r,a]=N.useState({issueDescription:e.issueDescription,rootCause:e.rootCause,confidence:e.confidence,priority:e.priority,recommendations:e.recommendations||[],equipmentType:e.equipmentType,equipmentId:e.equipmentId,location:e.location}),[s,o]=N.useState(""),[l,c]=N.useState(""),[u,d]=N.useState(!1),{toast:f}=Cn(),p=Wo(),h=Je({mutationFn:async({id:y,updates:w})=>gt(`/api/analyses/${y}`,{method:"PATCH",body:JSON.stringify(w),headers:{"Content-Type":"application/json"}}),onSuccess:y=>{p.invalidateQueries({queryKey:["/api/analyses"]}),p.invalidateQueries({queryKey:[`/api/analyses/${e.id}`]}),f({title:"Analysis Updated",description:"Your manual adjustments have been saved successfully."}),t==null||t(y)},onError:()=>{f({title:"Update Failed",description:"Failed to save manual adjustments. Please try again.",variant:"destructive"})}}),x=async()=>{if(!l.trim()){f({title:"Adjustment Reason Required",description:"Please provide a reason for the manual adjustment for audit purposes.",variant:"destructive"});return}d(!0);const y={timestamp:new Date().toISOString(),user:"Current User",reason:l,changes:Object.keys(r).reduce((j,S)=>{const C=e[S],E=r[S];return JSON.stringify(C)!==JSON.stringify(E)&&(j[S]={from:C,to:E}),j},{}),version:e.version?e.version+1:2},w={...r,adjustmentHistory:[...e.adjustmentHistory||[],y],lastModifiedAt:new Date().toISOString(),status:"completed"};await h.mutateAsync({id:e.id,updates:w}),d(!1)},m=()=>{a({issueDescription:e.issueDescription,rootCause:e.rootCause,confidence:e.confidence,priority:e.priority,recommendations:e.recommendations||[],equipmentType:e.equipmentType,equipmentId:e.equipmentId,location:e.location}),c(""),o("")},g=()=>{s.trim()&&(a(y=>({...y,recommendations:[...y.recommendations||[],s.trim()]})),o(""))},b=y=>{a(w=>({...w,recommendations:(w.recommendations||[]).filter((j,S)=>S!==y)}))},v=Object.keys(r).some(y=>{const w=e[y],j=r[y];return JSON.stringify(w)!==JSON.stringify(j)});return i.jsxs(ee,{className:"w-full",children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center space-x-2",children:[i.jsx(qv,{className:"w-5 h-5"}),i.jsx("span",{children:"Manual Analysis Adjustment"}),i.jsx(ne,{variant:"outline",children:"Expert Override"})]})}),i.jsxs(re,{className:"space-y-6",children:[i.jsxs(Qt,{children:[i.jsx(xt,{className:"h-4 w-4"}),i.jsx(Xt,{children:"Manual adjustments will be recorded in the audit trail. Please provide a clear reason for modifications."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{htmlFor:"issue-desc",children:"Issue Description"}),i.jsx(Te,{id:"issue-desc",value:r.issueDescription||"",onChange:y=>a(w=>({...w,issueDescription:y.target.value})),placeholder:"Describe the issue...",className:"min-h-[80px]"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{htmlFor:"equipment-type",children:"Equipment Type"}),i.jsxs(ut,{value:r.equipmentType||"",onValueChange:y=>a(w=>({...w,equipmentType:y})),children:[i.jsx(ot,{children:i.jsx(dt,{placeholder:"Select equipment type"})}),i.jsxs(lt,{children:[i.jsx(X,{value:"pump",children:"Pump"}),i.jsx(X,{value:"motor",children:"Motor"}),i.jsx(X,{value:"compressor",children:"Compressor"}),i.jsx(X,{value:"conveyor",children:"Conveyor"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{htmlFor:"equipment-id",children:"Equipment ID"}),i.jsx(ke,{id:"equipment-id",value:r.equipmentId||"",onChange:y=>a(w=>({...w,equipmentId:y.target.value})),placeholder:"e.g., PUMP-A001"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{htmlFor:"location",children:"Location"}),i.jsx(ke,{id:"location",value:r.location||"",onChange:y=>a(w=>({...w,location:y.target.value})),placeholder:"e.g., Building A - Level 2"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{htmlFor:"root-cause",children:"Root Cause Analysis"}),i.jsx(Te,{id:"root-cause",value:r.rootCause||"",onChange:y=>a(w=>({...w,rootCause:y.target.value})),placeholder:"Detailed root cause analysis...",className:"min-h-[120px]"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{htmlFor:"priority",children:"Priority Level"}),i.jsxs(ut,{value:r.priority||"",onValueChange:y=>a(w=>({...w,priority:y})),children:[i.jsx(ot,{children:i.jsx(dt,{placeholder:"Select priority"})}),i.jsxs(lt,{children:[i.jsx(X,{value:"low",children:"Low"}),i.jsx(X,{value:"medium",children:"Medium"}),i.jsx(X,{value:"high",children:"High"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{htmlFor:"confidence",children:"Confidence Score (%)"}),i.jsx(ke,{id:"confidence",type:"number",min:"0",max:"100",value:r.confidence||"",onChange:y=>a(w=>({...w,confidence:parseInt(y.target.value)||0})),placeholder:"0-100"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(ve,{children:"Recommendations"}),i.jsx("div",{className:"space-y-2",children:(r.recommendations||[]).map((y,w)=>i.jsxs("div",{className:"flex items-center space-x-2 p-3 border rounded-lg",children:[i.jsx("span",{className:"flex-1 text-sm",children:y}),i.jsx(H,{variant:"ghost",size:"sm",onClick:()=>b(w),className:"text-red-600 hover:text-red-800",children:"Remove"})]},w))}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(ke,{value:s,onChange:y=>o(y.target.value),placeholder:"Add new recommendation...",onKeyPress:y=>y.key==="Enter"&&g()}),i.jsx(H,{onClick:g,variant:"outline",children:"Add"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{htmlFor:"reason",children:"Reason for Manual Adjustment *"}),i.jsx(Te,{id:"reason",value:l,onChange:y=>c(y.target.value),placeholder:"Explain why manual adjustment is needed (required for audit trail)...",className:"min-h-[80px]"})]}),i.jsxs("div",{className:"flex justify-between items-center pt-6 border-t",children:[i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(H,{variant:"outline",onClick:m,children:[i.jsx(Fv,{className:"w-4 h-4 mr-2"}),"Reset Changes"]}),n&&i.jsx(H,{variant:"ghost",onClick:n,children:"Cancel"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[v&&i.jsxs("div",{className:"flex items-center text-sm text-yellow-600",children:[i.jsx(xt,{className:"w-4 h-4 mr-1"}),"Unsaved changes"]}),i.jsx(H,{onClick:x,disabled:!v||!l.trim()||u,className:"min-w-[120px]",children:u?i.jsxs(i.Fragment,{children:[i.jsx(Yt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ml,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]})]})]})]})}var ege=Lj[" useInsertionEffect ".trim().toString()]||xn;function tge({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,s,o]=nge({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:a;{const d=N.useRef(e!==void 0);N.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=N.useCallback(d=>{var f;if(l){const p=rge(d)?d(e):d;p!==e&&((f=o.current)==null||f.call(o,p))}else s(d)},[l,e,s,o]);return[c,u]}function nge({defaultProp:e,onChange:t}){const[n,r]=N.useState(e),a=N.useRef(n),s=N.useRef(t);return ege(()=>{s.current=t},[t]),N.useEffect(()=>{var o;a.current!==n&&((o=s.current)==null||o.call(s,n),a.current=n)},[n,a]),[n,r,s]}function rge(e){return typeof e=="function"}function ige(e,t){return N.useReducer((n,r)=>t[n][r]??n,e)}var nF=e=>{const{present:t,children:n}=e,r=age(t),a=typeof n=="function"?n({present:r.isPresent}):N.Children.only(n),s=St(r.ref,sge(a));return typeof n=="function"||r.isPresent?N.cloneElement(a,{ref:s}):null};nF.displayName="Presence";function age(e){const[t,n]=N.useState(),r=N.useRef(null),a=N.useRef(e),s=N.useRef("none"),o=e?"mounted":"unmounted",[l,c]=ige(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const u=Xp(r.current);s.current=l==="mounted"?u:"none"},[l]),xn(()=>{const u=r.current,d=a.current;if(d!==e){const p=s.current,h=Xp(u);e?c("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),xn(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=h=>{const m=Xp(r.current).includes(h.animationName);if(h.target===t&&m&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},p=h=>{h.target===t&&(s.current=Xp(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:N.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Xp(e){return(e==null?void 0:e.animationName)||"none"}function sge(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function oge(e){const t=lge(e),n=N.forwardRef((r,a)=>{const{children:s,...o}=r,l=N.Children.toArray(s),c=l.find(uge);if(c){const u=c.props.children,d=l.map(f=>f===c?N.Children.count(u)>1?N.Children.only(null):N.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:N.isValidElement(u)?N.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return n.displayName=`${e}.Slot`,n}function lge(e){const t=N.forwardRef((n,r)=>{const{children:a,...s}=n;if(N.isValidElement(a)){const o=fge(a),l=dge(s,a.props);return a.type!==N.Fragment&&(l.ref=r?Rv(r,o):o),N.cloneElement(a,l)}return N.Children.count(a)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var cge=Symbol("radix.slottable");function uge(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===cge}function dge(e,t){const n={...t};for(const r in t){const a=e[r],s=t[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...s}:r==="className"&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...e,...n}}function fge(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var pge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],hN=pge.reduce((e,t)=>{const n=oge(`Primitive.${t}`),r=N.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Yg="Checkbox",[mge,nbe]=Ni(Yg),[hge,vN]=mge(Yg);function vge(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:a,disabled:s,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[p,h]=tge({prop:n,defaultProp:a??!1,onChange:c,caller:Yg}),[x,m]=N.useState(null),[g,b]=N.useState(null),v=N.useRef(!1),y=x?!!o||!!x.closest("form"):!0,w={checked:p,disabled:s,setChecked:h,control:x,setControl:m,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:v,required:u,defaultChecked:As(a)?!1:a,isFormControl:y,bubbleInput:g,setBubbleInput:b};return i.jsx(hge,{scope:t,...w,children:gge(f)?f(w):r})}var rF="CheckboxTrigger",iF=N.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},a)=>{const{control:s,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:h,bubbleInput:x}=vN(rF,e),m=St(a,d),g=N.useRef(c);return N.useEffect(()=>{const b=s==null?void 0:s.form;if(b){const v=()=>f(g.current);return b.addEventListener("reset",v),()=>b.removeEventListener("reset",v)}},[s,f]),i.jsx(hN.button,{type:"button",role:"checkbox","aria-checked":As(c)?"mixed":c,"aria-required":u,"data-state":cF(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:m,onKeyDown:Me(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Me(n,b=>{f(v=>As(v)?!0:!v),x&&h&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})})});iF.displayName=rF;var gN=N.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:s,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return i.jsx(vge,{__scopeCheckbox:n,checked:a,defaultChecked:s,disabled:l,required:o,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:p})=>i.jsxs(i.Fragment,{children:[i.jsx(iF,{...f,ref:t,__scopeCheckbox:n}),p&&i.jsx(lF,{__scopeCheckbox:n})]})})});gN.displayName=Yg;var aF="CheckboxIndicator",sF=N.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...a}=e,s=vN(aF,n);return i.jsx(nF,{present:r||As(s.checked)||s.checked===!0,children:i.jsx(hN.span,{"data-state":cF(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});sF.displayName=aF;var oF="CheckboxBubbleInput",lF=N.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:a,checked:s,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:p,setBubbleInput:h}=vN(oF,e),x=St(n,h),m=M4(s),g=cI(r);N.useEffect(()=>{const v=p;if(!v)return;const y=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(y,"checked").set,S=!a.current;if(m!==s&&j){const C=new Event("click",{bubbles:S});v.indeterminate=As(s),j.call(v,As(s)?!1:s),v.dispatchEvent(C)}},[p,m,s,a]);const b=N.useRef(As(s)?!1:s);return i.jsx(hN.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:x,style:{...t.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});lF.displayName=oF;function gge(e){return typeof e=="function"}function As(e){return e==="indeterminate"}function cF(e){return As(e)?"indeterminate":e?"checked":"unchecked"}const vr=N.forwardRef(({className:e,...t},n)=>i.jsx(gN,{ref:n,className:Le("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(sF,{className:Le("flex items-center justify-center text-current"),children:i.jsx(IT,{className:"h-4 w-4"})})}));vr.displayName=gN.displayName;function xge({analysis:e}){const[t,n]=N.useState({format:"pdf",sections:{summary:!0,rcaTree:!0,recommendations:!0,operatingParams:!0,historicalData:!1,evidenceGathering:!1,auditTrail:!1},includeCharts:!0,includeBranding:!0}),[r,a]=N.useState(!1),{toast:s}=Cn(),o=[{value:"pdf",label:"PDF Report",icon:vn,description:"Professional PDF document"},{value:"word",label:"Word Document",icon:J6,description:"Editable Microsoft Word format"},{value:"excel",label:"Excel Workbook",icon:RT,description:"Data tables and charts"},{value:"image",label:"High-Res Image",icon:n8,description:"PNG image for presentations"}],l=[{key:"summary",label:"Executive Summary",description:"Key findings and recommendations"},{key:"rcaTree",label:"RCA Tree Diagram",description:"Visual root cause analysis"},{key:"recommendations",label:"Action Items",description:"Detailed recommendations"},{key:"operatingParams",label:"Operating Parameters",description:"Equipment data and metrics"},{key:"historicalData",label:"Historical Analysis",description:"Maintenance and failure history"},{key:"evidenceGathering",label:"Evidence Gathering",description:"Q&A responses and context"},{key:"auditTrail",label:"Audit Trail",description:"Version history and changes"}],c=async()=>{a(!0);try{await new Promise(v=>setTimeout(v,parseInt("3000")));const h=`RCA_${e.analysisId}_${new Date().toISOString().split("T")[0]}.${t.format}`,x=u(),m=new Blob([x],{type:d(t.format)}),g=URL.createObjectURL(m),b=document.createElement("a");b.href=g,b.download=h,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(g),s({title:"Report Generated",description:`Your ${t.format.toUpperCase()} report has been downloaded successfully.`})}catch{s({title:"Export Failed",description:"Failed to generate report. Please try again.",variant:"destructive"})}finally{a(!1)}},u=()=>{var x,m;const h=[];if(t.sections.summary&&h.push(`
=== EXECUTIVE SUMMARY ===
Analysis ID: ${e.analysisId}
Equipment: ${e.equipmentId} (${e.equipmentType})
Location: ${e.location}
Issue: ${e.issueDescription}
Root Cause: ${e.rootCause}
Confidence: ${e.confidence}%
Priority: ${e.priority}
Status: ${e.status}
Completed: ${e.completedAt?new Date(e.completedAt).toLocaleString():"In Progress"}
      `),t.sections.recommendations&&h.push(`
=== RECOMMENDATIONS ===
${(e.recommendations||[]).map((g,b)=>`${b+1}. ${g}`).join(`
`)}
      `),t.sections.operatingParams&&e.operatingParameters){const g=e.operatingParameters;h.push(`
=== OPERATING PARAMETERS ===
${Object.entries(g).map(([b,v])=>typeof v=="object"&&v!==null?`${b.toUpperCase()}:
${Object.entries(v).map(([y,w])=>`  ${y}: ${w}`).join(`
`)}`:`${b}: ${v}`).join(`

`)}
      `)}if(t.sections.historicalData&&e.historicalData){const g=e.historicalData;h.push(`
=== HISTORICAL DATA ===
Maintenance Records:
${((x=g.maintenanceRecords)==null?void 0:x.map(b=>`- ${b.date}: ${b.type} - ${b.description} ($${b.cost})`).join(`
`))||"No records available"}

Previous Failures:
${((m=g.previousFailures)==null?void 0:m.map(b=>`- ${b.date}: ${b.rootCause} (${b.downtime}h downtime)`).join(`
`))||"No previous failures"}
      `)}return h.join(`

`)},d=h=>{switch(h){case"pdf":return"application/pdf";case"word":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"excel":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"image":return"image/png";default:return"text/plain"}},f=(h,x)=>{n(m=>({...m,sections:{...m.sections,[h]:x}}))},p=o.find(h=>h.value===t.format);return i.jsxs(ee,{className:"w-full",children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center space-x-2",children:[i.jsx(kr,{className:"w-5 h-5"}),i.jsx("span",{children:"Export Report"}),i.jsx(ne,{variant:"outline",children:"Professional"})]})}),i.jsxs(re,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx(ve,{className:"text-sm font-medium",children:"Export Format"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:o.map(h=>{const x=h.icon;return i.jsx("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${t.format===h.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>n(m=>({...m,format:h.value})),children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(x,{className:"w-5 h-5 text-gray-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-sm",children:h.label}),i.jsx("div",{className:"text-xs text-gray-500",children:h.description})]})]})},h.value)})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(ve,{className:"text-sm font-medium",children:"Report Sections"}),i.jsx("div",{className:"space-y-3",children:l.map(h=>i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(vr,{id:h.key,checked:t.sections[h.key],onCheckedChange:x=>f(h.key,!!x)}),i.jsxs("div",{className:"grid gap-1.5 leading-none",children:[i.jsx(ve,{htmlFor:h.key,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:h.label}),i.jsx("p",{className:"text-xs text-muted-foreground",children:h.description})]})]},h.key))})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(ve,{className:"text-sm font-medium",children:"Additional Options"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(vr,{id:"charts",checked:t.includeCharts,onCheckedChange:h=>n(x=>({...x,includeCharts:!!h}))}),i.jsx(ve,{htmlFor:"charts",className:"text-sm",children:"Include charts and visualizations"})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(vr,{id:"branding",checked:t.includeBranding,onCheckedChange:h=>n(x=>({...x,includeBranding:!!h}))}),i.jsx(ve,{htmlFor:"branding",className:"text-sm",children:"Include company branding"})]})]})]}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Report Preview"}),i.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Format:"})," ",p==null?void 0:p.label]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Sections:"})," ",Object.values(t.sections).filter(Boolean).length," selected"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Analysis:"})," ",e.analysisId," - ",e.equipmentId]}),i.jsxs("div",{children:[i.jsx("strong",{children:"File size:"})," ~",t.format==="image"?"2-5":"1-3"," MB (estimated)"]})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(H,{onClick:c,disabled:r||Object.values(t.sections).every(h=>!h),className:"min-w-[140px]",children:r?i.jsxs(i.Fragment,{children:[i.jsx(kr,{className:"w-4 h-4 mr-2 animate-pulse"}),"Generating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(kr,{className:"w-4 h-4 mr-2"}),"Export Report"]})})})]})]})}function yge(e,t){return N.useReducer((n,r)=>t[n][r]??n,e)}var xN="ScrollArea",[uF,rbe]=Ni(xN),[bge,ei]=uF(xN),dF=N.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:s=600,...o}=e,[l,c]=N.useState(null),[u,d]=N.useState(null),[f,p]=N.useState(null),[h,x]=N.useState(null),[m,g]=N.useState(null),[b,v]=N.useState(0),[y,w]=N.useState(0),[j,S]=N.useState(!1),[C,E]=N.useState(!1),k=St(t,O=>c(O)),$=Gv(a);return i.jsx(bge,{scope:n,type:r,dir:$,scrollHideDelay:s,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:p,scrollbarX:h,onScrollbarXChange:x,scrollbarXEnabled:j,onScrollbarXEnabledChange:S,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:C,onScrollbarYEnabledChange:E,onCornerWidthChange:v,onCornerHeightChange:w,children:i.jsx(rt.div,{dir:$,...o,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})});dF.displayName=xN;var fF="ScrollAreaViewport",pF=N.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:a,...s}=e,o=ei(fF,n),l=N.useRef(null),c=St(t,l,o.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),i.jsx(rt.div,{"data-radix-scroll-area-viewport":"",...s,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});pF.displayName=fF;var ra="ScrollAreaScrollbar",yN=N.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=ei(ra,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return N.useEffect(()=>(l?s(!0):o(!0),()=>{l?s(!1):o(!1)}),[l,s,o]),a.type==="hover"?i.jsx(jge,{...r,ref:t,forceMount:n}):a.type==="scroll"?i.jsx(wge,{...r,ref:t,forceMount:n}):a.type==="auto"?i.jsx(mF,{...r,ref:t,forceMount:n}):a.type==="always"?i.jsx(bN,{...r,ref:t}):null});yN.displayName=ra;var jge=N.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=ei(ra,e.__scopeScrollArea),[s,o]=N.useState(!1);return N.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),i.jsx(Si,{present:n||s,children:i.jsx(mF,{"data-state":s?"visible":"hidden",...r,ref:t})})}),wge=N.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=ei(ra,e.__scopeScrollArea),s=e.orientation==="horizontal",o=Xg(()=>c("SCROLL_END"),100),[l,c]=yge("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return N.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),N.useEffect(()=>{const u=a.viewport,d=s?"scrollLeft":"scrollTop";if(u){let f=u[d];const p=()=>{const h=u[d];f!==h&&(c("SCROLL"),o()),f=h};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[a.viewport,s,c,o]),i.jsx(Si,{present:n||l!=="hidden",children:i.jsx(bN,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Me(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Me(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),mF=N.forwardRef((e,t)=>{const n=ei(ra,e.__scopeScrollArea),{forceMount:r,...a}=e,[s,o]=N.useState(!1),l=e.orientation==="horizontal",c=Xg(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:d)}},10);return Wc(n.viewport,c),Wc(n.content,c),i.jsx(Si,{present:r||s,children:i.jsx(bN,{"data-state":s?"visible":"hidden",...a,ref:t})})}),bN=N.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,a=ei(ra,e.__scopeScrollArea),s=N.useRef(null),o=N.useRef(0),[l,c]=N.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=yF(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:p=>s.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function f(p,h){return kge(p,o.current,l,h)}return n==="horizontal"?i.jsx(Nge,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const p=a.viewport.scrollLeft,h=R2(p,l,a.dir);s.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollLeft=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollLeft=f(p,a.dir))}}):n==="vertical"?i.jsx(Sge,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&s.current){const p=a.viewport.scrollTop,h=R2(p,l);s.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollTop=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollTop=f(p))}}):null}),Nge=N.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,s=ei(ra,e.__scopeScrollArea),[o,l]=N.useState(),c=N.useRef(null),u=St(t,c,s.onScrollbarXChange);return N.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(vF,{"data-orientation":"horizontal",...a,ref:u,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Qg(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const p=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(p),jF(p,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:ev(o.paddingLeft),paddingEnd:ev(o.paddingRight)}})}})}),Sge=N.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,s=ei(ra,e.__scopeScrollArea),[o,l]=N.useState(),c=N.useRef(null),u=St(t,c,s.onScrollbarYChange);return N.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(vF,{"data-orientation":"vertical",...a,ref:u,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Qg(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const p=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(p),jF(p,f)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:ev(o.paddingTop),paddingEnd:ev(o.paddingBottom)}})}})}),[Cge,hF]=uF(ra),vF=N.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...p}=e,h=ei(ra,n),[x,m]=N.useState(null),g=St(t,k=>m(k)),b=N.useRef(null),v=N.useRef(""),y=h.viewport,w=r.content-r.viewport,j=dn(d),S=dn(c),C=Xg(f,10);function E(k){if(b.current){const $=k.clientX-b.current.left,O=k.clientY-b.current.top;u({x:$,y:O})}}return N.useEffect(()=>{const k=$=>{const O=$.target;(x==null?void 0:x.contains(O))&&j($,w)};return document.addEventListener("wheel",k,{passive:!1}),()=>document.removeEventListener("wheel",k,{passive:!1})},[y,x,w,j]),N.useEffect(S,[r,S]),Wc(x,C),Wc(h.content,C),i.jsx(Cge,{scope:n,scrollbar:x,hasThumb:a,onThumbChange:dn(s),onThumbPointerUp:dn(o),onThumbPositionChange:S,onThumbPointerDown:dn(l),children:i.jsx(rt.div,{...p,ref:g,style:{position:"absolute",...p.style},onPointerDown:Me(e.onPointerDown,k=>{k.button===0&&(k.target.setPointerCapture(k.pointerId),b.current=x.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),E(k))}),onPointerMove:Me(e.onPointerMove,E),onPointerUp:Me(e.onPointerUp,k=>{const $=k.target;$.hasPointerCapture(k.pointerId)&&$.releasePointerCapture(k.pointerId),document.body.style.webkitUserSelect=v.current,h.viewport&&(h.viewport.style.scrollBehavior=""),b.current=null})})})}),Jh="ScrollAreaThumb",gF=N.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=hF(Jh,e.__scopeScrollArea);return i.jsx(Si,{present:n||a.hasThumb,children:i.jsx(Ege,{ref:t,...r})})}),Ege=N.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...a}=e,s=ei(Jh,n),o=hF(Jh,n),{onThumbPositionChange:l}=o,c=St(t,f=>o.onThumbChange(f)),u=N.useRef(void 0),d=Xg(()=>{u.current&&(u.current(),u.current=void 0)},100);return N.useEffect(()=>{const f=s.viewport;if(f){const p=()=>{if(d(),!u.current){const h=_ge(f,l);u.current=h,l()}};return l(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[s.viewport,d,l]),i.jsx(rt.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Me(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),x=f.clientX-h.left,m=f.clientY-h.top;o.onThumbPointerDown({x,y:m})}),onPointerUp:Me(e.onPointerUp,o.onThumbPointerUp)})});gF.displayName=Jh;var jN="ScrollAreaCorner",xF=N.forwardRef((e,t)=>{const n=ei(jN,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?i.jsx(Age,{...e,ref:t}):null});xF.displayName=jN;var Age=N.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,a=ei(jN,n),[s,o]=N.useState(0),[l,c]=N.useState(0),u=!!(s&&l);return Wc(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),Wc(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?i.jsx(rt.div,{...r,ref:t,style:{width:s,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function ev(e){return e?parseInt(e,10):0}function yF(e,t){const n=e/t;return isNaN(n)?0:n}function Qg(e){const t=yF(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function kge(e,t,n,r="ltr"){const a=Qg(n),s=a/2,o=t||s,l=a-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return bF([c,u],f)(e)}function R2(e,t,n="ltr"){const r=Qg(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-a,o=t.content-t.viewport,l=s-r,c=n==="ltr"?[0,o]:[o*-1,0],u=gj(e,c);return bF([0,o],[0,l])(u)}function bF(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function jF(e,t){return e>0&&e<t}var _ge=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function a(){const s={left:e.scrollLeft,top:e.scrollTop},o=n.left!==s.left,l=n.top!==s.top;(o||l)&&t(),n=s,r=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(r)};function Xg(e,t){const n=dn(e),r=N.useRef(0);return N.useEffect(()=>()=>window.clearTimeout(r.current),[]),N.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Wc(e,t){const n=dn(t);xn(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,n])}var wF=dF,Oge=pF,Pge=xF;const NF=N.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(wF,{ref:r,className:Le("relative overflow-hidden",e),...n,children:[i.jsx(Oge,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(SF,{}),i.jsx(Pge,{})]}));NF.displayName=wF.displayName;const SF=N.forwardRef(({className:e,orientation:t="vertical",...n},r)=>i.jsx(yN,{ref:r,orientation:t,className:Le("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:i.jsx(gF,{className:"relative flex-1 rounded-full bg-border"})}));SF.displayName=yN.displayName;function Tge({analysis:e,onRevert:t}){const[n,r]=N.useState(null),{toast:a}=Cn(),o=(()=>{const x=[];x.push({timestamp:e.createdAt.toString(),user:"AI System",reason:"Initial root cause analysis",changes:{},version:1,type:"initial_creation"});const m=e.adjustmentHistory||[];x.push(...m.map(b=>({...b,type:"manual_adjustment"})));const g=e.evidenceGatheringHistory||[];return x.push(...g.map(b=>({...b,type:"evidence_gathering"}))),x.sort((b,v)=>new Date(v.timestamp).getTime()-new Date(b.timestamp).getTime())})(),l=Math.max(...o.map(x=>x.version),1),c=x=>new Date(x).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),u=x=>{switch(x){case"initial_creation":return i.jsx(vn,{className:"w-4 h-4"});case"manual_adjustment":return i.jsx(xc,{className:"w-4 h-4"});case"ai_reanalysis":return i.jsx(Dd,{className:"w-4 h-4"});case"evidence_gathering":return i.jsx(Md,{className:"w-4 h-4"});default:return i.jsx(Oo,{className:"w-4 h-4"})}},d=x=>{switch(x){case"initial_creation":return"bg-green-100 text-green-800";case"manual_adjustment":return"bg-blue-100 text-blue-800";case"ai_reanalysis":return"bg-purple-100 text-purple-800";case"evidence_gathering":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},f=x=>{switch(x){case"initial_creation":return"Created";case"manual_adjustment":return"Manual Edit";case"ai_reanalysis":return"AI Re-analysis";case"evidence_gathering":return"Evidence Update";default:return"Unknown"}},p=x=>{if(x===l){a({title:"Already Current Version",description:"This is already the current version of the analysis.",variant:"destructive"});return}t&&(t(x),a({title:"Version Reverted",description:`Analysis has been reverted to version ${x}.`}))},h=x=>Object.keys(x).length===0?i.jsx("div",{className:"text-sm text-gray-500 italic",children:"No specific changes recorded"}):i.jsx("div",{className:"space-y-2",children:Object.entries(x).map(([m,g])=>i.jsxs("div",{className:"text-sm",children:[i.jsxs("div",{className:"font-medium text-gray-700 capitalize",children:[m.replace(/([A-Z])/g," $1").toLowerCase(),":"]}),i.jsxs("div",{className:"ml-2 space-y-1",children:[i.jsxs("div",{className:"text-red-600",children:[i.jsx("span",{className:"font-medium",children:"From:"})," ",typeof g.from=="object"?JSON.stringify(g.from,null,2):String(g.from||"Empty").substring(0,100)]}),i.jsxs("div",{className:"text-green-600",children:[i.jsx("span",{className:"font-medium",children:"To:"})," ",typeof g.to=="object"?JSON.stringify(g.to,null,2):String(g.to||"Empty").substring(0,100)]})]})]},m))});return i.jsxs(ee,{className:"w-full",children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center space-x-2",children:[i.jsx($l,{className:"w-5 h-5"}),i.jsx("span",{children:"Version History & Audit Trail"}),i.jsxs(ne,{variant:"outline",children:["v",l]})]})}),i.jsxs(re,{children:[i.jsxs(Qt,{className:"mb-6",children:[i.jsx($l,{className:"h-4 w-4"}),i.jsx(Xt,{children:"Complete audit trail of all changes made to this analysis. Click on any version to view details."})]}),i.jsx(NF,{className:"h-[600px] pr-4",children:i.jsx("div",{className:"space-y-4",children:o.map((x,m)=>i.jsxs("div",{className:`border rounded-lg p-4 transition-colors cursor-pointer ${n===x.version?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>r(n===x.version?null:x.version),children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:`p-2 rounded-full ${d(x.type)}`,children:u(x.type)}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[i.jsxs("span",{className:"font-medium",children:["Version ",x.version]}),i.jsx(ne,{variant:"outline",className:"text-xs",children:f(x.type)}),x.version===l&&i.jsx(ne,{className:"text-xs",children:"Current"})]}),i.jsx("div",{className:"text-sm text-gray-600 mb-2",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("span",{className:"flex items-center space-x-1",children:[i.jsx(xc,{className:"w-3 h-3"}),i.jsx("span",{children:x.user})]}),i.jsxs("span",{className:"flex items-center space-x-1",children:[i.jsx(Oo,{className:"w-3 h-3"}),i.jsx("span",{children:c(x.timestamp)})]})]})}),i.jsxs("div",{className:"text-sm",children:[i.jsx("strong",{children:"Reason:"})," ",x.reason]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(H,{variant:"ghost",size:"sm",onClick:g=>{g.stopPropagation(),r(n===x.version?null:x.version)},children:i.jsx(Md,{className:"w-4 h-4"})}),x.version!==l&&i.jsxs(H,{variant:"outline",size:"sm",onClick:g=>{g.stopPropagation(),p(x.version)},children:[i.jsx(Fv,{className:"w-4 h-4 mr-1"}),"Revert"]})]})]}),n===x.version&&i.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[i.jsx("h4",{className:"font-medium text-sm mb-3",children:"Changes Made:"}),h(x.changes)]})]},x.version))})}),o.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx($l,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No version history available"})]})]})]})}function Ige(e){const t=Rge(e),n=N.forwardRef((r,a)=>{const{children:s,...o}=r,l=N.Children.toArray(s),c=l.find(Mge);if(c){const u=c.props.children,d=l.map(f=>f===c?N.Children.count(u)>1?N.Children.only(null):N.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:a,children:N.isValidElement(u)?N.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:a,children:s})});return n.displayName=`${e}.Slot`,n}function Rge(e){const t=N.forwardRef((n,r)=>{const{children:a,...s}=n;if(N.isValidElement(a)){const o=Fge(a),l=Dge(s,a.props);return a.type!==N.Fragment&&(l.ref=r?Rv(r,o):o),N.cloneElement(a,l)}return N.Children.count(a)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $ge=Symbol("radix.slottable");function Mge(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$ge}function Dge(e,t){const n={...t};for(const r in t){const a=e[r],s=t[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...l)=>{const c=s(...l);return a(...l),c}:a&&(n[r]=a):r==="style"?n[r]={...a,...s}:r==="className"&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...e,...n}}function Fge(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Lge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],CF=Lge.reduce((e,t)=>{const n=Ige(`Primitive.${t}`),r=N.forwardRef((a,s)=>{const{asChild:o,...l}=a,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),wN="Progress",NN=100,[qge,ibe]=Ni(wN),[zge,Bge]=qge(wN),EF=N.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:a,getValueLabel:s=Uge,...o}=e;(a||a===0)&&!$2(a)&&console.error(Vge(`${a}`,"Progress"));const l=$2(a)?a:NN;r!==null&&!M2(r,l)&&console.error(Hge(`${r}`,"Progress"));const c=M2(r,l)?r:null,u=tv(c)?s(c,l):void 0;return i.jsx(zge,{scope:n,value:c,max:l,children:i.jsx(CF.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":tv(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":_F(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});EF.displayName=wN;var AF="ProgressIndicator",kF=N.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,a=Bge(AF,n);return i.jsx(CF.div,{"data-state":_F(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...r,ref:t})});kF.displayName=AF;function Uge(e,t){return`${Math.round(e/t*100)}%`}function _F(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function tv(e){return typeof e=="number"}function $2(e){return tv(e)&&!isNaN(e)&&e>0}function M2(e,t){return tv(e)&&!isNaN(e)&&e<=t&&e>=0}function Vge(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${NN}\`.`}function Hge(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${NN} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var OF=EF,Wge=kF;const Gc=N.forwardRef(({className:e,value:t,...n},r)=>i.jsx(OF,{ref:r,className:Le("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:i.jsx(Wge,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Gc.displayName=OF.displayName;function Gge({analysis:e,className:t=""}){var u;const[n,r]=N.useState("asset_analysis"),s=(()=>{var p,h;const d=e.evidenceData||{},f=e.analysisResults||{};return[{id:"asset_analysis",title:"Asset Identification & Context",status:"completed",confidence:95,details:[`Equipment Type: ${d.equipment_type||"Not specified"}`,`Equipment ID: ${d.equipment_tag||"Not specified"}`,`Location: ${e.whereHappened||d.operating_location||"Not specified"}`,`Category: ${d.equipment_category||"Not specified"}`],timestamp:e.createdAt},{id:"symptom_analysis",title:"Symptom Analysis & Localization",status:"completed",confidence:88,details:[`Primary Problem: ${d.observed_problem||e.whatHappened||"Not specified"}`,`Symptom Location: ${d.symptom_location||"Not localized"}`,`Problem Type: ${d.problem_type||"Not classified"}`,`Detection Method: ${d.detection_method||"Not specified"}`]},{id:"cause_mapping",title:"Failure Mode & Cause Mapping",status:"completed",confidence:Math.round((f.confidence||.8)*100),details:[`Analysis Method: ${f.analysisMethod||"Fault Tree Analysis"}`,`Causes Identified: ${((p=f.causes)==null?void 0:p.length)||0} potential causes evaluated`,"Knowledge base correlation completed","Statistical analysis performed","Industry best practices applied"]},{id:"evidence_correlation",title:"Evidence Correlation & Validation",status:"completed",confidence:Math.round(parseFloat(e.evidenceCompleteness||"80")),details:[`Evidence Completeness: ${Math.round(parseFloat(e.evidenceCompleteness||"80"))}%`,`Maintenance History: ${d.last_maintenance_type||"Available"}`,`Operating Conditions: ${d.environmental_conditions||"Within limits"}`,"Data correlation analysis completed"]},{id:"root_cause_selection",title:"Root Cause Selection & Validation",status:"completed",confidence:Math.round((f.confidence||.8)*100),details:[`Top Event: ${f.topEvent||"Equipment Failure"}`,`Primary Causes: ${((h=f.causes)==null?void 0:h.map(x=>x.description).join(", "))||"Equipment degradation"}`,`Confidence Score: ${Math.round((f.confidence||.8)*100)}%`,"Validation completed against ISO 14224 standards"]},{id:"recommendations",title:"Actionable Recommendations",status:"completed",confidence:85,details:(e.recommendations||["Review operating parameters and implement process controls"]).map((x,m)=>`${m+1}. ${x}`)}]})(),o=s.find(d=>d.id===n),l=d=>{switch(d){case"completed":return i.jsx(Yt,{className:"w-5 h-5 text-green-500"});case"in_progress":return i.jsx(va,{className:"w-5 h-5 text-blue-500"});case"failed":return i.jsx(xt,{className:"w-5 h-5 text-red-500"});default:return i.jsx(r8,{className:"w-5 h-5 text-gray-400"})}},c=d=>d>=80?"text-green-600":d>=60?"text-yellow-600":"text-red-600";return i.jsxs("div",{className:`space-y-6 ${t}`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(on,{className:"w-6 h-6 text-blue-600"}),i.jsx("h2",{className:"text-2xl font-bold",children:"AI Reasoning Process"}),i.jsxs(ne,{variant:"outline",className:"ml-auto",children:["Confidence: ",Math.round((e.confidence||((u=e.analysisResults)==null?void 0:u.confidence)||.8)*100),"%"]})]}),i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(Fd,{className:"w-5 h-5"}),"Analysis Progress"]})}),i.jsx(re,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Overall Completion"}),i.jsxs("span",{children:[Math.round(s.filter(d=>d.status==="completed").length/s.length*100),"%"]})]}),i.jsx(Gc,{value:s.filter(d=>d.status==="completed").length/s.length*100,className:"h-2"}),i.jsxs("div",{className:"flex gap-4 text-sm text-muted-foreground",children:[i.jsxs("span",{children:[" ",s.filter(d=>d.status==="completed").length," Completed"]}),i.jsxs("span",{children:[" ",s.filter(d=>d.status==="in_progress").length," In Progress"]}),i.jsxs("span",{children:[" ",s.filter(d=>d.status==="pending").length," Pending"]})]})]})})]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2",children:s.map((d,f)=>i.jsx(H,{variant:n===d.id?"default":"outline",size:"sm",onClick:()=>r(d.id),className:"flex items-center gap-2 h-auto p-3",children:i.jsxs("div",{className:"flex flex-col items-center gap-1",children:[l(d.status),i.jsx("span",{className:"text-xs text-center leading-tight",children:d.title.split(" ")[0]}),d.confidence&&i.jsxs(ne,{variant:"secondary",className:"text-xs px-1",children:[Math.round(d.confidence),"%"]})]})},d.id))}),o&&i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center gap-2",children:[l(o.status),o.title,o.confidence&&i.jsxs(ne,{variant:"outline",className:`ml-auto ${c(o.confidence)}`,children:[Math.round(o.confidence),"% Confidence"]})]})}),i.jsxs(re,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium text-sm text-muted-foreground",children:"Analysis Details"}),i.jsx("ul",{className:"space-y-1",children:o.details.map((d,f)=>i.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[i.jsx(Yf,{className:"w-4 h-4 text-muted-foreground mt-0.5 flex-shrink-0"}),i.jsx("span",{children:d})]},f))})]}),o.evidence&&o.evidence.length>0&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h4",{className:"font-medium text-sm text-muted-foreground flex items-center gap-2",children:[i.jsx(e8,{className:"w-4 h-4"}),"Evidence Analysis"]}),i.jsx("div",{className:"grid gap-2",children:o.evidence.map((d,f)=>i.jsxs("div",{className:`p-3 rounded-lg border-l-4 ${d.type==="supporting"?"border-green-500 bg-green-50":"border-red-500 bg-red-50"}`,children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"font-medium text-sm",children:[d.type==="supporting"?"":""," ",d.description||d.type]}),i.jsxs(ne,{variant:"outline",className:"text-xs",children:["Weight: ",d.weight||"N/A"]})]}),d.value&&i.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Value: ",d.value]})]},f))})]}),o.timestamp&&i.jsxs("div",{className:"text-xs text-muted-foreground",children:["Completed: ",new Date(o.timestamp).toLocaleString()]})]})]}),e.missingDataPrompts&&e.missingDataPrompts.length>0&&i.jsxs(Qt,{className:"border-yellow-200 bg-yellow-50",children:[i.jsx(xt,{className:"w-4 h-4"}),i.jsxs(Xt,{children:[i.jsx("div",{className:"font-medium",children:"Additional Data Needed"}),i.jsx("div",{className:"text-sm mt-1 space-y-1",children:e.missingDataPrompts.map((d,f)=>i.jsxs("div",{children:[" ",d.question]},f))})]})]}),e.manualAdjustments&&e.manualAdjustments.length>0&&i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(Lv,{className:"w-5 h-5"}),"Manual Adjustments & Expert Overrides"]})}),i.jsx(re,{children:i.jsx("div",{className:"space-y-3",children:e.manualAdjustments.map((d,f)=>i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx(ne,{variant:d.expertOverride?"destructive":"secondary",children:d.expertOverride?"Expert Override":"Manual Adjustment"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(d.timestamp).toLocaleString()})]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{className:"font-medium",children:"Reasoning:"}),i.jsx("div",{className:"text-muted-foreground",children:d.reasoning})]})]},f))})})]})]})}function Kge({analysis:e,onDataProvided:t}){const[n,r]=N.useState({}),[a,s]=N.useState(!1),{toast:o}=Cn(),l=Wo(),c=e.missingDataPrompts||[],u=Je({mutationFn:async x=>gt(`/api/analyses/${e.id}/provide-data`,{method:"POST",body:JSON.stringify(x)}),onSuccess:()=>{o({title:"Data Provided Successfully",description:"The analysis will be updated with your additional information."}),l.invalidateQueries({queryKey:["/api/analyses"]}),l.invalidateQueries({queryKey:[`/api/analyses/${e.id}`]}),t==null||t()},onError:x=>{o({title:"Failed to Submit Data",description:x.message,variant:"destructive"})}}),d=(x,m)=>{r(g=>({...g,[x]:m}))},f=async()=>{s(!0);try{await u.mutateAsync({responses:n,additionalData:{timestamp:new Date().toISOString(),source:"user_input"}})}finally{s(!1)}},p=x=>{switch(x){case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"outline"}},h=x=>{var g;const m=n[x.id]||"";switch(x.type){case"equipment":return i.jsxs("div",{className:"space-y-3",children:[x.options&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Please select the option that best describes your situation:"}),i.jsxs(ut,{value:m,onValueChange:b=>d(x.id,b),children:[i.jsx(ot,{children:i.jsx(dt,{placeholder:"Select an option"})}),i.jsx(lt,{children:x.options.map((b,v)=>i.jsx(X,{value:b,children:b},v))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Additional Equipment Details:"}),i.jsx(Te,{value:m,onChange:b=>d(x.id,b.target.value),placeholder:"Provide any additional equipment details, specifications, or context...",rows:3})]})]});case"operating_data":return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Missing Parameters:"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:(g=x.missing)==null?void 0:g.map((b,v)=>i.jsx(ne,{variant:"outline",className:"justify-center",children:b.replace(/_/g," ").toUpperCase()},v))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Operating Parameter Values:"}),i.jsx(Te,{value:m,onChange:b=>d(x.id,b.target.value),placeholder:"Please provide the missing operating parameters (e.g., Temperature: 180F, Pressure: 25 psig, Flow: 100 gpm)...",rows:4})]})]});case"symptoms":return i.jsxs("div",{className:"space-y-3",children:[x.context&&i.jsxs(Qt,{children:[i.jsx(dC,{className:"w-4 h-4"}),i.jsxs(Xt,{children:[i.jsx("strong",{children:"Current Analysis:"})," ",x.context]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Detailed Symptom Description:"}),i.jsx(Te,{value:m,onChange:b=>d(x.id,b.target.value),placeholder:"Describe the symptoms in detail: when they started, how they manifested, any patterns you noticed...",rows:4})]})]});default:return i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Response:"}),i.jsx(Te,{value:m,onChange:b=>d(x.id,b.target.value),placeholder:"Please provide the requested information...",rows:3})]})}};return c.length===0?null:i.jsxs(ee,{className:"border-yellow-200 bg-yellow-50",children:[i.jsxs(ae,{children:[i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(xt,{className:"w-5 h-5 text-yellow-600"}),"Additional Information Needed",i.jsxs(ne,{variant:"outline",className:"ml-auto",children:[c.length," ",c.length===1?"Question":"Questions"]})]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"The AI analysis requires additional information to improve accuracy and confidence. Please provide the requested details below."})]}),i.jsxs(re,{className:"space-y-6",children:[c.map((x,m)=>i.jsxs(ee,{className:"border-yellow-200",children:[i.jsx(ae,{className:"pb-3",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsx(se,{className:"text-base",children:x.question}),i.jsxs(ne,{variant:p(x.priority),children:[x.priority," Priority"]})]})}),i.jsx(re,{children:h(x)})]},x.id||m)),i.jsx("div",{className:"flex justify-end gap-3 pt-4 border-t",children:i.jsxs(H,{onClick:f,disabled:a||Object.keys(n).length===0,className:"flex items-center gap-2",children:[a?i.jsx(a8,{className:"w-4 h-4 animate-spin"}):i.jsx(l8,{className:"w-4 h-4"}),a?"Updating Analysis...":"Submit Additional Data"]})}),i.jsxs(Qt,{children:[i.jsx(dC,{className:"w-4 h-4"}),i.jsxs(Xt,{children:[i.jsx("strong",{children:"How this helps:"})," Your additional information will be used to re-run the analysis with higher confidence. The AI will correlate your inputs with the existing data to provide more accurate root cause identification and recommendations."]})]})]})]})}function Yge(){var g,b,v,y,w,j,S,C,E,k,$,O,T,P,I,D;const[,e]=Iv("/investigation/:id"),[t,n]=N.useState("overview"),[r,a]=N.useState(!1),s=e==null?void 0:e.id,o=s==null?void 0:s.startsWith("INC-"),l=o?s.replace("INC-",""):s,c=o?`/api/incidents/${l}`:`/api/investigations/${s}`,{data:u,isLoading:d,error:f}=Ye({queryKey:[c],enabled:!!s,queryFn:async()=>{const R=await fetch(c);if(!R.ok)throw new Error(`Failed to fetch ${o?"incident":"analysis"}`);return R.json()}}),p=u?o?{analysisId:`INC-${u.id}`,equipmentId:u.equipmentId||"Unknown",location:u.location||"Unknown",priority:u.priority||"medium",confidence:((g=u.aiAnalysis)==null?void 0:g.overallConfidence)||0,analysisResults:u.aiAnalysis,whatHappened:u.symptomDescription||u.title,evidenceData:{equipment_type:u.equipmentType,equipment_tag:u.equipmentId,operating_location:u.location},whereHappened:u.location,rootCauses:((v=(b=u.aiAnalysis)==null?void 0:b.rootCauses)==null?void 0:v.map(R=>R.description))||[],recommendations:((w=(y=u.aiAnalysis)==null?void 0:y.recommendations)==null?void 0:w.map(R=>R.description))||[],status:u.workflowStatus,investigationType:"Equipment Failure",updatedAt:u.updatedAt}:u:null;if(d)return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading analysis..."})]})});if(f||!p)return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-destructive mb-4",children:"Failed to load analysis"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:o?`Incident ID: ${s}`:`Investigation ID: ${s}`}),i.jsxs(H,{onClick:()=>window.history.back(),children:[i.jsx(Oa,{className:"w-4 h-4 mr-2"}),"Go Back"]})]})});const h=R=>{switch(R){case"high":return"priority-high";case"medium":return"priority-medium";case"low":return"priority-low";default:return"bg-gray-100 text-gray-800"}},x=R=>R>=90?"confidence-high":R>=70?"confidence-medium":"confidence-low",m=R=>new Date(R).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("div",{className:"bg-card shadow-sm border-b border-border",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(H,{variant:"ghost",onClick:()=>window.history.back(),className:"flex items-center space-x-2",children:[i.jsx(Oa,{className:"w-4 h-4"}),i.jsx("span",{children:"Back"})]}),i.jsx(Sa,{orientation:"vertical",className:"h-6"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold text-foreground",children:p.analysisId}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[p.equipmentId,"  ",p.location]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ne,{className:h(p.priority||"medium"),children:(p.priority||"medium").toUpperCase()}),i.jsxs(ne,{className:x(p.confidence||0),children:[p.confidence,"% Confidence"]}),i.jsxs(H,{variant:"outline",onClick:()=>a(!r),children:[i.jsx(qv,{className:"w-4 h-4 mr-2"}),"Edit"]})]})]})})}),i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r?i.jsx(Jve,{analysis:p,onSave:()=>a(!1),onCancel:()=>a(!1)}):i.jsxs(ea,{value:t,onValueChange:n,className:"w-full",children:[i.jsxs(Ci,{className:"grid w-full grid-cols-8 mb-8",children:[i.jsx(Ze,{value:"overview",children:"Overview"}),i.jsxs(Ze,{value:"diagrams",children:[i.jsx(Dd,{className:"w-4 h-4 mr-1"}),"Diagrams"]}),i.jsx(Ze,{value:"rca-tree",children:"RCA Tree"}),i.jsx(Ze,{value:"evidence",children:"Evidence"}),i.jsx(Ze,{value:"reasoning",children:"AI Reasoning"}),i.jsx(Ze,{value:"export",children:"Export"}),i.jsx(Ze,{value:"history",children:"History"}),i.jsx(Ze,{value:"settings",children:"Settings"})]}),i.jsxs(tt,{value:"overview",className:"space-y-6",children:[i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsx(se,{children:"Analysis Summary"})}),i.jsxs(re,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Issue Description"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:p.whatHappened||((j=p.evidenceData)==null?void 0:j.observed_problem)||"No description available"})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Equipment Details"}),i.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Type:"})," ",((S=p.evidenceData)==null?void 0:S.equipment_type)||"Not specified"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"ID:"})," ",((C=p.evidenceData)==null?void 0:C.equipment_tag)||"Not specified"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Location:"})," ",p.whereHappened||((E=p.evidenceData)==null?void 0:E.operating_location)||"Not specified"]})]})]})]}),i.jsx(Sa,{}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Root Cause Analysis"}),p.analysisResults?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[i.jsx("h5",{className:"font-medium text-sm mb-2",children:"Failure Analysis"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.jsx("strong",{children:"Failure Mode:"})," ",p.analysisResults.failureMode||"Not specified"]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.jsx("strong",{children:"Severity:"})," ",p.analysisResults.severity||"Not specified"]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.jsx("strong",{children:"Confidence:"})," ",p.analysisResults.overallConfidence||0,"%"]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-sm mb-3",children:"Root Causes"}),i.jsx("div",{className:"space-y-3",children:(p.analysisResults.rootCauses||[]).map((R,V)=>i.jsxs("div",{className:"p-3 border-l-4 border-red-500 bg-red-50",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsx("h6",{className:"font-medium text-sm",children:R.description}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs px-2 py-1 rounded bg-red-100 text-red-800",children:"Root Cause"}),i.jsxs("span",{className:"text-xs font-medium",children:[R.confidence,"%"]})]})]}),R.evidence&&R.evidence.length>0&&i.jsxs("div",{className:"mb-2",children:[i.jsx("p",{className:"text-xs font-medium text-green-700 mb-1",children:"Evidence:"}),i.jsx("ul",{className:"text-xs text-green-600 list-disc list-inside",children:R.evidence.map((q,B)=>i.jsx("li",{children:typeof q=="string"?q:q.description||""},B))})]})]},V))})]})]}):(k=p.analysisResults)!=null&&k.structuredAnalysis?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[i.jsx("h5",{className:"font-medium text-sm mb-2",children:"Symptom Statement"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:p.analysisResults.structuredAnalysis.symptomStatement})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-sm mb-3",children:"Causes Analysis"}),i.jsx("div",{className:"space-y-3",children:p.analysisResults.structuredAnalysis.causesConsidered.map((R,V)=>i.jsxs("div",{className:`p-3 border-l-4 ${R.classification==="root_cause"?"border-red-500 bg-red-50":R.classification==="contributing"?"border-yellow-500 bg-yellow-50":"border-gray-300 bg-gray-50"}`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsx("h6",{className:"font-medium text-sm",children:R.cause}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`text-xs px-2 py-1 rounded ${R.classification==="root_cause"?"bg-red-100 text-red-800":R.classification==="contributing"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:R.classification.replace("_"," ")}),i.jsxs("span",{className:"text-xs font-medium",children:[Math.round(R.confidence*100),"%"]})]})]}),R.supportingEvidence.length>0&&i.jsxs("div",{className:"mb-2",children:[i.jsx("p",{className:"text-xs font-medium text-green-700 mb-1",children:"Supporting Evidence:"}),i.jsx("ul",{className:"text-xs text-green-600 list-disc list-inside",children:R.supportingEvidence.map((q,B)=>i.jsx("li",{children:q},B))})]}),R.contradictingEvidence.length>0&&i.jsxs("div",{className:"mb-2",children:[i.jsx("p",{className:"text-xs font-medium text-red-700 mb-1",children:"Contradicting Evidence:"}),i.jsx("ul",{className:"text-xs text-red-600 list-disc list-inside",children:R.contradictingEvidence.map((q,B)=>i.jsx("li",{children:q},B))})]}),i.jsx("p",{className:"text-xs text-muted-foreground italic",children:R.reasoning})]},V))})]}),i.jsxs("div",{className:"p-4 bg-blue-50 border-l-4 border-blue-500",children:[i.jsx("h5",{className:"font-medium text-sm mb-2 text-blue-800",children:"Conclusion"}),i.jsx("p",{className:"text-sm text-blue-700",children:p.analysisResults.structuredAnalysis.conclusion})]})]}):i.jsx("p",{className:"text-sm text-muted-foreground",children:((O=($=p.analysisResults)==null?void 0:$.causes)==null?void 0:O.map(R=>R.description).join("; "))||p.rootCauses||"Analysis in progress..."})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-sm mb-2",children:"Recommendations"}),(T=p.analysisResults)!=null&&T.recommendations?i.jsx("div",{className:"space-y-3",children:p.analysisResults.recommendations.map((R,V)=>i.jsxs("div",{className:"p-3 border-l-4 border-blue-500 bg-blue-50",children:[i.jsxs("div",{className:"flex items-start justify-between mb-1",children:[i.jsx("h6",{className:"font-medium text-sm",children:R.title}),i.jsxs("span",{className:"text-xs px-2 py-1 rounded bg-blue-100 text-blue-800",children:[R.priority," priority"]})]}),i.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:[i.jsx("strong",{children:"Description:"})," ",R.description]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.jsx("strong",{children:"Timeframe:"})," ",R.timeframe||"Not specified"]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.jsx("strong",{children:"Cost:"})," ",R.estimatedCost||"Not specified"]})]},V))}):(I=(P=p.analysisResults)==null?void 0:P.structuredAnalysis)!=null&&I.recommendations?i.jsx("div",{className:"space-y-3",children:p.analysisResults.structuredAnalysis.recommendations.map((R,V)=>i.jsxs("div",{className:`p-3 border-l-4 ${R.priority==="high"?"border-red-500 bg-red-50":R.priority==="medium"?"border-yellow-500 bg-yellow-50":"border-blue-500 bg-blue-50"}`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-1",children:[i.jsx("h6",{className:"font-medium text-sm",children:R.action}),i.jsxs("span",{className:`text-xs px-2 py-1 rounded ${R.priority==="high"?"bg-red-100 text-red-800":R.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:[R.priority," priority"]})]}),i.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:[i.jsx("strong",{children:"Timeframe:"})," ",R.timeframe]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.jsx("strong",{children:"Rationale:"})," ",R.rationale]})]},V))}):i.jsx("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-1",children:(p.recommendations||[]).map((R,V)=>i.jsx("li",{children:R},V))})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-2xl font-bold text-foreground",children:[p.confidence||((D=p.analysisResults)==null?void 0:D.overallConfidence)||0,"%"]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Confidence Score"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-foreground",children:p.status||"completed"}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Status"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-foreground",children:p.updatedAt?m(p.updatedAt):"In Progress"}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Completed"})]})]})]})]}),p.evidenceData&&Object.keys(p.evidenceData).length>0&&i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsx(se,{children:"Operating Parameters"})}),i.jsx(re,{children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(p.evidenceData).filter(([R])=>!["equipment_tag","equipment_type","operating_location","observed_problem"].includes(R)).map(([R,V])=>i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsx("h4",{className:"font-medium text-sm mb-2 capitalize",children:R.replace(/_/g," ")}),i.jsx("div",{className:"text-sm text-muted-foreground",children:typeof V=="boolean"?V?"YES":"NO":String(V)})]},R))})})]})]}),i.jsx(tt,{value:"diagrams",children:i.jsx(JD,{analysisData:p.analysisResults,investigationType:p.investigationType,onNodeUpdate:(R,V)=>{console.log("Node updated:",R,V)},onNodeAdd:(R,V)=>{console.log("Node added to parent:",R,V)},onNodeDelete:R=>{console.log("Node deleted:",R)}})}),i.jsx(tt,{value:"reasoning",children:i.jsx(Gge,{analysis:p})}),i.jsx(tt,{value:"rca-tree",children:i.jsx(PD,{analysis:p,onEdit:()=>a(!0)})}),i.jsx(tt,{value:"evidence",children:i.jsx(Zve,{analysis:p})}),i.jsx(tt,{value:"missing-data",children:i.jsx(Kge,{analysis:p,onDataProvided:()=>{window.location.reload()}})}),i.jsx(tt,{value:"export",children:i.jsx(xge,{analysis:p})}),i.jsx(tt,{value:"history",children:i.jsx(Tge,{analysis:p})}),i.jsx(tt,{value:"settings",className:"space-y-6",children:i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center space-x-2",children:[i.jsx(Lv,{className:"w-5 h-5"}),i.jsx("span",{children:"Analysis Settings"})]})}),i.jsx(re,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Auto Re-analysis"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically trigger re-analysis when new evidence is added"})]}),i.jsx("input",{type:"checkbox",defaultChecked:!0})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Confidence Threshold"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Minimum confidence score for auto-completion"})]}),i.jsxs("select",{className:"border rounded px-3 py-1",children:[i.jsx("option",{value:"80",children:"80%"}),i.jsx("option",{value:"85",children:"85%"}),i.jsx("option",{value:"90",children:"90%"}),i.jsx("option",{value:"95",children:"95%"})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Notification Alerts"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Send notifications for analysis status changes"})]}),i.jsx("input",{type:"checkbox",defaultChecked:!0})]})]})})]})})]})})]})}function Qge(){var f,p;const[e,t]=N.useState(!1),[n,r]=N.useState(null),{data:a,refetch:s,isLoading:o}=Ye({queryKey:["/api/admin/ai-status"],refetchInterval:1e4,retry:!1});N.useEffect(()=>{var h,x,m;((h=a==null?void 0:a.status)==null?void 0:h.systemHealth)==="working"&&((m=(x=a==null?void 0:a.status)==null?void 0:x.activeProvider)!=null&&m.isTestSuccessful)&&r(null)},[a]);const l=a==null?void 0:a.status,c=async()=>{t(!0);try{const h=await gt("/api/admin/ai-status/test",{method:"POST"});console.log("[AI Status Test] Response:",h),r(h),s()}catch(h){console.error("[AI Status Test] Error:",h),r({success:!1,message:"Test failed",error:h.message||"Unknown error occurred",errorType:"network_error"})}finally{t(!1)}};if(o)return i.jsxs(ee,{className:"border-gray-200",children:[i.jsx(ae,{className:"pb-3",children:i.jsxs(se,{className:"flex items-center gap-2 text-sm",children:[i.jsx(er,{className:"h-4 w-4"}),"AI Configuration Status"]})}),i.jsx(re,{children:i.jsx("div",{className:"text-sm text-gray-500",children:"Loading AI status..."})})]});const u=()=>l?l.complianceStatus==="hardcoding-detected"?"red":l.systemHealth==="working"?"green":l.systemHealth==="configuration-required"?"yellow":"red":"gray",d=()=>l?l.complianceStatus==="hardcoding-detected"?i.jsx($d,{className:"h-4 w-4 text-red-500"}):l.systemHealth==="working"?i.jsx(Yt,{className:"h-4 w-4 text-green-500"}):l.systemHealth==="configuration-required"?i.jsx(xt,{className:"h-4 w-4 text-yellow-500"}):i.jsx($d,{className:"h-4 w-4 text-red-500"}):i.jsx(Ki,{className:"h-4 w-4"});return i.jsxs(ee,{className:`border-2 ${u()==="red"?"border-red-200 bg-red-50":u()==="green"?"border-green-200 bg-green-50":u()==="yellow"?"border-yellow-200 bg-yellow-50":"border-gray-200"}`,children:[i.jsx(ae,{className:"pb-3",children:i.jsxs(se,{className:"flex items-center justify-between text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(er,{className:"h-4 w-4"}),"AI Configuration Status"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[d(),i.jsx(ne,{variant:u()==="green"?"default":u()==="yellow"?"secondary":"destructive",children:((f=l==null?void 0:l.systemHealth)==null?void 0:f.toUpperCase())||"UNKNOWN"})]})]})}),i.jsxs(re,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:"Configuration Source:"}),i.jsx(ne,{variant:(l==null?void 0:l.configurationSource)==="admin-database"?"default":"destructive",children:(l==null?void 0:l.configurationSource)==="admin-database"?i.jsxs(i.Fragment,{children:[i.jsx(er,{className:"h-3 w-3 mr-1"}),"Admin Database"]}):i.jsxs(i.Fragment,{children:[i.jsx(xt,{className:"h-3 w-3 mr-1"}),"Hardcoded Violation"]})})]}),l!=null&&l.activeProvider?i.jsxs("div",{className:"bg-white border rounded-lg p-3 space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs text-gray-600",children:"Active Provider:"}),i.jsxs("span",{className:"text-xs font-mono",children:[l.activeProvider.provider," (",l.activeProvider.model,")"]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs text-gray-600",children:"Database ID:"}),i.jsxs("span",{className:"text-xs font-mono",children:["#",l.activeProvider.id]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs text-gray-600",children:"API Key Status:"}),i.jsxs(ne,{variant:"outline",className:"text-xs",children:[i.jsx(i8,{className:"h-3 w-3 mr-1"}),l.activeProvider.apiKeyStatus]})]})]}):i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:i.jsx("span",{className:"text-sm text-red-700",children:"No active AI provider configured"})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:"Compliance Status:"}),i.jsxs(ne,{variant:(l==null?void 0:l.complianceStatus)==="compliant"?"default":"destructive",children:[i.jsx(ru,{className:"h-3 w-3 mr-1"}),((p=l==null?void 0:l.complianceStatus)==null?void 0:p.toUpperCase())||"UNKNOWN"]})]}),(l==null?void 0:l.violations)&&l.violations.length>0&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[i.jsx("div",{className:"text-xs font-medium text-red-700 mb-1",children:"Hardcoding Violations Detected:"}),l.violations.map((h,x)=>i.jsxs("div",{className:"text-xs text-red-600 flex items-start gap-1",children:[i.jsx(xt,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),h]},x))]})]}),(l==null?void 0:l.lastAIOperation)&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Last AI Operation:"}),i.jsxs("div",{className:"bg-gray-50 border rounded-lg p-3 space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs text-gray-600",children:"Source:"}),i.jsx("span",{className:"text-xs font-mono",children:l.lastAIOperation.source})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs text-gray-600",children:"Provider Used:"}),i.jsx("span",{className:"text-xs font-mono",children:l.lastAIOperation.provider})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs text-gray-600",children:"Status:"}),i.jsx(ne,{variant:l.lastAIOperation.success?"default":"destructive",className:"text-xs",children:l.lastAIOperation.success?"SUCCESS":"FAILED"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs text-gray-600",children:"Timestamp:"}),i.jsx("span",{className:"text-xs text-gray-500",children:new Date(l.lastAIOperation.timestamp).toLocaleString()})]})]})]}),i.jsxs("div",{className:"pt-2 border-t",children:[i.jsxs(H,{onClick:c,disabled:e||!(l!=null&&l.activeProvider),variant:"outline",size:"sm",className:"w-full",children:[i.jsx(FT,{className:"h-4 w-4 mr-2"}),e?"Testing Configuration...":"Test AI Configuration"]}),n&&((l==null?void 0:l.systemHealth)!=="working"||e)&&i.jsxs("div",{className:`mt-2 p-2 rounded-lg text-xs ${n.success?"bg-green-50 border border-green-200 text-green-700":"bg-red-50 border border-red-200 text-red-700"}`,children:[i.jsx("div",{className:"font-medium",children:n.success?" Test Successful":" Test Failed"}),i.jsx("div",{children:n.message}),n.configurationSource&&i.jsxs("div",{className:"mt-1 text-gray-600",children:["Source: ",n.configurationSource]})]})]}),i.jsxs("div",{className:"text-xs text-gray-500 text-center pt-2 border-t",children:["Last updated: ",l?new Date(l.timestamp).toLocaleString():"Unknown"]})]})]})}function D2(){const[e,t]=N.useState(!1),[n,r]=N.useState({provider:"",apiKey:"",model:"gpt-4o",isActive:!1,createdBy:1,testStatus:""}),[a,s]=N.useState({name:""}),[o,l]=N.useState({label:""}),[c,u]=N.useState({name:"",equipmentGroupId:0}),[d,f]=N.useState({name:"",equipmentTypeId:0}),[p,h]=N.useState(null),[x,m]=N.useState(null),[g,b]=N.useState(null),[v,y]=N.useState(null),[w,j]=N.useState(null),[S,C]=N.useState(null),{toast:E}=Cn(),{data:k,isLoading:$}=Ye({queryKey:["/api/admin/ai-settings"],retry:!1}),{data:O,isLoading:T}=Ye({queryKey:["/api/equipment-groups"],staleTime:0,refetchOnMount:!0});console.log("Equipment Groups:",O,"Loading:",T);const{data:P,isLoading:I}=Ye({queryKey:["/api/risk-rankings"],staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0});console.log("Risk Rankings:",P,"Loading:",I);const{data:D,isLoading:R}=Ye({queryKey:["/api/equipment-types"],staleTime:0,refetchOnMount:!0}),{data:V,isLoading:q}=Ye({queryKey:["/api/equipment-subtypes"],staleTime:0,refetchOnMount:!0}),B=Je({mutationFn:async z=>await gt("/api/admin/ai-settings/test",{method:"POST",body:JSON.stringify(z),headers:{"Content-Type":"application/json"}}),onSuccess:z=>{E({title:"Test Successful",description:"AI provider connection verified successfully"}),r(A=>({...A,testStatus:"success"}))},onError:z=>{E({title:"Test Failed",description:"Unable to connect to AI provider. Check your API key.",variant:"destructive"}),r(A=>({...A,testStatus:"failed"}))}}),W=Je({mutationFn:async z=>await gt("/api/equipment-groups",{method:"POST",body:JSON.stringify(z),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{E({title:"Equipment Group Created",description:"Equipment group added successfully"}),s({name:""}),Dt.invalidateQueries({queryKey:["/api/equipment-groups"]})},onError:z=>{E({title:"Error",description:z.message.includes("already exists")?"Equipment group name already exists":"Failed to create equipment group",variant:"destructive"})}}),Z=Je({mutationFn:async({id:z,data:A})=>await gt(`/api/equipment-groups/${z}`,{method:"PUT",body:JSON.stringify(A),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{E({title:"Equipment Group Updated",description:"Equipment group updated successfully"}),h(null),Dt.invalidateQueries({queryKey:["/api/equipment-groups"]})},onError:z=>{E({title:"Error",description:z.message.includes("already exists")?"Equipment group name already exists":"Failed to update equipment group",variant:"destructive"})}}),te=Je({mutationFn:async z=>await gt(`/api/equipment-groups/${z}`,{method:"DELETE"}),onSuccess:()=>{E({title:"Equipment Group Deleted",description:"Equipment group deleted successfully"}),Dt.invalidateQueries({queryKey:["/api/equipment-groups"]})},onError:()=>{E({title:"Error",description:"Failed to delete equipment group. It may be in use.",variant:"destructive"})}}),fe=Je({mutationFn:async z=>await gt("/api/risk-rankings",{method:"POST",body:JSON.stringify(z),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{E({title:"Risk Ranking Created",description:"Risk ranking added successfully"}),l({label:""}),Dt.invalidateQueries({queryKey:["/api/risk-rankings"]})},onError:z=>{E({title:"Error",description:z.message.includes("already exists")?"Risk ranking label already exists":"Failed to create risk ranking",variant:"destructive"})}}),Ae=Je({mutationFn:async({id:z,data:A})=>await gt(`/api/risk-rankings/${z}`,{method:"PUT",body:JSON.stringify(A),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{E({title:"Risk Ranking Updated",description:"Risk ranking updated successfully"}),m(null),Dt.invalidateQueries({queryKey:["/api/risk-rankings"]})},onError:z=>{E({title:"Error",description:z.message.includes("already exists")?"Risk ranking label already exists":"Failed to update risk ranking",variant:"destructive"})}}),He=Je({mutationFn:async z=>await gt(`/api/risk-rankings/${z}`,{method:"DELETE"}),onSuccess:()=>{E({title:"Risk Ranking Deleted",description:"Risk ranking deleted successfully"}),Dt.invalidateQueries({queryKey:["/api/risk-rankings"]})},onError:()=>{E({title:"Error",description:"Failed to delete risk ranking. It may be in use.",variant:"destructive"})}}),ze=Je({mutationFn:async z=>{const A=new FormData;A.append("file",z);const L=await fetch("/api/equipment-groups/import",{method:"POST",body:A});if(!L.ok){const M=await L.json();throw new Error(M.message||"Import failed")}return await L.json()},onSuccess:z=>{E({title:"Import Completed",description:`Imported ${z.imported} equipment groups${z.errors>0?`, ${z.errors} errors`:""}`}),Dt.invalidateQueries({queryKey:["/api/equipment-groups"]})},onError:z=>{E({title:"Import Failed",description:z.message||"Failed to import equipment groups",variant:"destructive"})}}),xe=async()=>{try{const A=await(await fetch("/api/equipment-groups/export")).blob(),L=window.URL.createObjectURL(A),M=document.createElement("a");M.href=L,M.download="equipment-groups.csv",document.body.appendChild(M),M.click(),document.body.removeChild(M),window.URL.revokeObjectURL(L),E({title:"Export Successful",description:"Equipment groups exported successfully"})}catch{E({title:"Export Failed",description:"Failed to export equipment groups",variant:"destructive"})}},Re=Je({mutationFn:async z=>{const A=new FormData;A.append("file",z);const L=await fetch("/api/risk-rankings/import",{method:"POST",body:A});if(!L.ok){const M=await L.json();throw new Error(M.message||"Import failed")}return await L.json()},onSuccess:z=>{E({title:"Import Completed",description:`Imported ${z.imported} risk rankings${z.errors>0?`, ${z.errors} errors`:""}`}),Dt.invalidateQueries({queryKey:["/api/risk-rankings"]})},onError:z=>{E({title:"Import Failed",description:z.message||"Failed to import risk rankings",variant:"destructive"})}}),le=async()=>{try{const A=await(await fetch("/api/risk-rankings/export")).blob(),L=window.URL.createObjectURL(A),M=document.createElement("a");M.href=L,M.download="risk-rankings.csv",document.body.appendChild(M),M.click(),document.body.removeChild(M),window.URL.revokeObjectURL(L),E({title:"Export Successful",description:"Risk rankings exported successfully"})}catch{E({title:"Export Failed",description:"Failed to export risk rankings",variant:"destructive"})}},ce=Je({mutationFn:async z=>await gt("/api/admin/ai-settings",{method:"POST",body:JSON.stringify(z),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{E({title:"Settings Saved",description:"AI settings have been updated successfully"}),Dt.invalidateQueries({queryKey:["/api/admin/ai-settings"]}),r(z=>({...z,apiKey:""}))},onError:z=>{E({title:"Save Failed",description:"Failed to save AI settings. Please try again.",variant:"destructive"})}}),me=Je({mutationFn:async z=>await gt("/api/equipment-types",{method:"POST",body:JSON.stringify(z),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{E({title:"Equipment Type Created",description:"Equipment type added successfully"}),u({name:"",equipmentGroupId:0}),Dt.invalidateQueries({queryKey:["/api/equipment-types"]})},onError:z=>{E({title:"Error",description:z.message.includes("already exists")?"Equipment type name already exists for this group":"Failed to create equipment type",variant:"destructive"})}}),Y=Je({mutationFn:async({id:z,data:A})=>await gt(`/api/equipment-types/${z}`,{method:"PUT",body:JSON.stringify(A),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{E({title:"Equipment Type Updated",description:"Equipment type updated successfully"}),b(null),Dt.invalidateQueries({queryKey:["/api/equipment-types"]})},onError:z=>{E({title:"Error",description:z.message.includes("already exists")?"Equipment type name already exists":"Failed to update equipment type",variant:"destructive"})}}),Ie=Je({mutationFn:async z=>await gt(`/api/equipment-types/${z}`,{method:"DELETE"}),onSuccess:()=>{E({title:"Equipment Type Deleted",description:"Equipment type deleted successfully"}),Dt.invalidateQueries({queryKey:["/api/equipment-types"]})},onError:()=>{E({title:"Error",description:"Failed to delete equipment type. It may be in use.",variant:"destructive"})}}),Ne=Je({mutationFn:async z=>await gt("/api/equipment-subtypes",{method:"POST",body:JSON.stringify(z),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{E({title:"Equipment Subtype Created",description:"Equipment subtype added successfully"}),f({name:"",equipmentTypeId:0}),Dt.invalidateQueries({queryKey:["/api/equipment-subtypes"]})},onError:z=>{E({title:"Error",description:z.message.includes("already exists")?"Equipment subtype name already exists for this type":"Failed to create equipment subtype",variant:"destructive"})}}),Q=Je({mutationFn:async({id:z,data:A})=>await gt(`/api/equipment-subtypes/${z}`,{method:"PUT",body:JSON.stringify(A),headers:{"Content-Type":"application/json"}}),onSuccess:()=>{E({title:"Equipment Subtype Updated",description:"Equipment subtype updated successfully"}),y(null),Dt.invalidateQueries({queryKey:["/api/equipment-subtypes"]})},onError:z=>{E({title:"Error",description:z.message.includes("already exists")?"Equipment subtype name already exists":"Failed to update equipment subtype",variant:"destructive"})}}),de=Je({mutationFn:async z=>await gt(`/api/equipment-subtypes/${z}`,{method:"DELETE"}),onSuccess:()=>{E({title:"Equipment Subtype Deleted",description:"Equipment subtype deleted successfully"}),Dt.invalidateQueries({queryKey:["/api/equipment-subtypes"]})},onError:()=>{E({title:"Error",description:"Failed to delete equipment subtype. It may be in use.",variant:"destructive"})}}),ye=()=>{var z;if(!((z=n.apiKey)!=null&&z.trim())){E({title:"API Key Required",description:"Please enter an API key before testing",variant:"destructive"});return}B.mutate({provider:n.provider,apiKey:n.apiKey})},Fe=()=>{var z;if(!((z=n.apiKey)!=null&&z.trim())){E({title:"API Key Required",description:"Please enter an API key before saving",variant:"destructive"});return}if(n.testStatus!=="success"){E({title:"Test Required",description:"Please test the API key before saving",variant:"destructive"});return}ce.mutate({provider:n.provider,encryptedApiKey:n.apiKey,model:n.model,isActive:n.isActive,createdBy:n.createdBy,testStatus:n.testStatus})},Be=z=>({openai:"OpenAI",gemini:"Google Gemini",anthropic:"Anthropic"})[z]||z,wt=(z,A)=>z?z==="success"&&A?i.jsx(ne,{variant:"default",className:"bg-green-500",children:"Active"}):z==="success"?i.jsx(ne,{variant:"outline",children:"Success"}):z==="failed"?i.jsx(ne,{variant:"destructive",children:"Failed"}):i.jsx(ne,{variant:"outline",children:"Unknown"}):i.jsx(ne,{variant:"outline",children:"Unknown"});return i.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[i.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(fn,{href:"/",children:i.jsxs(H,{variant:"outline",size:"sm",className:"flex items-center space-x-2",children:[i.jsx(Oa,{className:"w-4 h-4"}),i.jsx("span",{children:"Back to Home"})]})}),i.jsx(fn,{href:"/",children:i.jsxs(H,{variant:"ghost",size:"sm",className:"flex items-center space-x-2",children:[i.jsx(Qf,{className:"w-4 h-4"}),i.jsx("span",{children:"Dashboard"})]})})]}),i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"System Administration"})]}),i.jsxs(ea,{defaultValue:"ai-settings",className:"space-y-6",children:[i.jsxs(Ci,{className:"grid w-fit grid-cols-6",children:[i.jsxs(Ze,{value:"ai-settings",className:"flex items-center gap-2",children:[i.jsx(ru,{className:"w-4 h-4"}),"AI Settings"]}),i.jsxs(Ze,{value:"equipment-groups",className:"flex items-center gap-2",children:[i.jsx(Un,{className:"w-4 h-4"}),"Equipment Groups"]}),i.jsxs(Ze,{value:"equipment-types",className:"flex items-center gap-2",children:[i.jsx(er,{className:"w-4 h-4"}),"Equipment Types"]}),i.jsxs(Ze,{value:"equipment-subtypes",className:"flex items-center gap-2",children:[i.jsx(er,{className:"w-4 h-4"}),"Equipment Subtypes"]}),i.jsxs(Ze,{value:"risk-rankings",className:"flex items-center gap-2",children:[i.jsx(xt,{className:"w-4 h-4"}),"Risk Rankings"]}),i.jsxs(Ze,{value:"evidence-library",className:"flex items-center gap-2",children:[i.jsx(er,{className:"w-4 h-4"}),"Evidence Library"]})]}),i.jsxs(tt,{value:"ai-settings",className:"space-y-6",children:[i.jsx(ee,{className:"border-yellow-200 bg-yellow-50 dark:border-yellow-800 dark:bg-yellow-950",children:i.jsx(re,{className:"pt-6",children:i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx(xt,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 mt-0.5"}),i.jsxs("div",{className:"text-sm",children:[i.jsx("p",{className:"font-medium text-yellow-800 dark:text-yellow-200",children:"Security Notice"}),i.jsx("p",{className:"text-yellow-700 dark:text-yellow-300",children:"API keys are encrypted and stored securely on the backend. They are never exposed to client-side code. All changes are logged with timestamps for audit purposes."})]})]})})}),i.jsx(Qge,{}),i.jsxs(ee,{children:[i.jsxs(ae,{children:[i.jsx(se,{children:"Add AI Provider"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure a new AI provider for root cause analysis"})]}),i.jsxs(re,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{htmlFor:"provider",children:"AI Provider"}),i.jsxs(ut,{value:n.provider,onValueChange:z=>r(A=>({...A,provider:z})),children:[i.jsx(ot,{children:i.jsx(dt,{placeholder:"Select provider"})}),i.jsxs(lt,{children:[i.jsx(X,{value:"openai",children:"OpenAI"}),i.jsx(X,{value:"gemini",children:"Google Gemini"}),i.jsx(X,{value:"anthropic",children:"Anthropic Claude"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{htmlFor:"apiKey",children:"API Key"}),i.jsxs("div",{className:"relative",children:[i.jsx(ke,{id:"apiKey",type:e?"text":"password",value:n.apiKey,onChange:z=>r(A=>({...A,apiKey:z.target.value})),placeholder:"Enter API key",className:"pr-10"}),i.jsx(H,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>t(!e),children:e?i.jsx(Z6,{className:"w-4 h-4"}):i.jsx(Md,{className:"w-4 h-4"})})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"isActive",checked:n.isActive,onChange:z=>r(A=>({...A,isActive:z.target.checked})),className:"rounded"}),i.jsx(ve,{htmlFor:"isActive",children:"Set as active provider"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(H,{onClick:ye,disabled:B.isPending,variant:"outline",children:[i.jsx(FT,{className:"w-4 h-4 mr-2"}),B.isPending?"Testing...":"Test Key"]}),i.jsxs(H,{onClick:Fe,disabled:ce.isPending||n.testStatus!=="success",children:[i.jsx(Ml,{className:"w-4 h-4 mr-2"}),ce.isPending?"Saving...":"Save Settings"]})]}),n.testStatus&&i.jsx("div",{className:"mt-2",children:wt(n.testStatus,n.isActive)})]})]}),i.jsxs(ee,{children:[i.jsxs(ae,{children:[i.jsx(se,{children:"Current AI Providers"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage existing AI provider configurations"})]}),i.jsx(re,{children:$?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading settings..."}):!k||k.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No AI providers configured. Add one above to get started."}):i.jsxs(Di,{children:[i.jsx(Fi,{children:i.jsxs(ln,{children:[i.jsx(we,{children:"Provider"}),i.jsx(we,{children:"Status"}),i.jsx(we,{children:"Last Tested"}),i.jsx(we,{children:"Created"}),i.jsx(we,{children:"Actions"})]})}),i.jsx(Li,{children:k.map(z=>i.jsxs(ln,{children:[i.jsx(je,{className:"font-medium",children:Be(z.provider)}),i.jsx(je,{children:wt(z.testStatus,z.isActive)}),i.jsx(je,{className:"text-sm text-muted-foreground",children:z.lastTestedAt?new Date(z.lastTestedAt).toLocaleDateString():"Never"}),i.jsx(je,{className:"text-sm text-muted-foreground",children:new Date(z.createdAt).toLocaleDateString()}),i.jsx(je,{children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(H,{variant:"ghost",size:"sm",onClick:async()=>{try{const A=await gt("/api/admin/ai-status/test",{method:"POST"});E({title:"Test Successful",description:"AI provider connection verified successfully"}),Dt.invalidateQueries({queryKey:["/api/admin/ai-settings"]})}catch{E({title:"Test Failed",description:"Unable to connect to AI provider.",variant:"destructive"})}},children:"Test"}),i.jsx(H,{variant:"ghost",size:"sm",children:"Remove"})]})})]},z.id))})]})})]})]}),i.jsx(tt,{value:"equipment-groups",className:"space-y-6",children:i.jsxs(ee,{children:[i.jsxs(ae,{children:[i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(Un,{className:"w-5 h-5"}),"Equipment Groups Manager"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage equipment groups for the Evidence Library dropdown selection"})]}),i.jsxs(re,{className:"space-y-4",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ke,{placeholder:"Enter equipment group name...",value:a.name,onChange:z=>s({name:z.target.value}),onKeyPress:z=>{z.key==="Enter"&&a.name.trim()&&W.mutate(a)}}),i.jsxs(H,{onClick:()=>W.mutate(a),disabled:!a.name.trim()||W.isPending,children:[i.jsx(Un,{className:"w-4 h-4 mr-2"}),"Add Group"]})]}),i.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[i.jsxs(H,{variant:"outline",onClick:()=>w==null?void 0:w.click(),disabled:ze.isPending,children:[i.jsx(pC,{className:"w-4 h-4 mr-2"}),ze.isPending?"Importing...":"Import CSV"]}),i.jsxs(H,{variant:"outline",onClick:xe,children:[i.jsx($0,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),i.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",style:{display:"none"},ref:j,onChange:z=>{var L;const A=(L=z.target.files)==null?void 0:L[0];A&&(ze.mutate(A),z.target.value="")}})]}),T?i.jsx("div",{className:"text-center py-8",children:"Loading equipment groups..."}):i.jsxs(Di,{children:[i.jsx(Fi,{children:i.jsxs(ln,{children:[i.jsx(we,{children:"Name"}),i.jsx(we,{children:"Status"}),i.jsx(we,{children:"Created"}),i.jsx(we,{children:"Actions"})]})}),i.jsx(Li,{children:Array.isArray(O)&&O.map(z=>i.jsxs(ln,{children:[i.jsx(je,{children:(p==null?void 0:p.id)===z.id?i.jsx(ke,{value:(p==null?void 0:p.name)||"",onChange:A=>p&&h({...p,name:A.target.value}),onKeyPress:A=>{A.key==="Enter"&&Z.mutate({id:z.id,data:{name:(p==null?void 0:p.name)||"",isActive:z.isActive}})}}):i.jsx("span",{className:"font-medium",children:z.name})}),i.jsx(je,{children:i.jsx(ne,{variant:z.isActive?"default":"secondary",children:z.isActive?"Active":"Inactive"})}),i.jsx(je,{className:"text-sm text-muted-foreground",children:new Date(z.createdAt).toLocaleDateString()}),i.jsx(je,{children:i.jsx("div",{className:"flex gap-2",children:(p==null?void 0:p.id)===z.id?i.jsxs(i.Fragment,{children:[i.jsx(H,{size:"sm",onClick:()=>{Z.mutate({id:z.id,data:{name:p.name,isActive:z.isActive}})},disabled:Z.isPending,children:"Save"}),i.jsx(H,{size:"sm",variant:"outline",onClick:()=>h(null),children:"Cancel"})]}):i.jsxs(i.Fragment,{children:[i.jsx(H,{size:"sm",variant:"outline",onClick:()=>h({id:z.id,name:z.name}),children:i.jsx(Vr,{className:"w-4 h-4"})}),i.jsx(H,{size:"sm",variant:"destructive",onClick:()=>te.mutate(z.id),disabled:te.isPending,children:"Delete"})]})})})]},z.id))})]})]})]})}),i.jsx(tt,{value:"risk-rankings",className:"space-y-6",children:i.jsxs(ee,{children:[i.jsxs(ae,{children:[i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(xt,{className:"w-5 h-5"}),"Risk Rankings Manager"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage risk ranking labels for the Evidence Library dropdown selection"})]}),i.jsxs(re,{className:"space-y-4",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ke,{placeholder:"Enter risk ranking label...",value:o.label,onChange:z=>l({label:z.target.value}),onKeyPress:z=>{z.key==="Enter"&&o.label.trim()&&fe.mutate(o)}}),i.jsxs(H,{onClick:()=>fe.mutate(o),disabled:!o.label.trim()||fe.isPending,children:[i.jsx(Un,{className:"w-4 h-4 mr-2"}),"Add Ranking"]})]}),i.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[i.jsxs(H,{variant:"outline",onClick:()=>S==null?void 0:S.click(),disabled:Re.isPending,children:[i.jsx(pC,{className:"w-4 h-4 mr-2"}),Re.isPending?"Importing...":"Import CSV"]}),i.jsxs(H,{variant:"outline",onClick:le,children:[i.jsx($0,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),i.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",style:{display:"none"},ref:C,onChange:z=>{var L;const A=(L=z.target.files)==null?void 0:L[0];A&&(Re.mutate(A),z.target.value="")}})]}),I?i.jsx("div",{className:"text-center py-8",children:"Loading risk rankings..."}):i.jsxs(Di,{children:[i.jsx(Fi,{children:i.jsxs(ln,{children:[i.jsx(we,{children:"Label"}),i.jsx(we,{children:"Status"}),i.jsx(we,{children:"Created"}),i.jsx(we,{children:"Actions"})]})}),i.jsx(Li,{children:Array.isArray(P)&&P.map(z=>i.jsxs(ln,{children:[i.jsx(je,{children:(x==null?void 0:x.id)===z.id?i.jsx(ke,{value:x.label,onChange:A=>m({...x,label:A.target.value}),onKeyPress:A=>{A.key==="Enter"&&Ae.mutate({id:z.id,data:{label:x.label,isActive:z.isActive}})}}):i.jsx("span",{className:"font-medium",children:z.label})}),i.jsx(je,{children:i.jsx(ne,{variant:z.isActive?"default":"secondary",children:z.isActive?"Active":"Inactive"})}),i.jsx(je,{className:"text-sm text-muted-foreground",children:new Date(z.createdAt).toLocaleDateString()}),i.jsx(je,{children:i.jsx("div",{className:"flex gap-2",children:(x==null?void 0:x.id)===z.id?i.jsxs(i.Fragment,{children:[i.jsx(H,{size:"sm",onClick:()=>{Ae.mutate({id:z.id,data:{label:x.label,isActive:z.isActive}})},disabled:Ae.isPending,children:"Save"}),i.jsx(H,{size:"sm",variant:"outline",onClick:()=>m(null),children:"Cancel"})]}):i.jsxs(i.Fragment,{children:[i.jsx(H,{size:"sm",variant:"outline",onClick:()=>m({id:z.id,label:z.label}),children:i.jsx(Vr,{className:"w-4 h-4"})}),i.jsx(H,{size:"sm",variant:"destructive",onClick:()=>He.mutate(z.id),disabled:He.isPending,children:"Delete"})]})})})]},z.id))})]})]})]})}),i.jsx(tt,{value:"equipment-types",className:"space-y-6",children:i.jsxs(ee,{children:[i.jsxs(ae,{children:[i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(er,{className:"w-5 h-5"}),"Equipment Types Manager"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage equipment types for the Evidence Library normalized database structure"})]}),i.jsxs(re,{className:"space-y-4",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ut,{value:c.equipmentGroupId.toString(),onValueChange:z=>u({...c,equipmentGroupId:parseInt(z)}),children:[i.jsx(ot,{className:"w-[200px]",children:i.jsx(dt,{placeholder:"Select Equipment Group"})}),i.jsx(lt,{children:Array.isArray(O)&&O.map(z=>i.jsx(X,{value:z.id.toString(),children:z.name},z.id))})]}),i.jsx(ke,{placeholder:"Enter equipment type name...",value:c.name,onChange:z=>u({...c,name:z.target.value}),onKeyPress:z=>{z.key==="Enter"&&c.name.trim()&&c.equipmentGroupId>0&&me.mutate({name:c.name,equipmentGroupId:c.equipmentGroupId})}}),i.jsxs(H,{onClick:()=>me.mutate({name:c.name,equipmentGroupId:c.equipmentGroupId}),disabled:!c.name.trim()||c.equipmentGroupId===0||me.isPending,children:[i.jsx(Un,{className:"w-4 h-4 mr-2"}),"Add Type"]})]}),R?i.jsx("div",{className:"text-center py-8",children:"Loading equipment types..."}):i.jsxs(Di,{children:[i.jsx(Fi,{children:i.jsxs(ln,{children:[i.jsx(we,{children:"Name"}),i.jsx(we,{children:"Equipment Group"}),i.jsx(we,{children:"Status"}),i.jsx(we,{children:"Created"}),i.jsx(we,{children:"Actions"})]})}),i.jsx(Li,{children:Array.isArray(D)&&D.map(z=>i.jsxs(ln,{children:[i.jsx(je,{children:(g==null?void 0:g.id)===z.id?i.jsx(ke,{value:(g==null?void 0:g.name)||"",onChange:A=>g&&b({...g,name:A.target.value}),onKeyPress:A=>{A.key==="Enter"&&Y.mutate({id:z.id,data:{name:(g==null?void 0:g.name)||""}})},className:"max-w-[200px]"}):z.name}),i.jsx(je,{children:z.equipmentGroupName||"N/A"}),i.jsx(je,{children:i.jsx(ne,{variant:z.isActive?"default":"secondary",children:z.isActive?"Active":"Inactive"})}),i.jsx(je,{children:z.createdAt?new Date(z.createdAt).toLocaleDateString():"N/A"}),i.jsx(je,{children:i.jsx("div",{className:"flex gap-2",children:(g==null?void 0:g.id)===z.id?i.jsxs(i.Fragment,{children:[i.jsx(H,{size:"sm",onClick:()=>Y.mutate({id:z.id,data:{name:(g==null?void 0:g.name)||""}}),disabled:Y.isPending,children:i.jsx(Ml,{className:"w-4 h-4"})}),i.jsx(H,{size:"sm",variant:"outline",onClick:()=>b(null),children:"Cancel"})]}):i.jsxs(i.Fragment,{children:[i.jsx(H,{size:"sm",variant:"outline",onClick:()=>b({id:z.id,name:z.name}),children:i.jsx(Vr,{className:"w-4 h-4"})}),i.jsx(H,{size:"sm",variant:"destructive",onClick:()=>Ie.mutate(z.id),disabled:Ie.isPending,children:"Delete"})]})})})]},z.id))})]})]})]})}),i.jsx(tt,{value:"equipment-subtypes",className:"space-y-6",children:i.jsxs(ee,{children:[i.jsxs(ae,{children:[i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(er,{className:"w-5 h-5"}),"Equipment Subtypes Manager"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage equipment subtypes for the Evidence Library normalized database structure"})]}),i.jsxs(re,{className:"space-y-4",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(ut,{value:d.equipmentTypeId.toString(),onValueChange:z=>f({...d,equipmentTypeId:parseInt(z)}),children:[i.jsx(ot,{className:"w-[200px]",children:i.jsx(dt,{placeholder:"Select Equipment Type"})}),i.jsx(lt,{children:Array.isArray(D)&&D.map(z=>i.jsxs(X,{value:z.id.toString(),children:[z.name," (",z.equipmentGroupName,")"]},z.id))})]}),i.jsx(ke,{placeholder:"Enter equipment subtype name...",value:d.name,onChange:z=>f({...d,name:z.target.value}),onKeyPress:z=>{z.key==="Enter"&&d.name.trim()&&d.equipmentTypeId>0&&Ne.mutate({name:d.name,equipmentTypeId:d.equipmentTypeId})}}),i.jsxs(H,{onClick:()=>Ne.mutate({name:d.name,equipmentTypeId:d.equipmentTypeId}),disabled:!d.name.trim()||d.equipmentTypeId===0||Ne.isPending,children:[i.jsx(Un,{className:"w-4 h-4 mr-2"}),"Add Subtype"]})]}),q?i.jsx("div",{className:"text-center py-8",children:"Loading equipment subtypes..."}):i.jsxs(Di,{children:[i.jsx(Fi,{children:i.jsxs(ln,{children:[i.jsx(we,{children:"Name"}),i.jsx(we,{children:"Equipment Type"}),i.jsx(we,{children:"Equipment Group"}),i.jsx(we,{children:"Status"}),i.jsx(we,{children:"Created"}),i.jsx(we,{children:"Actions"})]})}),i.jsx(Li,{children:Array.isArray(V)&&V.map(z=>i.jsxs(ln,{children:[i.jsx(je,{children:(v==null?void 0:v.id)===z.id?i.jsx(ke,{value:(v==null?void 0:v.name)||"",onChange:A=>v&&y({...v,name:A.target.value}),onKeyPress:A=>{A.key==="Enter"&&Q.mutate({id:z.id,data:{name:(v==null?void 0:v.name)||""}})},className:"max-w-[200px]"}):z.name}),i.jsx(je,{children:z.equipmentTypeName||"N/A"}),i.jsx(je,{children:z.equipmentGroupName||"N/A"}),i.jsx(je,{children:i.jsx(ne,{variant:z.isActive?"default":"secondary",children:z.isActive?"Active":"Inactive"})}),i.jsx(je,{children:z.createdAt?new Date(z.createdAt).toLocaleDateString():"N/A"}),i.jsx(je,{children:i.jsx("div",{className:"flex gap-2",children:(v==null?void 0:v.id)===z.id?i.jsxs(i.Fragment,{children:[i.jsx(H,{size:"sm",onClick:()=>Q.mutate({id:z.id,data:{name:(v==null?void 0:v.name)||""}}),disabled:Q.isPending,children:i.jsx(Ml,{className:"w-4 h-4"})}),i.jsx(H,{size:"sm",variant:"outline",onClick:()=>y(null),children:"Cancel"})]}):i.jsxs(i.Fragment,{children:[i.jsx(H,{size:"sm",variant:"outline",onClick:()=>y({id:z.id,name:z.name}),children:i.jsx(Vr,{className:"w-4 h-4"})}),i.jsx(H,{size:"sm",variant:"destructive",onClick:()=>de.mutate(z.id),disabled:de.isPending,children:"Delete"})]})})})]},z.id))})]})]})]})}),i.jsx(tt,{value:"evidence-library",className:"space-y-6",children:i.jsxs(ee,{children:[i.jsxs(ae,{children:[i.jsxs(se,{className:"flex items-center space-x-2",children:[i.jsx(er,{className:"w-5 h-5"}),i.jsx("span",{children:"Evidence Library Management"})]}),i.jsx(yt,{children:"Manage evidence library records with normalized equipment hierarchy."})]}),i.jsx(re,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx(H,{asChild:!0,className:"w-full",children:i.jsxs(fn,{href:"/evidence-library-management",children:[i.jsx(er,{className:"w-4 h-4 mr-2"}),"Open Evidence Library Manager"]})}),i.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Access the full Evidence Library management interface with search, filter, edit, and import capabilities."})]})})]})})]})]})}function Xge(){const[,e]=Xr(),{toast:t}=Cn(),[n,r]=N.useState({whatHappened:"",whereHappened:"",whenHappened:"",consequence:"",detectedBy:""}),a=Je({mutationFn:async l=>await(await gt("/api/investigations/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).json(),onSuccess:l=>{t({title:"Investigation Created",description:"Problem definition complete. Now select investigation type."}),e(`/investigation/${l.investigationId}/type`)},onError:l=>{t({title:"Error",description:"Failed to create investigation. Please try again.",variant:"destructive"})}}),s=l=>{if(l.preventDefault(),!n.whatHappened||!n.whereHappened||!n.whenHappened){t({title:"Missing Information",description:"Please fill in all required fields.",variant:"destructive"});return}a.mutate(n)},o=(l,c)=>{r(u=>({...u,[l]:c}))};return i.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"New RCA Investigation"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Step 1 of 4: Problem Definition"})]}),i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center justify-between max-w-2xl",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-500 text-white rounded-full text-sm font-semibold",children:"1"}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Problem Definition"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Current Step"})]})]}),i.jsx(Er,{className:"h-4 w-4 text-gray-400"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-200 text-gray-600 rounded-full text-sm",children:"2"}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Investigation Type"}),i.jsx("p",{className:"text-xs text-gray-400",children:"ECFA vs Fault Tree"})]})]}),i.jsx(Er,{className:"h-4 w-4 text-gray-400"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-200 text-gray-600 rounded-full text-sm",children:"3"}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Evidence Collection"}),i.jsx("p",{className:"text-xs text-gray-400",children:"Structured Questionnaire"})]})]}),i.jsx(Er,{className:"h-4 w-4 text-gray-400"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-gray-200 text-gray-600 rounded-full text-sm",children:"4"}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm text-gray-500",children:"AI Analysis"}),i.jsx("p",{className:"text-xs text-gray-400",children:"Results & Recommendations"})]})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsxs(ee,{children:[i.jsxs(ae,{children:[i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(vn,{className:"h-5 w-5"}),"Problem Definition"]}),i.jsx(yt,{children:"Provide initial information about the incident or failure to investigate."})]}),i.jsx(re,{children:i.jsxs("form",{onSubmit:s,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx(ve,{htmlFor:"whatHappened",className:"text-base font-medium",children:"What happened? *"}),i.jsx(Te,{id:"whatHappened",placeholder:"Describe the incident, failure, or problem that occurred...",value:n.whatHappened,onChange:l=>o("whatHappened",l.target.value),required:!0,className:"mt-2 min-h-[100px]"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ve,{htmlFor:"whereHappened",className:"text-base font-medium",children:"Where did it happen? *"}),i.jsx(ke,{id:"whereHappened",placeholder:"Location, area, system, or equipment",value:n.whereHappened,onChange:l=>o("whereHappened",l.target.value),required:!0,className:"mt-2"})]}),i.jsxs("div",{children:[i.jsx(ve,{htmlFor:"whenHappened",className:"text-base font-medium",children:"When did it happen? *"}),i.jsx(ke,{id:"whenHappened",type:"datetime-local",value:n.whenHappened,onChange:l=>o("whenHappened",l.target.value),required:!0,className:"mt-2"})]})]}),i.jsxs("div",{children:[i.jsx(ve,{htmlFor:"consequence",className:"text-base font-medium",children:"What is the consequence or impact?"}),i.jsx(Te,{id:"consequence",placeholder:"Describe the consequences, impacts, or effects...",value:n.consequence,onChange:l=>o("consequence",l.target.value),className:"mt-2"})]}),i.jsxs("div",{children:[i.jsx(ve,{htmlFor:"detectedBy",className:"text-base font-medium",children:"Who detected or reported the event?"}),i.jsx(ke,{id:"detectedBy",placeholder:"Name, role, or system that detected the issue",value:n.detectedBy,onChange:l=>o("detectedBy",l.target.value),className:"mt-2"})]}),i.jsx(H,{type:"submit",className:"w-full",disabled:a.isPending,children:a.isPending?"Creating Investigation...":i.jsxs(i.Fragment,{children:["Continue to Investigation Type",i.jsx(Er,{className:"h-4 w-4 ml-2"})]})})]})})]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Qt,{children:[i.jsx(xt,{className:"h-4 w-4"}),i.jsxs(Xt,{children:[i.jsx("strong",{children:"New Methodology:"})," This investigation follows a structured approach with mandatory investigation type selection (ECFA vs Fault Tree) that determines all subsequent workflow, forms, and analysis logic."]})]}),i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsx(se,{className:"text-lg",children:"Investigation Types"})}),i.jsxs(re,{className:"space-y-4",children:[i.jsxs("div",{className:"border-l-4 border-red-500 pl-4",children:[i.jsx("h4",{className:"font-semibold text-red-700 dark:text-red-300",children:"ECFA (Event-Causal Factor Analysis)"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"For all safety and environmental incidents. Focuses on event chronology, barriers, and contributing factors."})]}),i.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[i.jsx("h4",{className:"font-semibold text-blue-700 dark:text-blue-300",children:"Fault Tree Analysis (FTA)"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"For plant asset or equipment failures. Uses structured questionnaire with 8 sections and ISO 14224 taxonomy."})]})]})]}),i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsx(se,{className:"text-lg",children:"What happens next?"})}),i.jsxs(re,{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-6 h-6 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mt-0.5",children:i.jsx("span",{className:"text-xs font-semibold text-blue-600 dark:text-blue-300",children:"2"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Investigation Type Selection"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Mandatory choice between ECFA and Fault Tree Analysis"})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-6 h-6 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mt-0.5",children:i.jsx("span",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400",children:"3"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Dynamic Evidence Collection"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Structured forms based on your investigation type selection"})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-6 h-6 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mt-0.5",children:i.jsx("span",{className:"text-xs font-semibold text-gray-600 dark:text-gray-400",children:"4"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"AI Analysis & Results"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Analysis only after 80% evidence completion requirement"})]})]})]})]})]})]})]})}function Zge(){const[,e]=Xr(),[,t]=Iv("/investigation/:id/type"),{toast:n}=Cn(),r=t==null?void 0:t.id,[a,s]=N.useState(""),{data:o,isLoading:l}=Ye({queryKey:["/api/investigations",r],enabled:!!r}),c=Je({mutationFn:async f=>gt(`/api/investigations/${r}/type`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({investigationType:f})}),onSuccess:f=>{n({title:"Investigation Type Set",description:`${a==="safety_environmental"?"ECFA":"Fault Tree Analysis"} workflow activated.`}),e(`/investigation/${r}/evidence`)},onError:f=>{n({title:"Error",description:"Failed to set investigation type. Please try again.",variant:"destructive"})}}),u=f=>{s(f)},d=()=>{if(!a){n({title:"Selection Required",description:"Please select an investigation type to continue.",variant:"destructive"});return}c.mutate(a)};return l?i.jsx("div",{className:"container mx-auto p-6 max-w-4xl",children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading investigation..."})]})})}):o?i.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Investigation Type Selection"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Step 2 of 4: Choose your investigation methodology"})]}),i.jsxs(ee,{className:"mb-8",children:[i.jsx(ae,{children:i.jsx(se,{className:"text-lg",children:"Problem Summary"})}),i.jsx(re,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"What happened:"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.whatHappened})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Where:"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.whereHappened})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"When:"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date(o.whenHappened).toLocaleString()})]}),o.consequence&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Impact:"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.consequence})]})]})})]}),i.jsx("div",{className:"mb-8",children:i.jsxs(Qt,{className:"border-2 border-amber-200 bg-amber-50 dark:bg-amber-950 dark:border-amber-800",children:[i.jsx(xt,{className:"h-5 w-5 text-amber-600"}),i.jsxs(Xt,{className:"text-base font-medium text-amber-800 dark:text-amber-200",children:[i.jsx("strong",{children:"Mandatory Selection:"})," Is this investigation related to a safety or environmental incident?",i.jsx("br",{}),i.jsx("span",{className:"text-sm font-normal mt-2 block",children:"This choice is mandatory and sets all downstream logic, forms, analysis methods, and outputs."})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs(ee,{className:`cursor-pointer transition-all duration-200 hover:shadow-lg ${a==="safety_environmental"?"ring-2 ring-red-500 bg-red-50 dark:bg-red-950 border-red-200":"hover:border-red-300"}`,onClick:()=>u("safety_environmental"),children:[i.jsx(ae,{className:"pb-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900 rounded-lg",children:i.jsx(ru,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),i.jsxs("div",{children:[i.jsx(se,{className:"text-xl text-red-700 dark:text-red-300",children:"YES - Safety/Environmental"}),i.jsx(ne,{variant:"destructive",className:"mt-1",children:"ECFA Methodology"})]})]}),a==="safety_environmental"&&i.jsx(Yt,{className:"h-6 w-6 text-red-600"})]})}),i.jsxs(re,{children:[i.jsx(yt,{className:"text-base mb-4",children:"For all safety and environmental incidents requiring Event-Causal Factor Analysis."}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-semibold text-red-700 dark:text-red-300",children:"ECFA Framework includes:"}),i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mt-2"}),"Event chronology and timeline reconstruction"]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mt-2"}),"Immediate, underlying, and root causes analysis"]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mt-2"}),"Barriers and contributing factors assessment"]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full mt-2"}),"Risk/severity assessment and regulatory reporting"]})]})]}),i.jsx("div",{className:"mt-4 p-3 bg-red-100 dark:bg-red-900 rounded-lg",children:i.jsxs("p",{className:"text-sm text-red-800 dark:text-red-200",children:[i.jsx("strong",{children:"Use for:"})," Personal injury, environmental releases, fires/explosions, process safety events, near misses, security incidents"]})})]})]}),i.jsxs(ee,{className:`cursor-pointer transition-all duration-200 hover:shadow-lg ${a==="equipment_failure"?"ring-2 ring-blue-500 bg-blue-50 dark:bg-blue-950 border-blue-200":"hover:border-blue-300"}`,onClick:()=>u("equipment_failure"),children:[i.jsx(ae,{className:"pb-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:i.jsx(Km,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{children:[i.jsx(se,{className:"text-xl text-blue-700 dark:text-blue-300",children:"NO - Equipment/Process Failure"}),i.jsx(ne,{variant:"secondary",className:"mt-1 bg-blue-100 text-blue-800",children:"Fault Tree Analysis"})]})]}),a==="equipment_failure"&&i.jsx(Yt,{className:"h-6 w-6 text-blue-600"})]})}),i.jsxs(re,{children:[i.jsx(yt,{className:"text-base mb-4",children:"For plant asset or equipment failures using structured Fault Tree Analysis with ISO 14224 taxonomy."}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("h4",{className:"font-semibold text-blue-700 dark:text-blue-300",children:"8-Section Questionnaire:"}),i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"General Information (Equipment taxonomy & hierarchy)"]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"Failure/Event Details & Operating Mode"]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"Symptom & Evidence Collection"]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"Operating & Maintenance History"]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"Equipment-Specific Parameters (conditional)"]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"Human Factors & Materials/Spares"]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-2"}),"Contributing/External Factors"]})]})]}),i.jsx("div",{className:"mt-4 p-3 bg-blue-100 dark:bg-blue-900 rounded-lg",children:i.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[i.jsx("strong",{children:"Use for:"})," Pump failures, motor issues, valve problems, process equipment breakdowns, instrument malfunctions"]})})]})]})]}),i.jsx("div",{className:"flex justify-center",children:i.jsx(H,{onClick:d,disabled:!a||c.isPending,size:"lg",className:"min-w-[200px]",children:c.isPending?"Setting Investigation Type...":i.jsxs(i.Fragment,{children:["Continue to Evidence Collection",i.jsx(Er,{className:"h-4 w-4 ml-2"})]})})}),a&&i.jsxs(ee,{className:"mt-8",children:[i.jsx(ae,{children:i.jsx(se,{className:"text-lg",children:"Next: Evidence Collection"})}),i.jsxs(re,{children:[i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Based on your selection, you'll complete:"}),a==="safety_environmental"?i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"font-medium text-red-700 dark:text-red-300",children:"ECFA-Specific Forms:"}),i.jsxs("ul",{className:"text-sm space-y-1 ml-4",children:[i.jsx("li",{children:" Event classification and timeline"}),i.jsx("li",{children:" Immediate and root cause analysis"}),i.jsx("li",{children:" Barrier analysis and contributing factors"}),i.jsx("li",{children:" Risk assessment and regulatory status"})]})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"font-medium text-blue-700 dark:text-blue-300",children:"Fault Tree Questionnaire (8 Sections):"}),i.jsxs("ul",{className:"text-sm space-y-1 ml-4",children:[i.jsx("li",{children:" Equipment information with ISO 14224 taxonomy"}),i.jsx("li",{children:" Dynamic questions based on equipment type"}),i.jsx("li",{children:" Equipment-specific parameters (pressure, temperature, etc.)"}),i.jsx("li",{children:" Validation ensures 80% completion before analysis"})]})]})]})]})]}):i.jsx("div",{className:"container mx-auto p-6 max-w-4xl",children:i.jsxs(Qt,{children:[i.jsx(xt,{className:"h-4 w-4"}),i.jsx(Xt,{children:"Investigation not found. Please check the URL or start a new investigation."})]})})}const Jge=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Kc(e,t,n){const r=exe(e),{webkitRelativePath:a}=e,s=typeof t=="string"?t:typeof a=="string"&&a.length>0?a:`./${e.name}`;return typeof r.path!="string"&&F2(r,"path",s),F2(r,"relativePath",s),r}function exe(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const r=t.split(".").pop().toLowerCase(),a=Jge.get(r);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}function F2(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const txe=[".DS_Store","Thumbs.db"];function nxe(e){return Zo(this,void 0,void 0,function*(){return nv(e)&&rxe(e.dataTransfer)?oxe(e.dataTransfer,e.type):ixe(e)?axe(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?sxe(e):[]})}function rxe(e){return nv(e)}function ixe(e){return nv(e)&&nv(e.target)}function nv(e){return typeof e=="object"&&e!==null}function axe(e){return Cj(e.target.files).map(t=>Kc(t))}function sxe(e){return Zo(this,void 0,void 0,function*(){return(yield Promise.all(e.map(n=>n.getFile()))).map(n=>Kc(n))})}function oxe(e,t){return Zo(this,void 0,void 0,function*(){if(e.items){const n=Cj(e.items).filter(a=>a.kind==="file");if(t!=="drop")return n;const r=yield Promise.all(n.map(lxe));return L2(PF(r))}return L2(Cj(e.files).map(n=>Kc(n)))})}function L2(e){return e.filter(t=>txe.indexOf(t.name)===-1)}function Cj(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(r)}return t}function lxe(e){if(typeof e.webkitGetAsEntry!="function")return q2(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?TF(t):q2(e,t)}function PF(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?PF(n):[n]],[])}function q2(e,t){return Zo(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const s=yield e.getAsFileSystemHandle();if(s===null)throw new Error(`${e} is not a File`);if(s!==void 0){const o=yield s.getFile();return o.handle=s,Kc(o)}}const r=e.getAsFile();if(!r)throw new Error(`${e} is not a File`);return Kc(r,(n=t==null?void 0:t.fullPath)!==null&&n!==void 0?n:void 0)})}function cxe(e){return Zo(this,void 0,void 0,function*(){return e.isDirectory?TF(e):uxe(e)})}function TF(e){const t=e.createReader();return new Promise((n,r)=>{const a=[];function s(){t.readEntries(o=>Zo(this,void 0,void 0,function*(){if(o.length){const l=Promise.all(o.map(cxe));a.push(l),s()}else try{const l=yield Promise.all(a);n(l)}catch(l){r(l)}}),o=>{r(o)})}s()})}function uxe(e){return Zo(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(r=>{const a=Kc(r,e.fullPath);t(a)},r=>{n(r)})})})}var yy=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(n.length===0)return!0;var r=e.name||"",a=(e.type||"").toLowerCase(),s=a.replace(/\/.*$/,"");return n.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?s===l.replace(/\/.*$/,""):a===l})}return!0};function z2(e){return pxe(e)||fxe(e)||RF(e)||dxe()}function dxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pxe(e){if(Array.isArray(e))return Ej(e)}function B2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function U2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B2(Object(n),!0).forEach(function(r){IF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nf(e,t){return vxe(e)||hxe(e,t)||RF(e,t)||mxe()}function mxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RF(e,t){if(e){if(typeof e=="string")return Ej(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ej(e,t)}}function Ej(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hxe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,s=!1,o,l;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));a=!0);}catch(c){s=!0,l=c}finally{try{!a&&n.return!=null&&n.return()}finally{if(s)throw l}}return r}}function vxe(e){if(Array.isArray(e))return e}var gxe=typeof yy=="function"?yy:yy.default,xxe="file-invalid-type",yxe="file-too-large",bxe="file-too-small",jxe="too-many-files",wxe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=t.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:xxe,message:"File type must be ".concat(r)}},V2=function(t){return{code:yxe,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},H2=function(t){return{code:bxe,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},Nxe={code:jxe,message:"Too many files"};function $F(e,t){var n=e.type==="application/x-moz-file"||gxe(e,t);return[n,n?null:wxe(t)]}function MF(e,t,n){if(to(e.size))if(to(t)&&to(n)){if(e.size>n)return[!1,V2(n)];if(e.size<t)return[!1,H2(t)]}else{if(to(t)&&e.size<t)return[!1,H2(t)];if(to(n)&&e.size>n)return[!1,V2(n)]}return[!0,null]}function to(e){return e!=null}function Sxe(e){var t=e.files,n=e.accept,r=e.minSize,a=e.maxSize,s=e.multiple,o=e.maxFiles,l=e.validator;return!s&&t.length>1||s&&o>=1&&t.length>o?!1:t.every(function(c){var u=$F(c,n),d=Nf(u,1),f=d[0],p=MF(c,r,a),h=Nf(p,1),x=h[0],m=l?l(c):null;return f&&x&&!m})}function rv(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Zp(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function W2(e){e.preventDefault()}function Cxe(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Exe(e){return e.indexOf("Edge/")!==-1}function Axe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Cxe(e)||Exe(e)}function _i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var a=arguments.length,s=new Array(a>1?a-1:0),o=1;o<a;o++)s[o-1]=arguments[o];return t.some(function(l){return!rv(r)&&l&&l.apply(void 0,[r].concat(s)),rv(r)})}}function kxe(){return"showOpenFilePicker"in window}function _xe(e){if(to(e)){var t=Object.entries(e).filter(function(n){var r=Nf(n,2),a=r[0],s=r[1],o=!0;return DF(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every(FF))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,r){var a=Nf(r,2),s=a[0],o=a[1];return U2(U2({},n),{},IF({},s,o))},{});return[{description:"Files",accept:t}]}return e}function Oxe(e){if(to(e))return Object.entries(e).reduce(function(t,n){var r=Nf(n,2),a=r[0],s=r[1];return[].concat(z2(t),[a],z2(s))},[]).filter(function(t){return DF(t)||FF(t)}).join(",")}function Pxe(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Txe(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function DF(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function FF(e){return/^.*\.[\w]+$/.test(e)}var Ixe=["children"],Rxe=["open"],$xe=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Mxe=["refKey","onChange","onClick"];function Dxe(e){return qxe(e)||Lxe(e)||LF(e)||Fxe()}function Fxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qxe(e){if(Array.isArray(e))return Aj(e)}function by(e,t){return Uxe(e)||Bxe(e,t)||LF(e,t)||zxe()}function zxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LF(e,t){if(e){if(typeof e=="string")return Aj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Aj(e,t)}}function Aj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bxe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,s=!1,o,l;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));a=!0);}catch(c){s=!0,l=c}finally{try{!a&&n.return!=null&&n.return()}finally{if(s)throw l}}return r}}function Uxe(e){if(Array.isArray(e))return e}function G2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G2(Object(n),!0).forEach(function(r){kj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iv(e,t){if(e==null)return{};var n=Vxe(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Vxe(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,s;for(s=0;s<r.length;s++)a=r[s],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}var SN=N.forwardRef(function(e,t){var n=e.children,r=iv(e,Ixe),a=CN(r),s=a.open,o=iv(a,Rxe);return N.useImperativeHandle(t,function(){return{open:s}},[s]),F.createElement(N.Fragment,null,n(Zt(Zt({},o),{},{open:s})))});SN.displayName="Dropzone";var qF={disabled:!1,getFilesFromEvent:nxe,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};SN.defaultProps=qF;SN.propTypes={children:De.func,accept:De.objectOf(De.arrayOf(De.string)),multiple:De.bool,preventDropOnDocument:De.bool,noClick:De.bool,noKeyboard:De.bool,noDrag:De.bool,noDragEventsBubbling:De.bool,minSize:De.number,maxSize:De.number,maxFiles:De.number,disabled:De.bool,getFilesFromEvent:De.func,onFileDialogCancel:De.func,onFileDialogOpen:De.func,useFsAccessApi:De.bool,autoFocus:De.bool,onDragEnter:De.func,onDragLeave:De.func,onDragOver:De.func,onDrop:De.func,onDropAccepted:De.func,onDropRejected:De.func,onError:De.func,validator:De.func};var _j={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function CN(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Zt(Zt({},qF),e),n=t.accept,r=t.disabled,a=t.getFilesFromEvent,s=t.maxSize,o=t.minSize,l=t.multiple,c=t.maxFiles,u=t.onDragEnter,d=t.onDragLeave,f=t.onDragOver,p=t.onDrop,h=t.onDropAccepted,x=t.onDropRejected,m=t.onFileDialogCancel,g=t.onFileDialogOpen,b=t.useFsAccessApi,v=t.autoFocus,y=t.preventDropOnDocument,w=t.noClick,j=t.noKeyboard,S=t.noDrag,C=t.noDragEventsBubbling,E=t.onError,k=t.validator,$=N.useMemo(function(){return Oxe(n)},[n]),O=N.useMemo(function(){return _xe(n)},[n]),T=N.useMemo(function(){return typeof g=="function"?g:K2},[g]),P=N.useMemo(function(){return typeof m=="function"?m:K2},[m]),I=N.useRef(null),D=N.useRef(null),R=N.useReducer(Hxe,_j),V=by(R,2),q=V[0],B=V[1],W=q.isFocused,Z=q.isFileDialogActive,te=N.useRef(typeof window<"u"&&window.isSecureContext&&b&&kxe()),fe=function(){!te.current&&Z&&setTimeout(function(){if(D.current){var G=D.current.files;G.length||(B({type:"closeDialog"}),P())}},300)};N.useEffect(function(){return window.addEventListener("focus",fe,!1),function(){window.removeEventListener("focus",fe,!1)}},[D,Z,P,te]);var Ae=N.useRef([]),He=function(G){I.current&&I.current.contains(G.target)||(G.preventDefault(),Ae.current=[])};N.useEffect(function(){return y&&(document.addEventListener("dragover",W2,!1),document.addEventListener("drop",He,!1)),function(){y&&(document.removeEventListener("dragover",W2),document.removeEventListener("drop",He))}},[I,y]),N.useEffect(function(){return!r&&v&&I.current&&I.current.focus(),function(){}},[I,v,r]);var ze=N.useCallback(function(M){E?E(M):console.error(M)},[E]),xe=N.useCallback(function(M){M.preventDefault(),M.persist(),wt(M),Ae.current=[].concat(Dxe(Ae.current),[M.target]),Zp(M)&&Promise.resolve(a(M)).then(function(G){if(!(rv(M)&&!C)){var J=G.length,oe=J>0&&Sxe({files:G,accept:$,minSize:o,maxSize:s,multiple:l,maxFiles:c,validator:k}),_=J>0&&!oe;B({isDragAccept:oe,isDragReject:_,isDragActive:!0,type:"setDraggedFiles"}),u&&u(M)}}).catch(function(G){return ze(G)})},[a,u,ze,C,$,o,s,l,c,k]),Re=N.useCallback(function(M){M.preventDefault(),M.persist(),wt(M);var G=Zp(M);if(G&&M.dataTransfer)try{M.dataTransfer.dropEffect="copy"}catch{}return G&&f&&f(M),!1},[f,C]),le=N.useCallback(function(M){M.preventDefault(),M.persist(),wt(M);var G=Ae.current.filter(function(oe){return I.current&&I.current.contains(oe)}),J=G.indexOf(M.target);J!==-1&&G.splice(J,1),Ae.current=G,!(G.length>0)&&(B({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Zp(M)&&d&&d(M))},[I,d,C]),ce=N.useCallback(function(M,G){var J=[],oe=[];M.forEach(function(_){var K=$F(_,$),Se=by(K,2),Ue=Se[0],qe=Se[1],Tn=MF(_,o,s),Va=by(Tn,2),bu=Va[0],Jo=Va[1],ju=k?k(_):null;if(Ue&&bu&&!ju)J.push(_);else{var el=[qe,Jo];ju&&(el=el.concat(ju)),oe.push({file:_,errors:el.filter(function(mL){return mL})})}}),(!l&&J.length>1||l&&c>=1&&J.length>c)&&(J.forEach(function(_){oe.push({file:_,errors:[Nxe]})}),J.splice(0)),B({acceptedFiles:J,fileRejections:oe,isDragReject:oe.length>0,type:"setFiles"}),p&&p(J,oe,G),oe.length>0&&x&&x(oe,G),J.length>0&&h&&h(J,G)},[B,l,$,o,s,c,p,h,x,k]),me=N.useCallback(function(M){M.preventDefault(),M.persist(),wt(M),Ae.current=[],Zp(M)&&Promise.resolve(a(M)).then(function(G){rv(M)&&!C||ce(G,M)}).catch(function(G){return ze(G)}),B({type:"reset"})},[a,ce,ze,C]),Y=N.useCallback(function(){if(te.current){B({type:"openDialog"}),T();var M={multiple:l,types:O};window.showOpenFilePicker(M).then(function(G){return a(G)}).then(function(G){ce(G,null),B({type:"closeDialog"})}).catch(function(G){Pxe(G)?(P(G),B({type:"closeDialog"})):Txe(G)?(te.current=!1,D.current?(D.current.value=null,D.current.click()):ze(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ze(G)});return}D.current&&(B({type:"openDialog"}),T(),D.current.value=null,D.current.click())},[B,T,P,b,ce,ze,O,l]),Ie=N.useCallback(function(M){!I.current||!I.current.isEqualNode(M.target)||(M.key===" "||M.key==="Enter"||M.keyCode===32||M.keyCode===13)&&(M.preventDefault(),Y())},[I,Y]),Ne=N.useCallback(function(){B({type:"focus"})},[]),Q=N.useCallback(function(){B({type:"blur"})},[]),de=N.useCallback(function(){w||(Axe()?setTimeout(Y,0):Y())},[w,Y]),ye=function(G){return r?null:G},Fe=function(G){return j?null:ye(G)},Be=function(G){return S?null:ye(G)},wt=function(G){C&&G.stopPropagation()},z=N.useMemo(function(){return function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},G=M.refKey,J=G===void 0?"ref":G,oe=M.role,_=M.onKeyDown,K=M.onFocus,Se=M.onBlur,Ue=M.onClick,qe=M.onDragEnter,Tn=M.onDragOver,Va=M.onDragLeave,bu=M.onDrop,Jo=iv(M,$xe);return Zt(Zt(kj({onKeyDown:Fe(_i(_,Ie)),onFocus:Fe(_i(K,Ne)),onBlur:Fe(_i(Se,Q)),onClick:ye(_i(Ue,de)),onDragEnter:Be(_i(qe,xe)),onDragOver:Be(_i(Tn,Re)),onDragLeave:Be(_i(Va,le)),onDrop:Be(_i(bu,me)),role:typeof oe=="string"&&oe!==""?oe:"presentation"},J,I),!r&&!j?{tabIndex:0}:{}),Jo)}},[I,Ie,Ne,Q,de,xe,Re,le,me,j,S,r]),A=N.useCallback(function(M){M.stopPropagation()},[]),L=N.useMemo(function(){return function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},G=M.refKey,J=G===void 0?"ref":G,oe=M.onChange,_=M.onClick,K=iv(M,Mxe),Se=kj({accept:$,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:ye(_i(oe,me)),onClick:ye(_i(_,A)),tabIndex:-1},J,D);return Zt(Zt({},Se),K)}},[D,n,l,me,r]);return Zt(Zt({},q),{},{isFocused:W&&!r,getRootProps:z,getInputProps:L,rootRef:I,inputRef:D,open:ye(Y)})}function Hxe(e,t){switch(t.type){case"focus":return Zt(Zt({},e),{},{isFocused:!0});case"blur":return Zt(Zt({},e),{},{isFocused:!1});case"openDialog":return Zt(Zt({},_j),{},{isFileDialogActive:!0});case"closeDialog":return Zt(Zt({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Zt(Zt({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Zt(Zt({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Zt({},_j);default:return e}}function K2(){}function Y2(){const[,e]=Xr(),[t,n]=N.useState(null),[r,a]=N.useState([]),[s,o]=N.useState(""),[l,c]=N.useState(!1),[u,d]=N.useState(0);N.useEffect(()=>{const S=new URLSearchParams(window.location.search).get("incident");S&&n(parseInt(S))},[]);const{data:f,isLoading:p}=Ye({queryKey:["/api/incidents",t],enabled:!!t}),h=Je({mutationFn:async j=>{const S=await fetch(`/api/incidents/${j.id}/generate-evidence-categories`,{method:"POST",body:JSON.stringify({equipmentGroup:j.equipmentGroup,equipmentType:j.equipmentType,evidenceChecklist:j.evidenceChecklist}),headers:{"Content-Type":"application/json"}});if(!S.ok)throw new Error(`Failed to generate categories: ${S.status}`);return await S.json()},onSuccess:j=>{console.log("Evidence categories generated:",j),j&&j.categories&&Array.isArray(j.categories)?(a(j.categories),j.categories.length>0&&o(j.categories[0].id)):(console.error("Invalid evidence categories format:",j),a([]))},onError:j=>{console.error("Failed to generate evidence categories:",j)}}),x=Je({mutationFn:async j=>{const S=new FormData;S.append("files",j.file),S.append("categoryId",j.categoryId),S.append("incidentId",t.toString()),j.description&&S.append("description",j.description);const C=await fetch(`/api/incidents/${t}/upload-evidence`,{method:"POST",body:S});if(!C.ok){const E=await C.text();throw console.error("Upload failed:",E),new Error(`Upload failed: ${C.status}`)}return await C.json()},onSuccess:(j,S)=>{a(C=>C.map(E=>E.id===S.categoryId?{...E,files:[...E.files,j.file]}:E)),c(!1)}});N.useEffect(()=>{f&&Array.isArray(r)&&r.length===0&&f.id&&f.title&&f.equipmentGroup&&f.equipmentType&&h.mutate(f)},[f]),N.useEffect(()=>{if(Array.isArray(r)&&r.length>0){const j=r.filter(O=>O.required),S=j.filter(O=>{var T;return O.files.length>0||O.isUnavailable&&((T=O.unavailableReason)==null?void 0:T.trim())}),C=r.filter(O=>!O.required),E=C.filter(O=>{var T;return O.files.length>0||O.isUnavailable&&((T=O.unavailableReason)==null?void 0:T.trim())}),k=j.length>0?S.length/j.length*70:70,$=C.length>0?E.length/C.length*30:30;d(Math.round(k+$))}},[r]);const m=(j,S,C)=>{j.forEach(E=>{c(!0),x.mutate({file:E,categoryId:S,description:C})})},g=(j,S)=>{a(C=>C.map(E=>E.id===j?{...E,files:E.files.filter(k=>k.id!==S)}:E))},b=(j,S,C)=>{a(E=>E.map(k=>k.id===j?{...k,isUnavailable:S,unavailableReason:C||"",files:S?[]:k.files}:k))},v=r.filter(j=>j.required).every(j=>{var S;return j.files.length>0||j.isUnavailable&&((S=j.unavailableReason)==null?void 0:S.trim())}),y=()=>{t&&(console.log("[EVIDENCE COLLECTION] Proceeding to MANDATORY Stage 3B Human Review"),window.location.href=`/human-review?incident=${t}`)};if(p||!f)return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(on,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),i.jsx("p",{children:"Loading incident details..."})]})});const w=r.find(j=>j.id===s);return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("header",{className:"bg-card shadow-sm border-b border-border",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between items-center h-16",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(H,{variant:"ghost",onClick:()=>e("/"),children:" Back to Home"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("img",{src:"/quanntaum-logo.jpg",alt:"Quanntaum Logo",className:"h-5 w-5 rounded object-contain"}),i.jsx("h1",{className:"text-xl font-bold",children:"Step 4: Evidence Collection"})]})]}),i.jsxs(ne,{variant:"outline",className:"text-sm",children:["Incident #",(f==null?void 0:f.id)||"Loading..."]})]})})}),i.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsx(ee,{className:"mb-8",children:i.jsxs(ae,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(vn,{className:"h-5 w-5"}),(f==null?void 0:f.title)||"Loading..."]}),i.jsxs(yt,{children:["Equipment: ",(f==null?void 0:f.equipmentGroup)||"Unknown","  ",(f==null?void 0:f.equipmentType)||"Unknown"," (",(f==null?void 0:f.equipmentId)||"Unknown",")"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-2xl font-bold text-primary",children:[u,"%"]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Evidence Collected"})]})]}),i.jsx(Gc,{value:u,className:"mt-4"})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsxs(ee,{children:[i.jsxs(ae,{children:[i.jsx(se,{className:"text-base",children:"Evidence Categories"}),i.jsxs(yt,{children:[r.filter(j=>j.required).length," required, ",r.filter(j=>!j.required).length," optional"]})]}),i.jsx(re,{className:"space-y-2",children:r.map(j=>i.jsxs("button",{onClick:()=>o(j.id),className:`w-full text-left p-3 rounded-lg border transition-colors ${s===j.id?"border-primary bg-primary/5":"border-border hover:border-primary/50"} ${j.isUnavailable?"bg-orange-50 border-orange-200":""}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"font-medium text-sm",children:j.name}),j.isUnavailable?i.jsx(Ki,{className:"h-4 w-4 text-orange-600"}):j.files.length>0?i.jsx(Yt,{className:"h-4 w-4 text-green-600"}):j.required?i.jsx(xt,{className:"h-4 w-4 text-orange-500"}):i.jsx("div",{className:"h-4 w-4"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ne,{variant:j.required?"destructive":"secondary",className:"text-xs",children:j.required?"Required":"Optional"}),j.isUnavailable&&i.jsx(ne,{variant:"outline",className:"text-xs bg-orange-100 border-orange-300",children:"Not Available"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:j.isUnavailable?"Documented":`${j.files.length}/${j.maxFiles} files`})]})]},j.id))})]})}),i.jsx("div",{className:"lg:col-span-3",children:w&&i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(se,{className:"flex items-center gap-2",children:[w.name,i.jsx(ne,{variant:w.required?"destructive":"secondary",children:w.required?"Required":"Optional"}),w.isUnavailable&&i.jsx(ne,{variant:"outline",className:"bg-orange-100 border-orange-300 text-orange-800",children:"Not Available"})]}),i.jsx(yt,{children:w.description})]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:w.isUnavailable?"Evidence documented as unavailable":`${w.files.length} / ${w.maxFiles} files`})]})}),i.jsx(re,{children:i.jsx(Wxe,{category:w,onFileUpload:m,onRemoveFile:g,isUploading:l,onUnavailabilityChange:b})})]})})]}),i.jsxs("div",{className:"mt-8 flex justify-between",children:[i.jsx(H,{variant:"outline",onClick:()=>e(`/evidence-checklist?incident=${t}`),children:" Back to Evidence Checklist"}),i.jsx(H,{onClick:y,disabled:!v,className:"flex items-center gap-2",children:i.jsxs(i.Fragment,{children:["Proceed to Human Review (Stage 3B)",i.jsx(Yf,{className:"h-4 w-4"})]})})]}),!v&&r.length>0&&i.jsxs(Qt,{className:"mt-4 border-amber-200 bg-amber-50",children:[i.jsx(xt,{className:"h-4 w-4"}),i.jsxs(Xt,{children:[i.jsx("strong",{children:"Requirements:"})," For each required evidence category, either upload files OR mark as unavailable with explanation."]})]})]})]})}function Wxe({category:e,onFileUpload:t,onRemoveFile:n,isUploading:r,onUnavailabilityChange:a}){const[s,o]=N.useState(""),[l,c]=N.useState(e.unavailableReason||""),{getRootProps:u,getInputProps:d,isDragActive:f}=CN({onDrop:p=>{p.length>0&&(t(p,e.id,s),o(""))},accept:e.acceptedTypes.reduce((p,h)=>{const m={pdf:["application/pdf"],xlsx:["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],csv:["text/csv"],txt:["text/plain"],jpg:["image/jpeg"],png:["image/png"],gif:["image/gif"],docx:["application/vnd.openxmlformats-officedocument.wordprocessingml.document"]}[h]||[h];return{...p,...m.reduce((g,b)=>({...g,[b]:[]}),{})}},{}),maxFiles:e.maxFiles-e.files.length,disabled:e.files.length>=e.maxFiles||r});return i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"border rounded-lg p-4 bg-orange-50 border-orange-200",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(vr,{id:`unavailable-${e.id}`,checked:e.isUnavailable||!1,onCheckedChange:p=>{a(e.id,p,l)}}),i.jsxs("div",{className:"flex-1",children:[i.jsxs(ve,{htmlFor:`unavailable-${e.id}`,className:"text-sm font-medium cursor-pointer flex items-center gap-2",children:[i.jsx(Ki,{className:"h-4 w-4 text-orange-600"}),"This evidence is not available or accessible"]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Check this if you cannot access this type of evidence due to system limitations, time constraints, or data availability"}),e.isUnavailable&&i.jsxs("div",{className:"mt-3",children:[i.jsx(ve,{htmlFor:`reason-${e.id}`,className:"text-sm font-medium",children:"Why is this evidence unavailable? *"}),i.jsx(Te,{id:`reason-${e.id}`,placeholder:"e.g., 'DCS system not recording vibration data', 'No maintenance logs available for this equipment', 'System shutdown - no trending data captured'...",value:l,onChange:p=>{c(p.target.value),a(e.id,!0,p.target.value)},className:"mt-1",rows:2,required:!0})]})]})]})}),!e.isUnavailable&&e.files.length<e.maxFiles&&i.jsxs("div",{...u(),className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer ${f?"border-primary bg-primary/5":"border-border hover:border-primary/50"} ${r?"opacity-50 cursor-not-allowed":""}`,children:[i.jsx("input",{...d()}),i.jsx(Po,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-lg font-medium",children:f?"Drop files here":"Drag files here or click to browse"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Accepted: ",e.acceptedTypes.join(", ")]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Max ",e.maxFiles," files, ",e.files.length," uploaded"]})]})]}),!e.isUnavailable&&e.files.length<e.maxFiles&&i.jsxs("div",{children:[i.jsx(ve,{htmlFor:"file-description",className:"text-sm font-medium",children:"Optional Description"}),i.jsx(Te,{id:"file-description",placeholder:"Describe what this evidence shows...",value:s,onChange:p=>o(p.target.value),className:"mt-1",rows:2})]}),e.files.length>0&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h4",{className:"font-medium text-sm flex items-center gap-2",children:["Uploaded Files",e.isUnavailable&&i.jsx(ne,{variant:"outline",className:"text-xs bg-amber-100 border-amber-300",children:"Files uploaded but evidence marked unavailable"})]}),e.files.map(p=>i.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg ${e.isUnavailable?"bg-amber-50 border-amber-200":"bg-green-50 border-green-200"}`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(vn,{className:`h-5 w-5 ${e.isUnavailable?"text-amber-600":"text-green-600"}`}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-sm",children:p.name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[(p.size/1024/1024).toFixed(2)," MB  ",p.type]}),p.description&&i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:p.description})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(H,{variant:"outline",size:"sm",asChild:!0,children:i.jsx("a",{href:p.url,download:!0,children:i.jsx(kr,{className:"h-4 w-4"})})}),i.jsx(H,{variant:"outline",size:"sm",onClick:()=>n(e.id,p.id),children:i.jsx(yc,{className:"h-4 w-4"})})]})]},p.id)),e.isUnavailable&&i.jsxs("div",{className:"text-xs text-amber-700 bg-amber-50 p-2 rounded border border-amber-200",children:[i.jsx("strong",{children:"Note:"}),' Evidence is marked as unavailable but files are still uploaded. You can remove files or uncheck "not available" to use uploaded evidence.']})]}),e.isUnavailable&&e.unavailableReason&&i.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[i.jsxs("h4",{className:"font-medium text-sm text-orange-800 mb-2 flex items-center gap-2",children:[i.jsx(Ki,{className:"h-4 w-4"}),"Evidence Unavailability Documentation"]}),i.jsxs("p",{className:"text-sm text-orange-700 mb-2",children:[i.jsx("strong",{children:"Reason:"})," ",e.unavailableReason]}),i.jsx("p",{className:"text-xs text-orange-600",children:"This documentation will be included in the final analysis to explain evidence limitations."})]}),e.files.length>=e.maxFiles&&i.jsxs(Qt,{className:"border-green-200 bg-green-50",children:[i.jsx(Yt,{className:"h-4 w-4"}),i.jsxs(Xt,{children:["This category is complete! You've uploaded the maximum number of files (",e.maxFiles,")."]})]})]})}function Gxe(){var W,Z,te,fe,Ae,He,ze,xe,Re,le,ce,me,Y,Ie,Ne;const{toast:e}=Cn(),t=Wo(),[n,r]=N.useState(""),[a,s]=N.useState(!1),[o,l]=N.useState(null),[c,u]=N.useState({}),[d,f]=N.useState(""),[p,h]=N.useState("all"),[x,m]=N.useState("equipmentType"),[g,b]=N.useState("asc"),[v,y]=N.useState(!1),[w,j]=N.useState("all"),[S,C]=N.useState("all"),{data:E,isLoading:k,error:$}=Ye({queryKey:["/api/evidence-library/equipment-types"]});console.log("Query State:",{isLoading:k,error:$==null?void 0:$.message,hasData:!!E,dataKeys:E?Object.keys(E):[],equipmentTypesLength:((W=E==null?void 0:E.equipmentTypes)==null?void 0:W.length)||0});const O=N.useMemo(()=>{if(!(E!=null&&E.equipmentTypes))return[];let Q=E.equipmentTypes;if(d.trim()){const de=d.toLowerCase().trim();Q=Q.filter(ye=>[ye.equipmentType,ye.iso14224Code,...ye.subtypes].join(" ").toLowerCase().includes(de))}if(p!=="all"&&(Q=Q.filter(de=>{switch(p){case"rotating":return["Pumps","Compressors","Turbines","Electric Motors","Fans / Blowers","Generators"].includes(de.equipmentType);case"static":return["Heat Exchangers","Pressure Vessels","Tanks","Piping","Columns/Towers","Filters/Strainers"].includes(de.equipmentType);case"electrical":return["Electric Motors","Generators","Transformers","Switchgear"].includes(de.equipmentType);case"process":return["Heat Exchangers","Columns/Towers","Pressure Vessels","Filters/Strainers","Tanks"].includes(de.equipmentType);default:return!0}})),w!=="all"&&(Q=Q.filter(de=>{switch(w){case"rotating":return["Pumps","Compressors","Turbines","Electric Motors","Fans / Blowers","Generators","Agitators / Mixers"].includes(de.equipmentType);case"static":return["Heat Exchangers","Pressure Vessels","Tanks","Piping","Columns/Towers","Filters/Strainers","Boilers"].includes(de.equipmentType);case"electrical":return["Electric Motors","Generators","Transformers","Switchgear","UPS/Rectifiers","Cables/Busbars"].includes(de.equipmentType);case"process":return["Heat Exchangers","Columns/Towers","Pressure Vessels","Filters/Strainers","Tanks","Control Valves","Valves"].includes(de.equipmentType);case"instrumentation":return["Sensors/Transmitters","PLCs/DCS Systems","Analyzers","Control Valves"].includes(de.equipmentType);default:return!0}})),S!=="all"){const de=new Date;Q=Q.filter(ye=>{const Fe=new Date(ye.lastUpdated),Be=Math.floor((de.getTime()-Fe.getTime())/(1e3*60*60*24));switch(S){case"recent":return Be<=7;case"week":return Be<=30;case"month":return Be<=90;case"old":return Be>90;default:return!0}})}return Q.sort((de,ye)=>{let Fe,Be;switch(x){case"equipmentType":Fe=de.equipmentType,Be=ye.equipmentType;break;case"iso14224Code":Fe=de.iso14224Code,Be=ye.iso14224Code;break;case"lastUpdated":Fe=de.lastUpdated,Be=ye.lastUpdated;break;case"subtypeCount":return g==="asc"?de.subtypes.length-ye.subtypes.length:ye.subtypes.length-de.subtypes.length;default:Fe=de.equipmentType,Be=ye.equipmentType}const wt=Fe.localeCompare(Be);return g==="asc"?wt:-wt}),Q},[E,d,p,x,g,w,S]),T=()=>{f(""),h("all"),m("equipmentType"),b("asc"),j("all"),C("all")},P=(Q,de)=>{if(!de.trim())return Q;const ye=new RegExp(`(${de.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return Q.split(ye).map((Be,wt)=>ye.test(Be)?i.jsx("span",{className:"bg-yellow-200 dark:bg-yellow-800 px-1 rounded",children:Be},wt):Be)},I=[d.trim()!=="",p!=="all",x!=="equipmentType",g!=="asc",w!=="all",S!=="all"].filter(Boolean).length,D={Pumps:"pumps_centrifugal",Compressors:"compressors_reciprocating",Turbines:"turbines_gas","Electric Motors":"motors_electric",Generators:"generators_synchronous","Fans / Blowers":"fans_centrifugal","Agitators / Mixers":"mixers_top_entry","Heat Exchangers":"heat_exchangers_shell_tube",Boilers:"boilers_water_tube","Pressure Vessels":"vessels_pressure","Columns/Towers":"columns_distillation","Filters/Strainers":"filters_basket",Tanks:"tanks_atmospheric",Piping:"piping_systems",Valves:"valves_control",Switchgear:"switchgear_electrical",Transformers:"transformers_power","UPS/Rectifiers":"ups_static","Cables/Busbars":"cables_power","Sensors/Transmitters":"sensors_pressure","PLCs/DCS Systems":"plc_redundant","Control Valves":"control_valves_pneumatic",Analyzers:"analyzers_gc","HVAC Units":"hvac_air_handler","Cranes/Hoists":"cranes_bridge","Fire Protection Systems":"fire_systems_deluge"};console.log("Equipment Types API Response:",E),console.log("Is Loading:",k),console.log("Equipment Types Array:",E==null?void 0:E.equipmentTypes);const{data:R}=Ye({queryKey:["/api/evidence-library/equipment",n],queryFn:()=>gt(`/api/evidence-library/equipment/${n}`),enabled:!!n}),{data:V}=Ye({queryKey:["/api/evidence-library/admin/history",n],queryFn:()=>gt(`/api/evidence-library/admin/history?equipmentType=${n}`),enabled:!!n}),q=Je({mutationFn:async({equipmentType:Q,trendId:de,updates:ye})=>gt(`/api/evidence-library/admin/equipment/${Q}/trends/${de}`,{method:"PATCH",body:JSON.stringify({updates:ye,updatedBy:"Admin User"}),headers:{"Content-Type":"application/json","x-admin-key":"admin123"}}),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/evidence-library/equipment",n]}),e({title:"Success",description:"Trend requirement updated successfully"}),l(null)},onError:()=>{e({title:"Error",description:"Failed to update trend requirement",variant:"destructive"})}});Je({mutationFn:()=>gt("/api/evidence-library/admin/export",{headers:{"x-admin-key":"admin123"}}),onSuccess:Q=>{const de=new Blob([JSON.stringify(Q,null,2)],{type:"application/json"}),ye=URL.createObjectURL(de),Fe=document.createElement("a");Fe.href=ye,Fe.download=`evidence-library-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Fe),Fe.click(),document.body.removeChild(Fe),URL.revokeObjectURL(ye),e({title:"Success",description:"Evidence library exported successfully"})}});const B=()=>{!o||!n||q.mutate({equipmentType:n,trendId:o.id,updates:o})};return k?i.jsx("div",{className:"container mx-auto p-6",children:i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx(er,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),i.jsx("p",{children:"Loading evidence library..."})]})})}):i.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[i.jsx(er,{className:"h-8 w-8 text-blue-600"}),"Evidence Library Administration"]}),i.jsxs("p",{className:"text-gray-600 mt-2",children:["Manage equipment-specific evidence requirements and AI prompts (",((Z=E==null?void 0:E.equipmentTypes)==null?void 0:Z.length)||0," equipment types)"]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(H,{variant:"outline",onClick:async()=>{var Q;try{if(!((Q=E==null?void 0:E.equipmentTypes)!=null&&Q.length)){e({title:"No Data",description:"No equipment types to export",variant:"destructive"});return}const de=["Equipment Type","Typical Subtypes / Examples","Required Trend Data","AI Prompt Examples","Attachments / Evidence Required"],ye=E.equipmentTypes.map(A=>[A.equipmentType,A.subtypes.join(", "),"Comprehensive trend data requirements available","Equipment-specific AI prompts configured","Standard attachment requirements defined"]),Fe=[de.join(","),...ye.map(A=>A.map(L=>`"${L.replace(/"/g,'""')}"`).join(","))].join(`
`),Be=new Blob([Fe],{type:"text/csv;charset=utf-8;"}),wt=document.createElement("a"),z=URL.createObjectURL(Be);wt.setAttribute("href",z),wt.setAttribute("download",`equipment-types-${new Date().toISOString().split("T")[0]}.csv`),wt.style.visibility="hidden",document.body.appendChild(wt),wt.click(),document.body.removeChild(wt),URL.revokeObjectURL(z),e({title:"CSV Export Successful",description:`Exported ${E.equipmentTypes.length} equipment types to CSV`})}catch(de){console.error("CSV export failed:",de),e({title:"CSV Export Failed",description:"Failed to export to CSV format",variant:"destructive"})}},children:[i.jsx($0,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),i.jsxs(H,{variant:"outline",onClick:async()=>{try{const Q=await fetch("/api/evidence-library/admin/export",{headers:{"x-admin-key":"admin123"}});if(Q.ok){const de=await Q.blob(),ye=window.URL.createObjectURL(de),Fe=document.createElement("a");Fe.href=ye,Fe.download="evidence-library-export.json",Fe.click(),window.URL.revokeObjectURL(ye),e({title:"JSON Export Successful",description:"Evidence library exported successfully"})}else e({title:"Export Failed",description:"Unable to export library",variant:"destructive"})}catch{e({title:"Export Error",description:"Failed to export evidence library",variant:"destructive"})}},children:[i.jsx(kr,{className:"h-4 w-4 mr-2"}),"Export JSON"]}),i.jsxs(H,{onClick:()=>{const Q=document.createElement("input");Q.type="file",Q.accept=".csv,.json",Q.onchange=async de=>{var Fe;const ye=(Fe=de.target.files)==null?void 0:Fe[0];if(ye)try{if(ye.name.endsWith(".csv")){const Be=new FileReader;Be.onload=wt=>{var z;try{const L=((z=wt.target)==null?void 0:z.result).split(`
`),M=L[0].split(",").map(G=>G.replace(/"/g,"").trim());e({title:"CSV Import Ready",description:`Found ${L.length-1} equipment types in CSV. Import processing completed.`})}catch(A){console.error("CSV import failed:",A),e({title:"CSV Import Failed",description:"Failed to parse CSV file",variant:"destructive"})}},Be.readAsText(ye)}else{const Be=new FormData;Be.append("file",ye),(await fetch("/api/evidence-library/admin/import",{method:"POST",headers:{"x-admin-key":"admin123"},body:Be})).ok?(e({title:"JSON Import Successful",description:"Evidence library imported successfully"}),window.location.reload()):e({title:"Import Failed",description:"Unable to import library",variant:"destructive"})}}catch{e({title:"Import Error",description:"Failed to import file",variant:"destructive"})}},Q.click()},children:[i.jsx(Po,{className:"h-4 w-4 mr-2"}),"Import File"]})]})]}),i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(vn,{className:"h-5 w-5"}),"Equipment Types Library (",((te=E==null?void 0:E.equipmentTypes)==null?void 0:te.length)||0," Types)"]})}),i.jsx(re,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Pa,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),i.jsx(ke,{placeholder:"Search equipment types, ISO codes, or subtypes...",className:"pl-10 pr-10",value:d,onChange:Q=>f(Q.target.value)}),d&&i.jsx(H,{variant:"ghost",size:"sm",className:"absolute right-1 top-1 h-8 w-8 p-0",onClick:()=>f(""),children:i.jsx(yc,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(t8,{className:"h-4 w-4"}),i.jsxs(ut,{value:p,onValueChange:h,children:[i.jsx(ot,{className:"w-48",children:i.jsx(dt,{})}),i.jsxs(lt,{children:[i.jsx(X,{value:"all",children:"All Equipment"}),i.jsx(X,{value:"rotating",children:"Rotating Equipment"}),i.jsx(X,{value:"static",children:"Static Equipment"}),i.jsx(X,{value:"electrical",children:"Electrical Equipment"}),i.jsx(X,{value:"process",children:"Process Equipment"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Sort by:"}),i.jsxs(ut,{value:x,onValueChange:m,children:[i.jsx(ot,{className:"w-40",children:i.jsx(dt,{})}),i.jsxs(lt,{children:[i.jsx(X,{value:"equipmentType",children:"Equipment Type"}),i.jsx(X,{value:"iso14224Code",children:"ISO Code"}),i.jsx(X,{value:"lastUpdated",children:"Last Updated"}),i.jsx(X,{value:"subtypeCount",children:"Subtype Count"})]})]}),i.jsx(H,{variant:"outline",size:"sm",onClick:()=>b(g==="asc"?"desc":"asc"),children:g==="asc"?i.jsx(G6,{className:"h-4 w-4"}):i.jsx(W6,{className:"h-4 w-4"})})]}),i.jsxs(H,{variant:"outline",size:"sm",onClick:()=>y(!v),className:v?"bg-blue-50 border-blue-200":"",children:["Advanced Filters",I>0&&i.jsx(ne,{variant:"secondary",className:"ml-2 h-5 w-5 p-0 text-xs",children:I})]}),I>0&&i.jsxs(H,{variant:"outline",size:"sm",onClick:T,children:[i.jsx(yc,{className:"h-4 w-4 mr-2"}),"Clear All (",I,")"]}),i.jsxs("div",{className:"text-sm text-gray-600 ml-auto",children:["Showing ",O.length," of ",(E==null?void 0:E.totalCount)||((fe=E==null?void 0:E.equipmentTypes)==null?void 0:fe.length)||0," equipment types"]})]}),v&&i.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50 dark:bg-gray-900",children:[i.jsx("h4",{className:"font-medium mb-3",children:"Advanced Filters"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx(ve,{className:"text-sm font-medium",children:"Equipment Category"}),i.jsxs(ut,{value:w,onValueChange:j,children:[i.jsx(ot,{className:"mt-1",children:i.jsx(dt,{})}),i.jsxs(lt,{children:[i.jsx(X,{value:"all",children:"All Equipment Types"}),i.jsx(X,{value:"rotating",children:"Rotating Equipment"}),i.jsx(X,{value:"static",children:"Static Equipment"}),i.jsx(X,{value:"electrical",children:"Electrical Systems"}),i.jsx(X,{value:"process",children:"Process Control"}),i.jsx(X,{value:"instrumentation",children:"Instrumentation"})]})]})]}),i.jsxs("div",{children:[i.jsx(ve,{className:"text-sm font-medium",children:"Last Updated"}),i.jsxs(ut,{value:S,onValueChange:C,children:[i.jsx(ot,{className:"mt-1",children:i.jsx(dt,{})}),i.jsxs(lt,{children:[i.jsx(X,{value:"all",children:"Any Time"}),i.jsx(X,{value:"recent",children:"Last 7 days"}),i.jsx(X,{value:"week",children:"Last 30 days"}),i.jsx(X,{value:"month",children:"Last 90 days"}),i.jsx(X,{value:"old",children:"Older than 90 days"})]})]})]}),i.jsx("div",{className:"flex items-end",children:i.jsx(H,{variant:"outline",size:"sm",onClick:()=>{j("all"),C("all")},className:"w-full",children:"Reset Advanced"})})]})]})]}),i.jsx("div",{className:"border rounded-lg",children:i.jsxs(Di,{children:[i.jsx(Fi,{children:i.jsxs(ln,{children:[i.jsx(we,{className:"font-semibold",children:"Equipment Type"}),i.jsx(we,{className:"font-semibold",children:"Typical Subtypes / Examples"}),i.jsx(we,{className:"font-semibold",children:"Required Trend Data"}),i.jsx(we,{className:"font-semibold",children:"AI Prompt Examples"}),i.jsx(we,{className:"font-semibold",children:"Attachments / Evidence Required"}),i.jsx(we,{className:"text-right font-semibold",children:"Actions"})]})}),i.jsx(Li,{children:!k&&O.length>0?O.map(Q=>i.jsxs(ln,{children:[i.jsx(je,{className:"font-medium",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{children:P(Q.equipmentType,d)}),i.jsx(ne,{variant:"outline",className:"text-xs",children:Q.iso14224Code})]})}),i.jsx(je,{children:i.jsxs("div",{className:"flex flex-wrap gap-1",children:[Q.subtypes.slice(0,4).map((de,ye)=>i.jsx(ne,{variant:"secondary",className:"text-xs",children:de},ye)),Q.subtypes.length>4&&i.jsxs(ne,{variant:"secondary",className:"text-xs",children:["+",Q.subtypes.length-4," more"]})]})}),i.jsx(je,{children:i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(va,{className:"h-3 w-3"}),i.jsx("span",{children:"Comprehensive monitoring"})]}),i.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Vibration, Temperature, Pressure, Flow"})]})}),i.jsx(je,{children:i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(on,{className:"h-3 w-3"}),i.jsx("span",{children:"Equipment-specific"})]}),i.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Context-aware prompts configured"})]})}),i.jsx(je,{children:i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(vn,{className:"h-3 w-3"}),i.jsx("span",{children:"Standard attachments"})]}),i.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Trends, photos, maintenance logs"})]})}),i.jsx(je,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end gap-1",children:[i.jsx(H,{variant:"outline",size:"sm",onClick:()=>r(Q.equipmentType.toLowerCase().replace(/[^a-z0-9]/g,"_")),children:i.jsx(Md,{className:"h-3 w-3"})}),i.jsx(H,{variant:"outline",size:"sm",onClick:()=>{e({title:"Edit Equipment Type",description:`Editing ${Q.equipmentType} - Advanced editing interface will be available soon`})},children:i.jsx(Vr,{className:"h-3 w-3"})})]})})]},Q.iso14224Code)):k?i.jsx(ln,{children:i.jsx(je,{colSpan:6,className:"text-center py-8",children:i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx(er,{className:"h-8 w-8 text-gray-400"}),i.jsx("p",{className:"text-gray-600",children:"Loading equipment types..."}),i.jsx("p",{className:"text-xs text-gray-500",children:"Fetching data from API..."})]})})}):i.jsx(ln,{children:i.jsx(je,{colSpan:6,className:"text-center py-8",children:i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx(er,{className:"h-8 w-8 text-red-400"}),i.jsx("p",{className:"text-gray-600",children:"No equipment types found"}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Data: ",JSON.stringify(E)]}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Error: ",($==null?void 0:$.message)||"None"]})]})})})})]})}),i.jsxs("div",{className:"flex items-center justify-between py-2 px-1",children:[i.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",O.length," of ",(E==null?void 0:E.totalCount)||((Ae=E==null?void 0:E.equipmentTypes)==null?void 0:Ae.length)||0," equipment types"]}),i.jsxs("div",{className:"text-xs text-gray-500",children:["API Status: ",E!=null&&E.success?"Connected":"Disconnected"," | Last updated: ",new Date().toLocaleDateString()]})]})]})})]}),i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(Lv,{className:"h-5 w-5"}),"Equipment Selection"]})}),i.jsx(re,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx(ve,{htmlFor:"equipment-select",children:"Select Equipment Type"}),i.jsxs(ut,{value:n,onValueChange:r,children:[i.jsx(ot,{children:i.jsx(dt,{placeholder:"Choose equipment type..."})}),i.jsx(lt,{children:k?i.jsx("div",{className:"p-2 text-center text-gray-500",children:"Loading equipment types..."}):((He=E==null?void 0:E.equipmentTypes)==null?void 0:He.length)>0?E.equipmentTypes.map(Q=>{const de=D[Q.equipmentType];return i.jsxs(X,{value:de||Q.equipmentType.toLowerCase().replace(/\s+/g,"_"),children:[Q.equipmentType," (",Q.iso14224Code,")"]},Q.equipmentType)}):i.jsx("div",{className:"p-2 text-center text-gray-500",children:"No equipment types found"})})]})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs(H,{variant:"outline",className:"w-full",onClick:()=>s(!0),children:[i.jsx(Un,{className:"h-4 w-4 mr-2"}),"Add New Equipment Type"]})})]})})]}),a&&i.jsxs(ee,{className:"border-primary/20",children:[i.jsx(ae,{children:i.jsx(se,{className:"text-lg",children:"Add New Equipment Type"})}),i.jsxs(re,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Equipment Type Name"}),i.jsx(ke,{placeholder:"e.g., Heat Exchangers",value:c.name||"",onChange:Q=>u(de=>({...de,name:Q.target.value}))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"ISO 14224 Code"}),i.jsx(ke,{placeholder:"e.g., HE-003",value:c.id||"",onChange:Q=>u(de=>({...de,id:Q.target.value}))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Subtypes (comma-separated)"}),i.jsx(ke,{placeholder:"e.g., Shell and Tube, Plate, Air Cooled",value:c.units||"",onChange:Q=>u(de=>({...de,units:Q.target.value}))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{children:"Description"}),i.jsx(Te,{placeholder:"Brief description of equipment type and its applications",value:c.description||"",onChange:Q=>u(de=>({...de,description:Q.target.value}))})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(H,{onClick:()=>{e({title:"Feature Coming Soon",description:"Equipment type addition will be implemented in the next update"}),s(!1)},disabled:!c.name||!c.id,children:"Add Equipment Type"}),i.jsx(H,{variant:"outline",onClick:()=>{s(!1),u({})},children:"Cancel"})]})]})]}),n&&R&&i.jsxs(ea,{defaultValue:"trends",className:"space-y-4",children:[i.jsxs(Ci,{className:"grid grid-cols-4 w-fit",children:[i.jsxs(Ze,{value:"trends",children:[i.jsx(va,{className:"h-4 w-4 mr-2"}),"Trend Data"]}),i.jsxs(Ze,{value:"attachments",children:[i.jsx(Q6,{className:"h-4 w-4 mr-2"}),"Attachments"]}),i.jsxs(Ze,{value:"prompts",children:[i.jsx(on,{className:"h-4 w-4 mr-2"}),"AI Prompts"]}),i.jsxs(Ze,{value:"history",children:[i.jsx($l,{className:"h-4 w-4 mr-2"}),"History"]})]}),i.jsx(tt,{value:"trends",children:i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Trend Data Requirements"}),i.jsxs(H,{size:"sm",children:[i.jsx(Un,{className:"h-4 w-4 mr-2"}),"Add Trend"]})]})}),i.jsx(re,{children:i.jsx("div",{className:"space-y-4",children:(xe=(ze=R==null?void 0:R.profile)==null?void 0:ze.requiredTrendData)==null?void 0:xe.map(Q=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h4",{className:"font-semibold",children:Q.name}),i.jsx(ne,{variant:Q.mandatory?"default":"secondary",children:Q.mandatory?"Mandatory":"Optional"})]}),i.jsx(H,{size:"sm",variant:"ghost",onClick:()=>l(Q),children:i.jsx(Vr,{className:"h-4 w-4"})})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:Q.description}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Units:"})," ",Q.units]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Sampling:"})," ",Q.samplingFrequency]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Range:"})," ",Q.typicalRange||"Not specified"]})]}),Q.alertThresholds&&i.jsxs("div",{className:"mt-2 text-sm",children:[i.jsx("span",{className:"font-medium",children:"Thresholds:"}),i.jsxs("span",{className:"ml-2 text-amber-600",children:["Warning: ",Q.alertThresholds.warning]}),i.jsxs("span",{className:"ml-4 text-red-600",children:["Alarm: ",Q.alertThresholds.alarm]})]})]},Q.id))})})]})}),i.jsx(tt,{value:"attachments",children:i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Attachment Requirements"}),i.jsxs(H,{size:"sm",children:[i.jsx(Un,{className:"h-4 w-4 mr-2"}),"Add Attachment"]})]})}),i.jsx(re,{children:i.jsx("div",{className:"space-y-4",children:(le=(Re=R==null?void 0:R.profile)==null?void 0:Re.requiredAttachments)==null?void 0:le.map(Q=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h4",{className:"font-semibold",children:Q.name}),i.jsx(ne,{variant:Q.mandatory?"default":"secondary",children:Q.mandatory?"Mandatory":"Optional"})]}),i.jsx(H,{size:"sm",variant:"ghost",children:i.jsx(Vr,{className:"h-4 w-4"})})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:Q.description}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"File Types:"})," ",Q.fileTypes.join(", ")]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Max Size:"})," ",Q.maxSizeMB,"MB"]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Validation:"})," ",Q.validationCriteria||"None"]})]})]},Q.id))})})]})}),i.jsx(tt,{value:"prompts",children:i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsx(se,{children:"AI Prompt Templates"})}),i.jsx(re,{children:i.jsx("div",{className:"space-y-4",children:(Y=(me=(ce=R==null?void 0:R.data)==null?void 0:ce.profile)==null?void 0:me.aiPromptTemplates)==null?void 0:Y.map((Q,de)=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"font-semibold capitalize",children:Q.fieldType.replace("_"," ")}),i.jsx(H,{size:"sm",variant:"ghost",children:i.jsx(Vr,{className:"h-4 w-4"})})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:Q.context}),i.jsxs("div",{className:"bg-gray-50 p-3 rounded text-sm",children:[i.jsx("strong",{children:"Prompt:"})," ",Q.prompt]}),Q.examples&&Q.examples.length>0&&i.jsxs("div",{className:"mt-2",children:[i.jsx("strong",{className:"text-sm",children:"Examples:"}),i.jsx("ul",{className:"text-sm text-gray-600 mt-1 space-y-1",children:Q.examples.map((ye,Fe)=>i.jsxs("li",{className:"pl-2 border-l-2 border-gray-200",children:['"',ye,'"']},Fe))})]})]},de))})})]})}),i.jsx(tt,{value:"history",children:i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsx(se,{children:"Update History"})}),i.jsx(re,{children:((Ne=(Ie=V==null?void 0:V.data)==null?void 0:Ie.history)==null?void 0:Ne.length)>0?i.jsx("div",{className:"space-y-2",children:V.data.history.map((Q,de)=>i.jsxs("div",{className:"border-l-4 border-blue-200 pl-4 py-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(ne,{variant:"outline",children:Q.changeType}),i.jsx("span",{className:"font-medium",children:Q.fieldChanged}),i.jsxs("span",{className:"text-gray-500",children:["by ",Q.updatedBy]}),i.jsx("span",{className:"text-gray-400",children:new Date(Q.timestamp).toLocaleDateString()})]}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Q.reason})]},de))}):i.jsx("p",{className:"text-gray-500 text-center py-8",children:"No update history available"})})]})})]}),o&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs(ee,{className:"w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[i.jsx(ae,{children:i.jsxs(se,{children:["Edit Trend Requirement: ",o.name]})}),i.jsxs(re,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ve,{htmlFor:"trend-name",children:"Name"}),i.jsx(ke,{id:"trend-name",value:o.name,onChange:Q=>l({...o,name:Q.target.value})})]}),i.jsxs("div",{children:[i.jsx(ve,{htmlFor:"trend-description",children:"Description"}),i.jsx(Te,{id:"trend-description",value:o.description,onChange:Q=>l({...o,description:Q.target.value})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ve,{htmlFor:"trend-units",children:"Units"}),i.jsx(ke,{id:"trend-units",value:o.units,onChange:Q=>l({...o,units:Q.target.value})})]}),i.jsxs("div",{children:[i.jsx(ve,{htmlFor:"trend-sampling",children:"Sampling Frequency"}),i.jsx(ke,{id:"trend-sampling",value:o.samplingFrequency,onChange:Q=>l({...o,samplingFrequency:Q.target.value})})]})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(H,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),i.jsx(H,{onClick:B,disabled:q.isPending,children:q.isPending?"Updating...":"Update"})]})]})]})})]})}var lp=e=>e.type==="checkbox",co=e=>e instanceof Date,Jn=e=>e==null;const zF=e=>typeof e=="object";var pn=e=>!Jn(e)&&!Array.isArray(e)&&zF(e)&&!co(e),BF=e=>pn(e)&&e.target?lp(e.target)?e.target.checked:e.target.value:e,Kxe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,UF=(e,t)=>e.has(Kxe(t)),Yxe=e=>{const t=e.constructor&&e.constructor.prototype;return pn(t)&&t.hasOwnProperty("isPrototypeOf")},EN=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function In(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(EN&&(e instanceof Blob||r))&&(n||pn(e)))if(t=n?[]:{},!n&&!Yxe(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=In(e[a]));else return e;return t}var Zg=e=>Array.isArray(e)?e.filter(Boolean):[],cn=e=>e===void 0,ge=(e,t,n)=>{if(!t||!pn(e))return n;const r=Zg(t.split(/[,[\].]+?/)).reduce((a,s)=>Jn(a)?a:a[s],e);return cn(r)||r===e?cn(e[t])?n:e[t]:r},wr=e=>typeof e=="boolean",AN=e=>/^\w*$/.test(e),VF=e=>Zg(e.replace(/["|']|\]/g,"").split(/\.|\[/)),kt=(e,t,n)=>{let r=-1;const a=AN(t)?[t]:VF(t),s=a.length,o=s-1;for(;++r<s;){const l=a[r];let c=n;if(r!==o){const u=e[l];c=pn(u)||Array.isArray(u)?u:isNaN(+a[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const av={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},fi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},sa={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},HF=F.createContext(null),Jg=()=>F.useContext(HF),Qxe=e=>{const{children:t,...n}=e;return F.createElement(HF.Provider,{value:n},t)};var WF=(e,t,n,r=!0)=>{const a={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(a,s,{get:()=>{const o=s;return t._proxyFormState[o]!==fi.all&&(t._proxyFormState[o]=!r||fi.all),n&&(n[o]=!0),e[o]}});return a};function Xxe(e){const t=Jg(),{control:n=t.control,disabled:r,name:a,exact:s}=e||{},[o,l]=F.useState(n._formState),c=F.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=F.useRef(a);return u.current=a,F.useEffect(()=>n._subscribe({name:u.current,formState:c.current,exact:s,callback:d=>{!r&&l({...n._formState,...d})}}),[n,r,s]),F.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),F.useMemo(()=>WF(o,n,c.current,!1),[o,n])}var zi=e=>typeof e=="string",GF=(e,t,n,r,a)=>zi(e)?(r&&t.watch.add(e),ge(n,e,a)):Array.isArray(e)?e.map(s=>(r&&t.watch.add(s),ge(n,s))):(r&&(t.watchAll=!0),n);function Zxe(e){const t=Jg(),{control:n=t.control,name:r,defaultValue:a,disabled:s,exact:o}=e||{},l=F.useRef(r),c=F.useRef(a);l.current=r,F.useEffect(()=>n._subscribe({name:l.current,formState:{values:!0},exact:o,callback:f=>!s&&d(GF(l.current,n._names,f.values||n._formValues,!1,c.current))}),[n,s,o]);const[u,d]=F.useState(n._getWatch(r,a));return F.useEffect(()=>n._removeUnmounted()),u}function Jxe(e){const t=Jg(),{name:n,disabled:r,control:a=t.control,shouldUnregister:s}=e,o=UF(a._names.array,n),l=Zxe({control:a,name:n,defaultValue:ge(a._formValues,n,ge(a._defaultValues,n,e.defaultValue)),exact:!0}),c=Xxe({control:a,name:n,exact:!0}),u=F.useRef(e),d=F.useRef(a.register(n,{...e.rules,value:l,...wr(e.disabled)?{disabled:e.disabled}:{}})),f=F.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ge(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!ge(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ge(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!ge(c.validatingFields,n)},error:{enumerable:!0,get:()=>ge(c.errors,n)}}),[c,n]),p=F.useCallback(g=>d.current.onChange({target:{value:BF(g),name:n},type:av.CHANGE}),[n]),h=F.useCallback(()=>d.current.onBlur({target:{value:ge(a._formValues,n),name:n},type:av.BLUR}),[n,a._formValues]),x=F.useCallback(g=>{const b=ge(a._fields,n);b&&g&&(b._f.ref={focus:()=>g.focus(),select:()=>g.select(),setCustomValidity:v=>g.setCustomValidity(v),reportValidity:()=>g.reportValidity()})},[a._fields,n]),m=F.useMemo(()=>({name:n,value:l,...wr(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:p,onBlur:h,ref:x}),[n,r,c.disabled,p,h,x,l]);return F.useEffect(()=>{const g=a._options.shouldUnregister||s;a.register(n,{...u.current.rules,...wr(u.current.disabled)?{disabled:u.current.disabled}:{}});const b=(v,y)=>{const w=ge(a._fields,v);w&&w._f&&(w._f.mount=y)};if(b(n,!0),g){const v=In(ge(a._options.defaultValues,n));kt(a._defaultValues,n,v),cn(ge(a._formValues,n))&&kt(a._formValues,n,v)}return!o&&a.register(n),()=>{(o?g&&!a._state.action:g)?a.unregister(n):b(n,!1)}},[n,a,o,s]),F.useEffect(()=>{a._setDisabledField({disabled:r,name:n})},[r,n,a]),F.useMemo(()=>({field:m,formState:c,fieldState:f}),[m,c,f])}const eye=e=>e.render(Jxe(e));var KF=(e,t,n,r,a)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:a||!0}}:{},hd=e=>Array.isArray(e)?e:[e],Q2=()=>{let e=[];return{get observers(){return e},next:a=>{for(const s of e)s.next&&s.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(s=>s!==a)}}),unsubscribe:()=>{e=[]}}},Oj=e=>Jn(e)||!zF(e);function rs(e,t){if(Oj(e)||Oj(t))return e===t;if(co(e)&&co(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const a of n){const s=e[a];if(!r.includes(a))return!1;if(a!=="ref"){const o=t[a];if(co(s)&&co(o)||pn(s)&&pn(o)||Array.isArray(s)&&Array.isArray(o)?!rs(s,o):s!==o)return!1}}return!0}var Xn=e=>pn(e)&&!Object.keys(e).length,kN=e=>e.type==="file",pi=e=>typeof e=="function",sv=e=>{if(!EN)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},YF=e=>e.type==="select-multiple",_N=e=>e.type==="radio",tye=e=>_N(e)||lp(e),jy=e=>sv(e)&&e.isConnected;function nye(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=cn(e)?r++:e[t[r++]];return e}function rye(e){for(const t in e)if(e.hasOwnProperty(t)&&!cn(e[t]))return!1;return!0}function bn(e,t){const n=Array.isArray(t)?t:AN(t)?[t]:VF(t),r=n.length===1?e:nye(e,n),a=n.length-1,s=n[a];return r&&delete r[s],a!==0&&(pn(r)&&Xn(r)||Array.isArray(r)&&rye(r))&&bn(e,n.slice(0,-1)),e}var QF=e=>{for(const t in e)if(pi(e[t]))return!0;return!1};function ov(e,t={}){const n=Array.isArray(e);if(pn(e)||n)for(const r in e)Array.isArray(e[r])||pn(e[r])&&!QF(e[r])?(t[r]=Array.isArray(e[r])?[]:{},ov(e[r],t[r])):Jn(e[r])||(t[r]=!0);return t}function XF(e,t,n){const r=Array.isArray(e);if(pn(e)||r)for(const a in e)Array.isArray(e[a])||pn(e[a])&&!QF(e[a])?cn(t)||Oj(n[a])?n[a]=Array.isArray(e[a])?ov(e[a],[]):{...ov(e[a])}:XF(e[a],Jn(t)?{}:t[a],n[a]):n[a]=!rs(e[a],t[a]);return n}var Bu=(e,t)=>XF(e,t,ov(t));const X2={value:!1,isValid:!1},Z2={value:!0,isValid:!0};var ZF=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!cn(e[0].attributes.value)?cn(e[0].value)||e[0].value===""?Z2:{value:e[0].value,isValid:!0}:Z2:X2}return X2},JF=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>cn(e)?e:t?e===""?NaN:e&&+e:n&&zi(e)?new Date(e):r?r(e):e;const J2={isValid:!1,value:null};var eL=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,J2):J2;function e_(e){const t=e.ref;return kN(t)?t.files:_N(t)?eL(e.refs).value:YF(t)?[...t.selectedOptions].map(({value:n})=>n):lp(t)?ZF(e.refs).value:JF(cn(t.value)?e.ref.value:t.value,e)}var iye=(e,t,n,r)=>{const a={};for(const s of e){const o=ge(t,s);o&&kt(a,s,o._f)}return{criteriaMode:n,names:[...e],fields:a,shouldUseNativeValidation:r}},lv=e=>e instanceof RegExp,Uu=e=>cn(e)?e:lv(e)?e.source:pn(e)?lv(e.value)?e.value.source:e.value:e,t_=e=>({isOnSubmit:!e||e===fi.onSubmit,isOnBlur:e===fi.onBlur,isOnChange:e===fi.onChange,isOnAll:e===fi.all,isOnTouch:e===fi.onTouched});const n_="AsyncFunction";var aye=e=>!!e&&!!e.validate&&!!(pi(e.validate)&&e.validate.constructor.name===n_||pn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===n_)),sye=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),r_=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const vd=(e,t,n,r)=>{for(const a of n||Object.keys(e)){const s=ge(e,a);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(vd(l,t))break}else if(pn(l)&&vd(l,t))break}}};function i_(e,t,n){const r=ge(e,n);if(r||AN(n))return{error:r,name:n};const a=n.split(".");for(;a.length;){const s=a.join("."),o=ge(t,s),l=ge(e,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};a.pop()}return{name:n}}var oye=(e,t,n,r)=>{n(e);const{name:a,...s}=e;return Xn(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!r||fi.all))},lye=(e,t,n)=>!e||!t||e===t||hd(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),cye=(e,t,n,r,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(t||e):(n?r.isOnBlur:a.isOnBlur)?!e:(n?r.isOnChange:a.isOnChange)?e:!0,uye=(e,t)=>!Zg(ge(e,t)).length&&bn(e,t),dye=(e,t,n)=>{const r=hd(ge(e,n));return kt(r,"root",t[n]),kt(e,n,r),e},bm=e=>zi(e);function a_(e,t,n="validate"){if(bm(e)||Array.isArray(e)&&e.every(bm)||wr(e)&&!e)return{type:n,message:bm(e)?e:"",ref:t}}var ll=e=>pn(e)&&!lv(e)?e:{value:e,message:""},s_=async(e,t,n,r,a,s)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:p,pattern:h,validate:x,name:m,valueAsNumber:g,mount:b}=e._f,v=ge(n,m);if(!b||t.has(m))return{};const y=l?l[0]:o,w=T=>{a&&y.reportValidity&&(y.setCustomValidity(wr(T)?"":T||""),y.reportValidity())},j={},S=_N(o),C=lp(o),E=S||C,k=(g||kN(o))&&cn(o.value)&&cn(v)||sv(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,$=KF.bind(null,m,r,j),O=(T,P,I,D=sa.maxLength,R=sa.minLength)=>{const V=T?P:I;j[m]={type:T?D:R,message:V,ref:o,...$(T?D:R,V)}};if(s?!Array.isArray(v)||!v.length:c&&(!E&&(k||Jn(v))||wr(v)&&!v||C&&!ZF(l).isValid||S&&!eL(l).isValid)){const{value:T,message:P}=bm(c)?{value:!!c,message:c}:ll(c);if(T&&(j[m]={type:sa.required,message:P,ref:y,...$(sa.required,P)},!r))return w(P),j}if(!k&&(!Jn(f)||!Jn(p))){let T,P;const I=ll(p),D=ll(f);if(!Jn(v)&&!isNaN(v)){const R=o.valueAsNumber||v&&+v;Jn(I.value)||(T=R>I.value),Jn(D.value)||(P=R<D.value)}else{const R=o.valueAsDate||new Date(v),V=W=>new Date(new Date().toDateString()+" "+W),q=o.type=="time",B=o.type=="week";zi(I.value)&&v&&(T=q?V(v)>V(I.value):B?v>I.value:R>new Date(I.value)),zi(D.value)&&v&&(P=q?V(v)<V(D.value):B?v<D.value:R<new Date(D.value))}if((T||P)&&(O(!!T,I.message,D.message,sa.max,sa.min),!r))return w(j[m].message),j}if((u||d)&&!k&&(zi(v)||s&&Array.isArray(v))){const T=ll(u),P=ll(d),I=!Jn(T.value)&&v.length>+T.value,D=!Jn(P.value)&&v.length<+P.value;if((I||D)&&(O(I,T.message,P.message),!r))return w(j[m].message),j}if(h&&!k&&zi(v)){const{value:T,message:P}=ll(h);if(lv(T)&&!v.match(T)&&(j[m]={type:sa.pattern,message:P,ref:o,...$(sa.pattern,P)},!r))return w(P),j}if(x){if(pi(x)){const T=await x(v,n),P=a_(T,y);if(P&&(j[m]={...P,...$(sa.validate,P.message)},!r))return w(P.message),j}else if(pn(x)){let T={};for(const P in x){if(!Xn(T)&&!r)break;const I=a_(await x[P](v,n),y,P);I&&(T={...I,...$(P,I.message)},w(I.message),r&&(j[m]=T))}if(!Xn(T)&&(j[m]={ref:y,...T},!r))return j}}return w(!0),j};const fye={mode:fi.onSubmit,reValidateMode:fi.onChange,shouldFocusError:!0};function pye(e={}){let t={...fye,...e},n={submitCount:0,isDirty:!1,isLoading:pi(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const r={};let a=pn(t.defaultValues)||pn(t.values)?In(t.values||t.defaultValues)||{}:{},s=t.shouldUnregister?{}:In(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const p={array:Q2(),state:Q2()},h=t_(t.mode),x=t_(t.reValidateMode),m=t.criteriaMode===fi.all,g=A=>L=>{clearTimeout(u),u=setTimeout(A,L)},b=async A=>{if(!t.disabled&&(d.isValid||f.isValid||A)){const L=t.resolver?Xn((await k()).errors):await O(r,!0);L!==n.isValid&&p.state.next({isValid:L})}},v=(A,L)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((A||Array.from(l.mount)).forEach(M=>{M&&(L?kt(n.validatingFields,M,L):bn(n.validatingFields,M))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Xn(n.validatingFields)}))},y=(A,L=[],M,G,J=!0,oe=!0)=>{if(G&&M&&!t.disabled){if(o.action=!0,oe&&Array.isArray(ge(r,A))){const _=M(ge(r,A),G.argA,G.argB);J&&kt(r,A,_)}if(oe&&Array.isArray(ge(n.errors,A))){const _=M(ge(n.errors,A),G.argA,G.argB);J&&kt(n.errors,A,_),uye(n.errors,A)}if((d.touchedFields||f.touchedFields)&&oe&&Array.isArray(ge(n.touchedFields,A))){const _=M(ge(n.touchedFields,A),G.argA,G.argB);J&&kt(n.touchedFields,A,_)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=Bu(a,s)),p.state.next({name:A,isDirty:P(A,L),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else kt(s,A,L)},w=(A,L)=>{kt(n.errors,A,L),p.state.next({errors:n.errors})},j=A=>{n.errors=A,p.state.next({errors:n.errors,isValid:!1})},S=(A,L,M,G)=>{const J=ge(r,A);if(J){const oe=ge(s,A,cn(M)?ge(a,A):M);cn(oe)||G&&G.defaultChecked||L?kt(s,A,L?oe:e_(J._f)):R(A,oe),o.mount&&b()}},C=(A,L,M,G,J)=>{let oe=!1,_=!1;const K={name:A};if(!t.disabled){if(!M||G){(d.isDirty||f.isDirty)&&(_=n.isDirty,n.isDirty=K.isDirty=P(),oe=_!==K.isDirty);const Se=rs(ge(a,A),L);_=!!ge(n.dirtyFields,A),Se?bn(n.dirtyFields,A):kt(n.dirtyFields,A,!0),K.dirtyFields=n.dirtyFields,oe=oe||(d.dirtyFields||f.dirtyFields)&&_!==!Se}if(M){const Se=ge(n.touchedFields,A);Se||(kt(n.touchedFields,A,M),K.touchedFields=n.touchedFields,oe=oe||(d.touchedFields||f.touchedFields)&&Se!==M)}oe&&J&&p.state.next(K)}return oe?K:{}},E=(A,L,M,G)=>{const J=ge(n.errors,A),oe=(d.isValid||f.isValid)&&wr(L)&&n.isValid!==L;if(t.delayError&&M?(c=g(()=>w(A,M)),c(t.delayError)):(clearTimeout(u),c=null,M?kt(n.errors,A,M):bn(n.errors,A)),(M?!rs(J,M):J)||!Xn(G)||oe){const _={...G,...oe&&wr(L)?{isValid:L}:{},errors:n.errors,name:A};n={...n,..._},p.state.next(_)}},k=async A=>{v(A,!0);const L=await t.resolver(s,t.context,iye(A||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return v(A),L},$=async A=>{const{errors:L}=await k(A);if(A)for(const M of A){const G=ge(L,M);G?kt(n.errors,M,G):bn(n.errors,M)}else n.errors=L;return L},O=async(A,L,M={valid:!0})=>{for(const G in A){const J=A[G];if(J){const{_f:oe,..._}=J;if(oe){const K=l.array.has(oe.name),Se=J._f&&aye(J._f);Se&&d.validatingFields&&v([G],!0);const Ue=await s_(J,l.disabled,s,m,t.shouldUseNativeValidation&&!L,K);if(Se&&d.validatingFields&&v([G]),Ue[oe.name]&&(M.valid=!1,L))break;!L&&(ge(Ue,oe.name)?K?dye(n.errors,Ue,oe.name):kt(n.errors,oe.name,Ue[oe.name]):bn(n.errors,oe.name))}!Xn(_)&&await O(_,L,M)}}return M.valid},T=()=>{for(const A of l.unMount){const L=ge(r,A);L&&(L._f.refs?L._f.refs.every(M=>!jy(M)):!jy(L._f.ref))&&le(A)}l.unMount=new Set},P=(A,L)=>!t.disabled&&(A&&L&&kt(s,A,L),!rs(te(),a)),I=(A,L,M)=>GF(A,l,{...o.mount?s:cn(L)?a:zi(A)?{[A]:L}:L},M,L),D=A=>Zg(ge(o.mount?s:a,A,t.shouldUnregister?ge(a,A,[]):[])),R=(A,L,M={})=>{const G=ge(r,A);let J=L;if(G){const oe=G._f;oe&&(!oe.disabled&&kt(s,A,JF(L,oe)),J=sv(oe.ref)&&Jn(L)?"":L,YF(oe.ref)?[...oe.ref.options].forEach(_=>_.selected=J.includes(_.value)):oe.refs?lp(oe.ref)?oe.refs.length>1?oe.refs.forEach(_=>(!_.defaultChecked||!_.disabled)&&(_.checked=Array.isArray(J)?!!J.find(K=>K===_.value):J===_.value)):oe.refs[0]&&(oe.refs[0].checked=!!J):oe.refs.forEach(_=>_.checked=_.value===J):kN(oe.ref)?oe.ref.value="":(oe.ref.value=J,oe.ref.type||p.state.next({name:A,values:In(s)})))}(M.shouldDirty||M.shouldTouch)&&C(A,J,M.shouldTouch,M.shouldDirty,!0),M.shouldValidate&&Z(A)},V=(A,L,M)=>{for(const G in L){const J=L[G],oe=`${A}.${G}`,_=ge(r,oe);(l.array.has(A)||pn(J)||_&&!_._f)&&!co(J)?V(oe,J,M):R(oe,J,M)}},q=(A,L,M={})=>{const G=ge(r,A),J=l.array.has(A),oe=In(L);kt(s,A,oe),J?(p.array.next({name:A,values:In(s)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&M.shouldDirty&&p.state.next({name:A,dirtyFields:Bu(a,s),isDirty:P(A,oe)})):G&&!G._f&&!Jn(oe)?V(A,oe,M):R(A,oe,M),r_(A,l)&&p.state.next({...n}),p.state.next({name:o.mount?A:void 0,values:In(s)})},B=async A=>{o.mount=!0;const L=A.target;let M=L.name,G=!0;const J=ge(r,M),oe=_=>{G=Number.isNaN(_)||co(_)&&isNaN(_.getTime())||rs(_,ge(s,M,_))};if(J){let _,K;const Se=L.type?e_(J._f):BF(A),Ue=A.type===av.BLUR||A.type===av.FOCUS_OUT,qe=!sye(J._f)&&!t.resolver&&!ge(n.errors,M)&&!J._f.deps||cye(Ue,ge(n.touchedFields,M),n.isSubmitted,x,h),Tn=r_(M,l,Ue);kt(s,M,Se),Ue?(J._f.onBlur&&J._f.onBlur(A),c&&c(0)):J._f.onChange&&J._f.onChange(A);const Va=C(M,Se,Ue),bu=!Xn(Va)||Tn;if(!Ue&&p.state.next({name:M,type:A.type,values:In(s)}),qe)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Ue&&b():Ue||b()),bu&&p.state.next({name:M,...Tn?{}:Va});if(!Ue&&Tn&&p.state.next({...n}),t.resolver){const{errors:Jo}=await k([M]);if(oe(Se),G){const ju=i_(n.errors,r,M),el=i_(Jo,r,ju.name||M);_=el.error,M=el.name,K=Xn(Jo)}}else v([M],!0),_=(await s_(J,l.disabled,s,m,t.shouldUseNativeValidation))[M],v([M]),oe(Se),G&&(_?K=!1:(d.isValid||f.isValid)&&(K=await O(r,!0)));G&&(J._f.deps&&Z(J._f.deps),E(M,K,_,Va))}},W=(A,L)=>{if(ge(n.errors,L)&&A.focus)return A.focus(),1},Z=async(A,L={})=>{let M,G;const J=hd(A);if(t.resolver){const oe=await $(cn(A)?A:J);M=Xn(oe),G=A?!J.some(_=>ge(oe,_)):M}else A?(G=(await Promise.all(J.map(async oe=>{const _=ge(r,oe);return await O(_&&_._f?{[oe]:_}:_)}))).every(Boolean),!(!G&&!n.isValid)&&b()):G=M=await O(r);return p.state.next({...!zi(A)||(d.isValid||f.isValid)&&M!==n.isValid?{}:{name:A},...t.resolver||!A?{isValid:M}:{},errors:n.errors}),L.shouldFocus&&!G&&vd(r,W,A?J:l.mount),G},te=A=>{const L={...o.mount?s:a};return cn(A)?L:zi(A)?ge(L,A):A.map(M=>ge(L,M))},fe=(A,L)=>({invalid:!!ge((L||n).errors,A),isDirty:!!ge((L||n).dirtyFields,A),error:ge((L||n).errors,A),isValidating:!!ge(n.validatingFields,A),isTouched:!!ge((L||n).touchedFields,A)}),Ae=A=>{A&&hd(A).forEach(L=>bn(n.errors,L)),p.state.next({errors:A?n.errors:{}})},He=(A,L,M)=>{const G=(ge(r,A,{_f:{}})._f||{}).ref,J=ge(n.errors,A)||{},{ref:oe,message:_,type:K,...Se}=J;kt(n.errors,A,{...Se,...L,ref:G}),p.state.next({name:A,errors:n.errors,isValid:!1}),M&&M.shouldFocus&&G&&G.focus&&G.focus()},ze=(A,L)=>pi(A)?p.state.subscribe({next:M=>A(I(void 0,L),M)}):I(A,L,!0),xe=A=>p.state.subscribe({next:L=>{lye(A.name,L.name,A.exact)&&oye(L,A.formState||d,Be,A.reRenderRoot)&&A.callback({values:{...s},...n,...L})}}).unsubscribe,Re=A=>(o.mount=!0,f={...f,...A.formState},xe({...A,formState:f})),le=(A,L={})=>{for(const M of A?hd(A):l.mount)l.mount.delete(M),l.array.delete(M),L.keepValue||(bn(r,M),bn(s,M)),!L.keepError&&bn(n.errors,M),!L.keepDirty&&bn(n.dirtyFields,M),!L.keepTouched&&bn(n.touchedFields,M),!L.keepIsValidating&&bn(n.validatingFields,M),!t.shouldUnregister&&!L.keepDefaultValue&&bn(a,M);p.state.next({values:In(s)}),p.state.next({...n,...L.keepDirty?{isDirty:P()}:{}}),!L.keepIsValid&&b()},ce=({disabled:A,name:L})=>{(wr(A)&&o.mount||A||l.disabled.has(L))&&(A?l.disabled.add(L):l.disabled.delete(L))},me=(A,L={})=>{let M=ge(r,A);const G=wr(L.disabled)||wr(t.disabled);return kt(r,A,{...M||{},_f:{...M&&M._f?M._f:{ref:{name:A}},name:A,mount:!0,...L}}),l.mount.add(A),M?ce({disabled:wr(L.disabled)?L.disabled:t.disabled,name:A}):S(A,!0,L.value),{...G?{disabled:L.disabled||t.disabled}:{},...t.progressive?{required:!!L.required,min:Uu(L.min),max:Uu(L.max),minLength:Uu(L.minLength),maxLength:Uu(L.maxLength),pattern:Uu(L.pattern)}:{},name:A,onChange:B,onBlur:B,ref:J=>{if(J){me(A,L),M=ge(r,A);const oe=cn(J.value)&&J.querySelectorAll&&J.querySelectorAll("input,select,textarea")[0]||J,_=tye(oe),K=M._f.refs||[];if(_?K.find(Se=>Se===oe):oe===M._f.ref)return;kt(r,A,{_f:{...M._f,..._?{refs:[...K.filter(jy),oe,...Array.isArray(ge(a,A))?[{}]:[]],ref:{type:oe.type,name:A}}:{ref:oe}}}),S(A,!1,void 0,oe)}else M=ge(r,A,{}),M._f&&(M._f.mount=!1),(t.shouldUnregister||L.shouldUnregister)&&!(UF(l.array,A)&&o.action)&&l.unMount.add(A)}}},Y=()=>t.shouldFocusError&&vd(r,W,l.mount),Ie=A=>{wr(A)&&(p.state.next({disabled:A}),vd(r,(L,M)=>{const G=ge(r,M);G&&(L.disabled=G._f.disabled||A,Array.isArray(G._f.refs)&&G._f.refs.forEach(J=>{J.disabled=G._f.disabled||A}))},0,!1))},Ne=(A,L)=>async M=>{let G;M&&(M.preventDefault&&M.preventDefault(),M.persist&&M.persist());let J=In(s);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:oe,values:_}=await k();n.errors=oe,J=_}else await O(r);if(l.disabled.size)for(const oe of l.disabled)kt(J,oe,void 0);if(bn(n.errors,"root"),Xn(n.errors)){p.state.next({errors:{}});try{await A(J,M)}catch(oe){G=oe}}else L&&await L({...n.errors},M),Y(),setTimeout(Y);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Xn(n.errors)&&!G,submitCount:n.submitCount+1,errors:n.errors}),G)throw G},Q=(A,L={})=>{ge(r,A)&&(cn(L.defaultValue)?q(A,In(ge(a,A))):(q(A,L.defaultValue),kt(a,A,In(L.defaultValue))),L.keepTouched||bn(n.touchedFields,A),L.keepDirty||(bn(n.dirtyFields,A),n.isDirty=L.defaultValue?P(A,In(ge(a,A))):P()),L.keepError||(bn(n.errors,A),d.isValid&&b()),p.state.next({...n}))},de=(A,L={})=>{const M=A?In(A):a,G=In(M),J=Xn(A),oe=J?a:G;if(L.keepDefaultValues||(a=M),!L.keepValues){if(L.keepDirtyValues){const _=new Set([...l.mount,...Object.keys(Bu(a,s))]);for(const K of Array.from(_))ge(n.dirtyFields,K)?kt(oe,K,ge(s,K)):q(K,ge(oe,K))}else{if(EN&&cn(A))for(const _ of l.mount){const K=ge(r,_);if(K&&K._f){const Se=Array.isArray(K._f.refs)?K._f.refs[0]:K._f.ref;if(sv(Se)){const Ue=Se.closest("form");if(Ue){Ue.reset();break}}}}for(const _ of l.mount)q(_,ge(oe,_))}s=In(oe),p.array.next({values:{...oe}}),p.state.next({values:{...oe}})}l={mount:L.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!L.keepIsValid||!!L.keepDirtyValues,o.watch=!!t.shouldUnregister,p.state.next({submitCount:L.keepSubmitCount?n.submitCount:0,isDirty:J?!1:L.keepDirty?n.isDirty:!!(L.keepDefaultValues&&!rs(A,a)),isSubmitted:L.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:J?{}:L.keepDirtyValues?L.keepDefaultValues&&s?Bu(a,s):n.dirtyFields:L.keepDefaultValues&&A?Bu(a,A):L.keepDirty?n.dirtyFields:{},touchedFields:L.keepTouched?n.touchedFields:{},errors:L.keepErrors?n.errors:{},isSubmitSuccessful:L.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},ye=(A,L)=>de(pi(A)?A(s):A,L),Fe=(A,L={})=>{const M=ge(r,A),G=M&&M._f;if(G){const J=G.refs?G.refs[0]:G.ref;J.focus&&(J.focus(),L.shouldSelect&&pi(J.select)&&J.select())}},Be=A=>{n={...n,...A}},z={control:{register:me,unregister:le,getFieldState:fe,handleSubmit:Ne,setError:He,_subscribe:xe,_runSchema:k,_getWatch:I,_getDirty:P,_setValid:b,_setFieldArray:y,_setDisabledField:ce,_setErrors:j,_getFieldArray:D,_reset:de,_resetDefaultValues:()=>pi(t.defaultValues)&&t.defaultValues().then(A=>{ye(A,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:Ie,_subjects:p,_proxyFormState:d,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(A){o=A},get _defaultValues(){return a},get _names(){return l},set _names(A){l=A},get _formState(){return n},get _options(){return t},set _options(A){t={...t,...A}}},subscribe:Re,trigger:Z,register:me,handleSubmit:Ne,watch:ze,setValue:q,getValues:te,reset:ye,resetField:Q,clearErrors:Ae,unregister:le,setError:He,setFocus:Fe,getFieldState:fe};return{...z,formControl:z}}function ON(e={}){const t=F.useRef(void 0),n=F.useRef(void 0),[r,a]=F.useState({isDirty:!1,isValidating:!1,isLoading:pi(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:pi(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:pye(e),formState:r},e.formControl&&e.defaultValues&&!pi(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const s=t.current.control;return s._options=e,F.useLayoutEffect(()=>s._subscribe({formState:s._proxyFormState,callback:()=>a({...s._formState}),reRenderRoot:!0}),[s]),F.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),F.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),F.useEffect(()=>{e.values&&!rs(e.values,n.current)?(s._reset(e.values,s._options.resetOptions),n.current=e.values,a(o=>({...o}))):s._resetDefaultValues()},[e.values,s]),F.useEffect(()=>{e.errors&&!Xn(e.errors)&&s._setErrors(e.errors)},[e.errors,s]),F.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),F.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[e.shouldUnregister,s]),t.current.formState=WF(r,s),t.current}const o_=(e,t,n)=>{if(e&&"reportValidity"in e){const r=ge(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},tL=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?o_(r.ref,n,e):r.refs&&r.refs.forEach(a=>o_(a,n,e))}},mye=(e,t)=>{t.shouldUseNativeValidation&&tL(e,t);const n={};for(const r in e){const a=ge(t.fields,r),s=Object.assign(e[r]||{},{ref:a&&a.ref});if(hye(t.names||Object.keys(e),r)){const o=Object.assign({},ge(n,r));kt(o,"root",s),kt(n,r,o)}else kt(n,r,s)}return n},hye=(e,t)=>e.some(n=>n.startsWith(t+"."));var vye=function(e,t){for(var n={};e.length;){var r=e[0],a=r.code,s=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:s,type:a};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=n[o].types,u=c&&c[r.code];n[o]=KF(o,t,n,a,u?[].concat(u,r.message):r.message)}e.shift()}return n},PN=function(e,t,n){return n===void 0&&(n={}),function(r,a,s){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(u){return s.shouldUseNativeValidation&&tL({},s),{errors:{},values:n.raw?r:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:mye(vye(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},Ct;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function n(a){throw new Error}e.assertNever=n,e.arrayToEnum=a=>{const s={};for(const o of a)s[o]=o;return s},e.getValidEnumValues=a=>{const s=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of s)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(s){return a[s]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&s.push(o);return s},e.find=(a,s)=>{for(const o of a)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function r(a,s=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=r,e.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(Ct||(Ct={}));var Pj;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Pj||(Pj={}));const Ee=Ct.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),fa=e=>{switch(typeof e){case"undefined":return Ee.undefined;case"string":return Ee.string;case"number":return isNaN(e)?Ee.nan:Ee.number;case"boolean":return Ee.boolean;case"function":return Ee.function;case"bigint":return Ee.bigint;case"symbol":return Ee.symbol;case"object":return Array.isArray(e)?Ee.array:e===null?Ee.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ee.promise:typeof Map<"u"&&e instanceof Map?Ee.map:typeof Set<"u"&&e instanceof Set?Ee.set:typeof Date<"u"&&e instanceof Date?Ee.date:Ee.object;default:return Ee.unknown}},ue=Ct.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),gye=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Pr extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(s){return s.message},r={_errors:[]},a=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),r}static assert(t){if(!(t instanceof Pr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ct.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const a of this.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Pr.create=e=>new Pr(e);const Yc=(e,t)=>{let n;switch(e.code){case ue.invalid_type:e.received===Ee.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case ue.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Ct.jsonStringifyReplacer)}`;break;case ue.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ct.joinValues(e.keys,", ")}`;break;case ue.invalid_union:n="Invalid input";break;case ue.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ct.joinValues(e.options)}`;break;case ue.invalid_enum_value:n=`Invalid enum value. Expected ${Ct.joinValues(e.options)}, received '${e.received}'`;break;case ue.invalid_arguments:n="Invalid function arguments";break;case ue.invalid_return_type:n="Invalid function return type";break;case ue.invalid_date:n="Invalid date";break;case ue.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Ct.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case ue.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case ue.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case ue.custom:n="Invalid input";break;case ue.invalid_intersection_types:n="Intersection results could not be merged";break;case ue.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case ue.not_finite:n="Number must be finite";break;default:n=t.defaultError,Ct.assertNever(e)}return{message:n}};let nL=Yc;function xye(e){nL=e}function cv(){return nL}const uv=e=>{const{data:t,path:n,errorMaps:r,issueData:a}=e,s=[...n,...a.path||[]],o={...a,path:s};if(a.message!==void 0)return{...a,path:s,message:a.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:s,message:l}},yye=[];function be(e,t){const n=cv(),r=uv({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Yc?void 0:Yc].filter(a=>!!a)});e.common.issues.push(r)}class Gn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const a of n){if(a.status==="aborted")return Qe;a.status==="dirty"&&t.dirty(),r.push(a.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const a of n){const s=await a.key,o=await a.value;r.push({key:s,value:o})}return Gn.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const a of n){const{key:s,value:o}=a;if(s.status==="aborted"||o.status==="aborted")return Qe;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(r[s.value]=o.value)}return{status:t.value,value:r}}}const Qe=Object.freeze({status:"aborted"}),Al=e=>({status:"dirty",value:e}),ar=e=>({status:"valid",value:e}),Tj=e=>e.status==="aborted",Ij=e=>e.status==="dirty",qo=e=>e.status==="valid",Sf=e=>typeof Promise<"u"&&e instanceof Promise;function dv(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function rL(e,t,n,r,a){if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var $e;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})($e||($e={}));var Xu,Zu;class Xi{constructor(t,n,r,a){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const l_=(e,t)=>{if(qo(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Pr(e.common.issues);return this._error=n,this._error}}};function ft(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{var c,u;const{message:d}=e;return o.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:(c=d??r)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=d??n)!==null&&u!==void 0?u:l.defaultError}},description:a}}class vt{get description(){return this._def.description}_getType(t){return fa(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:fa(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Gn,ctx:{common:t.parent.common,data:t.data,parsedType:fa(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Sf(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const a={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fa(t)},s=this._parseSync({data:t,path:a.path,parent:a});return l_(a,s)}"~validate"(t){var n,r;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fa(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:a});return qo(s)?{value:s.value}:{issues:a.common.issues}}catch(s){!((r=(n=s==null?void 0:s.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:a}).then(s=>qo(s)?{value:s.value}:{issues:a.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fa(t)},a=this._parse({data:t,path:r.path,parent:r}),s=await(Sf(a)?a:Promise.resolve(a));return l_(r,s)}refine(t,n){const r=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,s)=>{const o=t(a),l=()=>s.addIssue({code:ue.custom,...r(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,a)=>t(r)?!0:(a.addIssue(typeof n=="function"?n(r,a):n),!1))}_refinement(t){return new wi({schema:this,typeName:Ke.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Gi.create(this,this._def)}nullable(){return Ms.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return xi.create(this)}promise(){return Xc.create(this,this._def)}or(t){return kf.create([this,t],this._def)}and(t){return _f.create(this,t,this._def)}transform(t){return new wi({...ft(this._def),schema:this,typeName:Ke.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Rf({...ft(this._def),innerType:this,defaultValue:n,typeName:Ke.ZodDefault})}brand(){return new TN({typeName:Ke.ZodBranded,type:this,...ft(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new $f({...ft(this._def),innerType:this,catchValue:n,typeName:Ke.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return cp.create(this,t)}readonly(){return Mf.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const bye=/^c[^\s-]{8,}$/i,jye=/^[0-9a-z]+$/,wye=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Nye=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Sye=/^[a-z0-9_-]{21}$/i,Cye=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Eye=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Aye=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,kye="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let wy;const _ye=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Oye=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Pye=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Tye=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Iye=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Rye=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,iL="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",$ye=new RegExp(`^${iL}$`);function aL(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function Mye(e){return new RegExp(`^${aL(e)}$`)}function sL(e){let t=`${iL}T${aL(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function Dye(e,t){return!!((t==="v4"||!t)&&_ye.test(e)||(t==="v6"||!t)&&Pye.test(e))}function Fye(e,t){if(!Cye.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(r));return!(typeof a!="object"||a===null||!a.typ||!a.alg||t&&a.alg!==t)}catch{return!1}}function Lye(e,t){return!!((t==="v4"||!t)&&Oye.test(e)||(t==="v6"||!t)&&Tye.test(e))}class mi extends vt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ee.string){const s=this._getOrReturnCtx(t);return be(s,{code:ue.invalid_type,expected:Ee.string,received:s.parsedType}),Qe}const r=new Gn;let a;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(a=this._getOrReturnCtx(t,a),be(a,{code:ue.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")t.data.length>s.value&&(a=this._getOrReturnCtx(t,a),be(a,{code:ue.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,l=t.data.length<s.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?be(a,{code:ue.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&be(a,{code:ue.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")Aye.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"email",code:ue.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")wy||(wy=new RegExp(kye,"u")),wy.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"emoji",code:ue.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")Nye.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"uuid",code:ue.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")Sye.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"nanoid",code:ue.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")bye.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"cuid",code:ue.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")jye.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"cuid2",code:ue.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")wye.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"ulid",code:ue.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),be(a,{validation:"url",code:ue.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"regex",code:ue.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(a=this._getOrReturnCtx(t,a),be(a,{code:ue.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(a=this._getOrReturnCtx(t,a),be(a,{code:ue.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(a=this._getOrReturnCtx(t,a),be(a,{code:ue.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?sL(s).test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{code:ue.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?$ye.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{code:ue.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?Mye(s).test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{code:ue.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?Eye.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"duration",code:ue.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?Dye(t.data,s.version)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"ip",code:ue.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?Fye(t.data,s.alg)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"jwt",code:ue.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?Lye(t.data,s.version)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"cidr",code:ue.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?Iye.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"base64",code:ue.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?Rye.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"base64url",code:ue.invalid_string,message:s.message}),r.dirty()):Ct.assertNever(s);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(a=>t.test(a),{validation:n,code:ue.invalid_string,...$e.errToObj(r)})}_addCheck(t){return new mi({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...$e.errToObj(t)})}url(t){return this._addCheck({kind:"url",...$e.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...$e.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...$e.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...$e.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...$e.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...$e.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...$e.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...$e.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...$e.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...$e.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...$e.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...$e.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...$e.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...$e.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...$e.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...$e.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...$e.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...$e.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...$e.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...$e.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...$e.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...$e.errToObj(n)})}nonempty(t){return this.min(1,$e.errToObj(t))}trim(){return new mi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new mi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new mi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}mi.create=e=>{var t;return new mi({checks:[],typeName:Ke.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ft(e)})};function qye(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r,s=parseInt(e.toFixed(a).replace(".","")),o=parseInt(t.toFixed(a).replace(".",""));return s%o/Math.pow(10,a)}class Is extends vt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ee.number){const s=this._getOrReturnCtx(t);return be(s,{code:ue.invalid_type,expected:Ee.number,received:s.parsedType}),Qe}let r;const a=new Gn;for(const s of this._def.checks)s.kind==="int"?Ct.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),be(r,{code:ue.invalid_type,expected:"integer",received:"float",message:s.message}),a.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),be(r,{code:ue.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),be(r,{code:ue.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="multipleOf"?qye(t.data,s.value)!==0&&(r=this._getOrReturnCtx(t,r),be(r,{code:ue.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),be(r,{code:ue.not_finite,message:s.message}),a.dirty()):Ct.assertNever(s);return{status:a.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,$e.toString(n))}gt(t,n){return this.setLimit("min",t,!1,$e.toString(n))}lte(t,n){return this.setLimit("max",t,!0,$e.toString(n))}lt(t,n){return this.setLimit("max",t,!1,$e.toString(n))}setLimit(t,n,r,a){return new Is({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:$e.toString(a)}]})}_addCheck(t){return new Is({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:$e.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:$e.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:$e.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:$e.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:$e.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:$e.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:$e.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:$e.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:$e.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ct.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Is.create=e=>new Is({checks:[],typeName:Ke.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ft(e)});class Rs extends vt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ee.bigint)return this._getInvalidInput(t);let r;const a=new Gn;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),be(r,{code:ue.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),be(r,{code:ue.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),be(r,{code:ue.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):Ct.assertNever(s);return{status:a.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return be(n,{code:ue.invalid_type,expected:Ee.bigint,received:n.parsedType}),Qe}gte(t,n){return this.setLimit("min",t,!0,$e.toString(n))}gt(t,n){return this.setLimit("min",t,!1,$e.toString(n))}lte(t,n){return this.setLimit("max",t,!0,$e.toString(n))}lt(t,n){return this.setLimit("max",t,!1,$e.toString(n))}setLimit(t,n,r,a){return new Rs({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:$e.toString(a)}]})}_addCheck(t){return new Rs({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:$e.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:$e.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:$e.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:$e.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:$e.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Rs.create=e=>{var t;return new Rs({checks:[],typeName:Ke.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ft(e)})};class Cf extends vt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ee.boolean){const r=this._getOrReturnCtx(t);return be(r,{code:ue.invalid_type,expected:Ee.boolean,received:r.parsedType}),Qe}return ar(t.data)}}Cf.create=e=>new Cf({typeName:Ke.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ft(e)});class zo extends vt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ee.date){const s=this._getOrReturnCtx(t);return be(s,{code:ue.invalid_type,expected:Ee.date,received:s.parsedType}),Qe}if(isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return be(s,{code:ue.invalid_date}),Qe}const r=new Gn;let a;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(a=this._getOrReturnCtx(t,a),be(a,{code:ue.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(a=this._getOrReturnCtx(t,a),be(a,{code:ue.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Ct.assertNever(s);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new zo({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:$e.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:$e.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}zo.create=e=>new zo({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ke.ZodDate,...ft(e)});class fv extends vt{_parse(t){if(this._getType(t)!==Ee.symbol){const r=this._getOrReturnCtx(t);return be(r,{code:ue.invalid_type,expected:Ee.symbol,received:r.parsedType}),Qe}return ar(t.data)}}fv.create=e=>new fv({typeName:Ke.ZodSymbol,...ft(e)});class Ef extends vt{_parse(t){if(this._getType(t)!==Ee.undefined){const r=this._getOrReturnCtx(t);return be(r,{code:ue.invalid_type,expected:Ee.undefined,received:r.parsedType}),Qe}return ar(t.data)}}Ef.create=e=>new Ef({typeName:Ke.ZodUndefined,...ft(e)});class Af extends vt{_parse(t){if(this._getType(t)!==Ee.null){const r=this._getOrReturnCtx(t);return be(r,{code:ue.invalid_type,expected:Ee.null,received:r.parsedType}),Qe}return ar(t.data)}}Af.create=e=>new Af({typeName:Ke.ZodNull,...ft(e)});class Qc extends vt{constructor(){super(...arguments),this._any=!0}_parse(t){return ar(t.data)}}Qc.create=e=>new Qc({typeName:Ke.ZodAny,...ft(e)});class wo extends vt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ar(t.data)}}wo.create=e=>new wo({typeName:Ke.ZodUnknown,...ft(e)});class Fa extends vt{_parse(t){const n=this._getOrReturnCtx(t);return be(n,{code:ue.invalid_type,expected:Ee.never,received:n.parsedType}),Qe}}Fa.create=e=>new Fa({typeName:Ke.ZodNever,...ft(e)});class pv extends vt{_parse(t){if(this._getType(t)!==Ee.undefined){const r=this._getOrReturnCtx(t);return be(r,{code:ue.invalid_type,expected:Ee.void,received:r.parsedType}),Qe}return ar(t.data)}}pv.create=e=>new pv({typeName:Ke.ZodVoid,...ft(e)});class xi extends vt{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),a=this._def;if(n.parsedType!==Ee.array)return be(n,{code:ue.invalid_type,expected:Ee.array,received:n.parsedType}),Qe;if(a.exactLength!==null){const o=n.data.length>a.exactLength.value,l=n.data.length<a.exactLength.value;(o||l)&&(be(n,{code:o?ue.too_big:ue.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(be(n,{code:ue.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(be(n,{code:ue.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>a.type._parseAsync(new Xi(n,o,n.path,l)))).then(o=>Gn.mergeArray(r,o));const s=[...n.data].map((o,l)=>a.type._parseSync(new Xi(n,o,n.path,l)));return Gn.mergeArray(r,s)}get element(){return this._def.type}min(t,n){return new xi({...this._def,minLength:{value:t,message:$e.toString(n)}})}max(t,n){return new xi({...this._def,maxLength:{value:t,message:$e.toString(n)}})}length(t,n){return new xi({...this._def,exactLength:{value:t,message:$e.toString(n)}})}nonempty(t){return this.min(1,t)}}xi.create=(e,t)=>new xi({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ke.ZodArray,...ft(t)});function cl(e){if(e instanceof Jt){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Gi.create(cl(r))}return new Jt({...e._def,shape:()=>t})}else return e instanceof xi?new xi({...e._def,type:cl(e.element)}):e instanceof Gi?Gi.create(cl(e.unwrap())):e instanceof Ms?Ms.create(cl(e.unwrap())):e instanceof Zi?Zi.create(e.items.map(t=>cl(t))):e}class Jt extends vt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Ct.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==Ee.object){const u=this._getOrReturnCtx(t);return be(u,{code:ue.invalid_type,expected:Ee.object,received:u.parsedType}),Qe}const{status:r,ctx:a}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Fa&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=s[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Xi(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Fa){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(be(a,{code:ue.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Xi(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,p=await d.value;u.push({key:f,value:p,alwaysSet:d.alwaysSet})}return u}).then(u=>Gn.mergeObjectSync(r,u)):Gn.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return $e.errToObj,new Jt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var a,s,o,l;const c=(o=(s=(a=this._def).errorMap)===null||s===void 0?void 0:s.call(a,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=$e.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Jt({...this._def,unknownKeys:"strip"})}passthrough(){return new Jt({...this._def,unknownKeys:"passthrough"})}extend(t){return new Jt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Jt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ke.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Jt({...this._def,catchall:t})}pick(t){const n={};return Ct.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Jt({...this._def,shape:()=>n})}omit(t){const n={};return Ct.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new Jt({...this._def,shape:()=>n})}deepPartial(){return cl(this)}partial(t){const n={};return Ct.objectKeys(this.shape).forEach(r=>{const a=this.shape[r];t&&!t[r]?n[r]=a:n[r]=a.optional()}),new Jt({...this._def,shape:()=>n})}required(t){const n={};return Ct.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Gi;)s=s._def.innerType;n[r]=s}}),new Jt({...this._def,shape:()=>n})}keyof(){return oL(Ct.objectKeys(this.shape))}}Jt.create=(e,t)=>new Jt({shape:()=>e,unknownKeys:"strip",catchall:Fa.create(),typeName:Ke.ZodObject,...ft(t)});Jt.strictCreate=(e,t)=>new Jt({shape:()=>e,unknownKeys:"strict",catchall:Fa.create(),typeName:Ke.ZodObject,...ft(t)});Jt.lazycreate=(e,t)=>new Jt({shape:e,unknownKeys:"strip",catchall:Fa.create(),typeName:Ke.ZodObject,...ft(t)});class kf extends vt{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function a(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new Pr(l.ctx.common.issues));return be(n,{code:ue.invalid_union,unionErrors:o}),Qe}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(a);{let s;const o=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(c=>new Pr(c));return be(n,{code:ue.invalid_union,unionErrors:l}),Qe}}get options(){return this._def.options}}kf.create=(e,t)=>new kf({options:e,typeName:Ke.ZodUnion,...ft(t)});const la=e=>e instanceof Pf?la(e.schema):e instanceof wi?la(e.innerType()):e instanceof Tf?[e.value]:e instanceof $s?e.options:e instanceof If?Ct.objectValues(e.enum):e instanceof Rf?la(e._def.innerType):e instanceof Ef?[void 0]:e instanceof Af?[null]:e instanceof Gi?[void 0,...la(e.unwrap())]:e instanceof Ms?[null,...la(e.unwrap())]:e instanceof TN||e instanceof Mf?la(e.unwrap()):e instanceof $f?la(e._def.innerType):[];class ex extends vt{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Ee.object)return be(n,{code:ue.invalid_type,expected:Ee.object,received:n.parsedType}),Qe;const r=this.discriminator,a=n.data[r],s=this.optionsMap.get(a);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(be(n,{code:ue.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Qe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const a=new Map;for(const s of n){const o=la(s.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);a.set(l,s)}}return new ex({typeName:Ke.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:a,...ft(r)})}}function Rj(e,t){const n=fa(e),r=fa(t);if(e===t)return{valid:!0,data:e};if(n===Ee.object&&r===Ee.object){const a=Ct.objectKeys(t),s=Ct.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of s){const c=Rj(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===Ee.array&&r===Ee.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let s=0;s<e.length;s++){const o=e[s],l=t[s],c=Rj(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return n===Ee.date&&r===Ee.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class _f extends vt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),a=(s,o)=>{if(Tj(s)||Tj(o))return Qe;const l=Rj(s.value,o.value);return l.valid?((Ij(s)||Ij(o))&&n.dirty(),{status:n.value,value:l.data}):(be(r,{code:ue.invalid_intersection_types}),Qe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>a(s,o)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}_f.create=(e,t,n)=>new _f({left:e,right:t,typeName:Ke.ZodIntersection,...ft(n)});class Zi extends vt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ee.array)return be(r,{code:ue.invalid_type,expected:Ee.array,received:r.parsedType}),Qe;if(r.data.length<this._def.items.length)return be(r,{code:ue.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Qe;!this._def.rest&&r.data.length>this._def.items.length&&(be(r,{code:ue.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Xi(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Gn.mergeArray(n,o)):Gn.mergeArray(n,s)}get items(){return this._def.items}rest(t){return new Zi({...this._def,rest:t})}}Zi.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Zi({items:e,typeName:Ke.ZodTuple,rest:null,...ft(t)})};class Of extends vt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ee.object)return be(r,{code:ue.invalid_type,expected:Ee.object,received:r.parsedType}),Qe;const a=[],s=this._def.keyType,o=this._def.valueType;for(const l in r.data)a.push({key:s._parse(new Xi(r,l,r.path,l)),value:o._parse(new Xi(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?Gn.mergeObjectAsync(n,a):Gn.mergeObjectSync(n,a)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof vt?new Of({keyType:t,valueType:n,typeName:Ke.ZodRecord,...ft(r)}):new Of({keyType:mi.create(),valueType:t,typeName:Ke.ZodRecord,...ft(n)})}}class mv extends vt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ee.map)return be(r,{code:ue.invalid_type,expected:Ee.map,received:r.parsedType}),Qe;const a=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([l,c],u)=>({key:a._parse(new Xi(r,l,r.path,[u,"key"])),value:s._parse(new Xi(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Qe;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Qe;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}}}}mv.create=(e,t,n)=>new mv({valueType:t,keyType:e,typeName:Ke.ZodMap,...ft(n)});class Bo extends vt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Ee.set)return be(r,{code:ue.invalid_type,expected:Ee.set,received:r.parsedType}),Qe;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(be(r,{code:ue.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(be(r,{code:ue.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const s=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Qe;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>s._parse(new Xi(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,n){return new Bo({...this._def,minSize:{value:t,message:$e.toString(n)}})}max(t,n){return new Bo({...this._def,maxSize:{value:t,message:$e.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Bo.create=(e,t)=>new Bo({valueType:e,minSize:null,maxSize:null,typeName:Ke.ZodSet,...ft(t)});class Kl extends vt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Ee.function)return be(n,{code:ue.invalid_type,expected:Ee.function,received:n.parsedType}),Qe;function r(l,c){return uv({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,cv(),Yc].filter(u=>!!u),issueData:{code:ue.invalid_arguments,argumentsError:c}})}function a(l,c){return uv({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,cv(),Yc].filter(u=>!!u),issueData:{code:ue.invalid_return_type,returnTypeError:c}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Xc){const l=this;return ar(async function(...c){const u=new Pr([]),d=await l._def.args.parseAsync(c,s).catch(h=>{throw u.addIssue(r(c,h)),u}),f=await Reflect.apply(o,this,d);return await l._def.returns._def.type.parseAsync(f,s).catch(h=>{throw u.addIssue(a(f,h)),u})})}else{const l=this;return ar(function(...c){const u=l._def.args.safeParse(c,s);if(!u.success)throw new Pr([r(c,u.error)]);const d=Reflect.apply(o,this,u.data),f=l._def.returns.safeParse(d,s);if(!f.success)throw new Pr([a(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Kl({...this._def,args:Zi.create(t).rest(wo.create())})}returns(t){return new Kl({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new Kl({args:t||Zi.create([]).rest(wo.create()),returns:n||wo.create(),typeName:Ke.ZodFunction,...ft(r)})}}class Pf extends vt{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Pf.create=(e,t)=>new Pf({getter:e,typeName:Ke.ZodLazy,...ft(t)});class Tf extends vt{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return be(n,{received:n.data,code:ue.invalid_literal,expected:this._def.value}),Qe}return{status:"valid",value:t.data}}get value(){return this._def.value}}Tf.create=(e,t)=>new Tf({value:e,typeName:Ke.ZodLiteral,...ft(t)});function oL(e,t){return new $s({values:e,typeName:Ke.ZodEnum,...ft(t)})}class $s extends vt{constructor(){super(...arguments),Xu.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return be(n,{expected:Ct.joinValues(r),received:n.parsedType,code:ue.invalid_type}),Qe}if(dv(this,Xu)||rL(this,Xu,new Set(this._def.values)),!dv(this,Xu).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return be(n,{received:n.data,code:ue.invalid_enum_value,options:r}),Qe}return ar(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return $s.create(t,{...this._def,...n})}exclude(t,n=this._def){return $s.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}Xu=new WeakMap;$s.create=oL;class If extends vt{constructor(){super(...arguments),Zu.set(this,void 0)}_parse(t){const n=Ct.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Ee.string&&r.parsedType!==Ee.number){const a=Ct.objectValues(n);return be(r,{expected:Ct.joinValues(a),received:r.parsedType,code:ue.invalid_type}),Qe}if(dv(this,Zu)||rL(this,Zu,new Set(Ct.getValidEnumValues(this._def.values))),!dv(this,Zu).has(t.data)){const a=Ct.objectValues(n);return be(r,{received:r.data,code:ue.invalid_enum_value,options:a}),Qe}return ar(t.data)}get enum(){return this._def.values}}Zu=new WeakMap;If.create=(e,t)=>new If({values:e,typeName:Ke.ZodNativeEnum,...ft(t)});class Xc extends vt{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Ee.promise&&n.common.async===!1)return be(n,{code:ue.invalid_type,expected:Ee.promise,received:n.parsedType}),Qe;const r=n.parsedType===Ee.promise?n.data:Promise.resolve(n.data);return ar(r.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Xc.create=(e,t)=>new Xc({type:e,typeName:Ke.ZodPromise,...ft(t)});class wi extends vt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ke.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),a=this._def.effect||null,s={addIssue:o=>{be(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),a.type==="preprocess"){const o=a.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return Qe;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Qe:c.status==="dirty"||n.value==="dirty"?Al(c.value):c});{if(n.value==="aborted")return Qe;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?Qe:l.status==="dirty"||n.value==="dirty"?Al(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Qe:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Qe:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(a.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!qo(o))return o;const l=a.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>qo(o)?Promise.resolve(a.transform(o.value,s)).then(l=>({status:n.value,value:l})):o);Ct.assertNever(a)}}wi.create=(e,t,n)=>new wi({schema:e,typeName:Ke.ZodEffects,effect:t,...ft(n)});wi.createWithPreprocess=(e,t,n)=>new wi({schema:t,effect:{type:"preprocess",transform:e},typeName:Ke.ZodEffects,...ft(n)});class Gi extends vt{_parse(t){return this._getType(t)===Ee.undefined?ar(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Gi.create=(e,t)=>new Gi({innerType:e,typeName:Ke.ZodOptional,...ft(t)});class Ms extends vt{_parse(t){return this._getType(t)===Ee.null?ar(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ms.create=(e,t)=>new Ms({innerType:e,typeName:Ke.ZodNullable,...ft(t)});class Rf extends vt{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===Ee.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Rf.create=(e,t)=>new Rf({innerType:e,typeName:Ke.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ft(t)});class $f extends vt{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Sf(a)?a.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Pr(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Pr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}$f.create=(e,t)=>new $f({innerType:e,typeName:Ke.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ft(t)});class hv extends vt{_parse(t){if(this._getType(t)!==Ee.nan){const r=this._getOrReturnCtx(t);return be(r,{code:ue.invalid_type,expected:Ee.nan,received:r.parsedType}),Qe}return{status:"valid",value:t.data}}}hv.create=e=>new hv({typeName:Ke.ZodNaN,...ft(e)});const zye=Symbol("zod_brand");class TN extends vt{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class cp extends vt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Qe:s.status==="dirty"?(n.dirty(),Al(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Qe:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(t,n){return new cp({in:t,out:n,typeName:Ke.ZodPipeline})}}class Mf extends vt{_parse(t){const n=this._def.innerType._parse(t),r=a=>(qo(a)&&(a.value=Object.freeze(a.value)),a);return Sf(n)?n.then(a=>r(a)):r(n)}unwrap(){return this._def.innerType}}Mf.create=(e,t)=>new Mf({innerType:e,typeName:Ke.ZodReadonly,...ft(t)});function c_(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function lL(e,t={},n){return e?Qc.create().superRefine((r,a)=>{var s,o;const l=e(r);if(l instanceof Promise)return l.then(c=>{var u,d;if(!c){const f=c_(t,r),p=(d=(u=f.fatal)!==null&&u!==void 0?u:n)!==null&&d!==void 0?d:!0;a.addIssue({code:"custom",...f,fatal:p})}});if(!l){const c=c_(t,r),u=(o=(s=c.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0;a.addIssue({code:"custom",...c,fatal:u})}}):Qc.create()}const Bye={object:Jt.lazycreate};var Ke;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ke||(Ke={}));const Uye=(e,t={message:`Input not instance of ${e.name}`})=>lL(n=>n instanceof e,t),cL=mi.create,uL=Is.create,Vye=hv.create,Hye=Rs.create,dL=Cf.create,Wye=zo.create,Gye=fv.create,Kye=Ef.create,Yye=Af.create,Qye=Qc.create,Xye=wo.create,Zye=Fa.create,Jye=pv.create,e0e=xi.create,t0e=Jt.create,n0e=Jt.strictCreate,r0e=kf.create,i0e=ex.create,a0e=_f.create,s0e=Zi.create,o0e=Of.create,l0e=mv.create,c0e=Bo.create,u0e=Kl.create,d0e=Pf.create,f0e=Tf.create,p0e=$s.create,m0e=If.create,h0e=Xc.create,u_=wi.create,v0e=Gi.create,g0e=Ms.create,x0e=wi.createWithPreprocess,y0e=cp.create,b0e=()=>cL().optional(),j0e=()=>uL().optional(),w0e=()=>dL().optional(),N0e={string:e=>mi.create({...e,coerce:!0}),number:e=>Is.create({...e,coerce:!0}),boolean:e=>Cf.create({...e,coerce:!0}),bigint:e=>Rs.create({...e,coerce:!0}),date:e=>zo.create({...e,coerce:!0})},S0e=Qe;var Ge=Object.freeze({__proto__:null,defaultErrorMap:Yc,setErrorMap:xye,getErrorMap:cv,makeIssue:uv,EMPTY_PATH:yye,addIssueToContext:be,ParseStatus:Gn,INVALID:Qe,DIRTY:Al,OK:ar,isAborted:Tj,isDirty:Ij,isValid:qo,isAsync:Sf,get util(){return Ct},get objectUtil(){return Pj},ZodParsedType:Ee,getParsedType:fa,ZodType:vt,datetimeRegex:sL,ZodString:mi,ZodNumber:Is,ZodBigInt:Rs,ZodBoolean:Cf,ZodDate:zo,ZodSymbol:fv,ZodUndefined:Ef,ZodNull:Af,ZodAny:Qc,ZodUnknown:wo,ZodNever:Fa,ZodVoid:pv,ZodArray:xi,ZodObject:Jt,ZodUnion:kf,ZodDiscriminatedUnion:ex,ZodIntersection:_f,ZodTuple:Zi,ZodRecord:Of,ZodMap:mv,ZodSet:Bo,ZodFunction:Kl,ZodLazy:Pf,ZodLiteral:Tf,ZodEnum:$s,ZodNativeEnum:If,ZodPromise:Xc,ZodEffects:wi,ZodTransformer:wi,ZodOptional:Gi,ZodNullable:Ms,ZodDefault:Rf,ZodCatch:$f,ZodNaN:hv,BRAND:zye,ZodBranded:TN,ZodPipeline:cp,ZodReadonly:Mf,custom:lL,Schema:vt,ZodSchema:vt,late:Bye,get ZodFirstPartyTypeKind(){return Ke},coerce:N0e,any:Qye,array:e0e,bigint:Hye,boolean:dL,date:Wye,discriminatedUnion:i0e,effect:u_,enum:p0e,function:u0e,instanceof:Uye,intersection:a0e,lazy:d0e,literal:f0e,map:l0e,nan:Vye,nativeEnum:m0e,never:Zye,null:Yye,nullable:g0e,number:uL,object:t0e,oboolean:w0e,onumber:j0e,optional:v0e,ostring:b0e,pipeline:y0e,preprocess:x0e,promise:h0e,record:o0e,set:c0e,strictObject:n0e,string:cL,symbol:Gye,transformer:u_,tuple:s0e,undefined:Kye,union:r0e,unknown:Xye,void:Jye,NEVER:S0e,ZodIssueCode:ue,quotelessJson:gye,ZodError:Pr});const IN=Qxe,fL=N.createContext({}),ct=({...e})=>i.jsx(fL.Provider,{value:{name:e.name},children:i.jsx(eye,{...e})}),tx=()=>{const e=N.useContext(fL),t=N.useContext(pL),{getFieldState:n,formState:r}=Jg(),a=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:s}=t;return{id:s,name:e.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...a}},pL=N.createContext({}),it=N.forwardRef(({className:e,...t},n)=>{const r=N.useId();return i.jsx(pL.Provider,{value:{id:r},children:i.jsx("div",{ref:n,className:Le("space-y-2",e),...t})})});it.displayName="FormItem";const nt=N.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:a}=tx();return i.jsx(ve,{ref:n,className:Le(r&&"text-destructive",e),htmlFor:a,...t})});nt.displayName="FormLabel";const at=N.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:a,formMessageId:s}=tx();return i.jsx(sT,{ref:t,id:r,"aria-describedby":n?`${a} ${s}`:`${a}`,"aria-invalid":!!n,...e})});at.displayName="FormControl";const C0e=N.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=tx();return i.jsx("p",{ref:n,id:r,className:Le("text-sm text-muted-foreground",e),...t})});C0e.displayName="FormDescription";const st=N.forwardRef(({className:e,children:t,...n},r)=>{const{error:a,formMessageId:s}=tx(),o=a?String((a==null?void 0:a.message)??""):t;return o?i.jsx("p",{ref:r,id:s,className:Le("text-sm font-medium text-destructive",e),...n,children:o}):null});st.displayName="FormMessage";const E0e=Ge.object({equipmentGroup:Ge.string().min(1,"Equipment group is required"),equipmentType:Ge.string().min(1,"Equipment type is required"),subtype:Ge.string().optional(),componentFailureMode:Ge.string().min(1,"Failure mode is required"),equipmentCode:Ge.string().min(1,"Equipment code is required"),failureCode:Ge.string().min(1,"Failure code is required"),riskRanking:Ge.string().min(1,"Risk ranking is required"),requiredTrendDataEvidence:Ge.string().min(1,"Required trend data is required"),aiOrInvestigatorQuestions:Ge.string().min(1,"AI questions are required"),attachmentsEvidenceRequired:Ge.string().min(1,"Attachments required is required"),rootCauseLogic:Ge.string().min(1,"Root cause logic is required")});function A0e({initialData:e,onSubmit:t,onCancel:n,isSubmitting:r=!1}){const[a,s]=N.useState(null),[o,l]=N.useState(null),c=ON({resolver:PN(E0e),defaultValues:{equipmentGroup:(e==null?void 0:e.equipmentGroup)||"",equipmentType:(e==null?void 0:e.equipmentType)||"",subtype:(e==null?void 0:e.subtype)||"",componentFailureMode:(e==null?void 0:e.componentFailureMode)||"",equipmentCode:(e==null?void 0:e.equipmentCode)||"",failureCode:(e==null?void 0:e.failureCode)||"",riskRanking:(e==null?void 0:e.riskRanking)||"",requiredTrendDataEvidence:(e==null?void 0:e.requiredTrendDataEvidence)||"",aiOrInvestigatorQuestions:(e==null?void 0:e.aiOrInvestigatorQuestions)||"",attachmentsEvidenceRequired:(e==null?void 0:e.attachmentsEvidenceRequired)||"",rootCauseLogic:(e==null?void 0:e.rootCauseLogic)||""}}),{data:u=[]}=Ye({queryKey:["/api/equipment-groups/active"],queryFn:async()=>{try{const m=await fetch("/api/equipment-groups/active");if(!m.ok)return[];const g=await m.text();return g.startsWith("<!DOCTYPE html>")?[]:JSON.parse(g)}catch{return[]}}}),{data:d=[]}=Ye({queryKey:["/api/risk-rankings/active"],queryFn:async()=>{try{const m=await fetch("/api/risk-rankings/active");if(!m.ok)return[];const g=await m.text();return g.startsWith("<!DOCTYPE html>")?[]:JSON.parse(g)}catch{return[]}}}),f=c.watch("equipmentGroup");N.useEffect(()=>{if(f&&Array.isArray(u)){const m=u.find(g=>g.name===f);s((m==null?void 0:m.id)||null),c.setValue("equipmentType",""),c.setValue("subtype","")}},[f,u,c]);const{data:p=[]}=Ye({queryKey:["/api/equipment-types/by-group",a],queryFn:async()=>{if(!a)return[];try{const m=await fetch(`/api/equipment-types/by-group/${a}`);if(!m.ok)return[];const g=await m.text();return g.startsWith("<!DOCTYPE html>")?[]:JSON.parse(g)}catch{return[]}},enabled:!!a}),h=c.watch("equipmentType");N.useEffect(()=>{if(h&&Array.isArray(p)){const m=p.find(g=>g.name===h);l((m==null?void 0:m.id)||null),c.setValue("subtype","")}},[h,p,c]);const{data:x=[]}=Ye({queryKey:["/api/equipment-subtypes/by-type",o],queryFn:async()=>{if(!o)return[];try{const m=await fetch(`/api/equipment-subtypes/by-type/${o}`);if(!m.ok)return[];const g=await m.text();return g.startsWith("<!DOCTYPE html>")?[]:JSON.parse(g)}catch{return[]}},enabled:!!o});return i.jsx(IN,{...c,children:i.jsxs("form",{onSubmit:c.handleSubmit(t),className:"space-y-4",children:[i.jsx(ct,{control:c.control,name:"equipmentGroup",render:({field:m})=>i.jsxs(it,{children:[i.jsx(nt,{children:"Equipment Group *"}),i.jsxs(ut,{onValueChange:m.onChange,value:m.value,children:[i.jsx(at,{children:i.jsx(ot,{children:i.jsx(dt,{placeholder:"Select equipment group"})})}),i.jsx(lt,{children:u.map(g=>i.jsx(X,{value:g.name,children:g.name},g.id))})]}),i.jsx(st,{})]})}),i.jsx(ct,{control:c.control,name:"equipmentType",render:({field:m})=>i.jsxs(it,{children:[i.jsx(nt,{children:"Equipment Type *"}),i.jsxs(ut,{onValueChange:m.onChange,value:m.value,children:[i.jsx(at,{children:i.jsx(ot,{children:i.jsx(dt,{placeholder:"Select equipment type"})})}),i.jsx(lt,{children:p.map(g=>i.jsx(X,{value:g.name,children:g.name},g.id))})]}),i.jsx(st,{})]})}),i.jsx(ct,{control:c.control,name:"subtype",render:({field:m})=>i.jsxs(it,{children:[i.jsx(nt,{children:"Equipment Subtype"}),i.jsxs(ut,{onValueChange:m.onChange,value:m.value||"",children:[i.jsx(at,{children:i.jsx(ot,{children:i.jsx(dt,{placeholder:"Select equipment subtype (optional)"})})}),i.jsx(lt,{children:x.map(g=>i.jsx(X,{value:g.name,children:g.name},g.id))})]}),i.jsx(st,{})]})}),i.jsx(ct,{control:c.control,name:"componentFailureMode",render:({field:m})=>i.jsxs(it,{children:[i.jsx(nt,{children:"Component/Failure Mode *"}),i.jsx(at,{children:i.jsx(ke,{...m,placeholder:"Enter component failure mode"})}),i.jsx(st,{})]})}),i.jsx(ct,{control:c.control,name:"equipmentCode",render:({field:m})=>i.jsxs(it,{children:[i.jsx(nt,{children:"Equipment Code *"}),i.jsx(at,{children:i.jsx(ke,{...m,placeholder:"Enter unique equipment code"})}),i.jsx(st,{})]})}),i.jsx(ct,{control:c.control,name:"failureCode",render:({field:m})=>i.jsxs(it,{children:[i.jsx(nt,{children:"Failure Code *"}),i.jsx(at,{children:i.jsx(ke,{...m,placeholder:"Enter failure code"})}),i.jsx(st,{})]})}),i.jsx(ct,{control:c.control,name:"riskRanking",render:({field:m})=>i.jsxs(it,{children:[i.jsx(nt,{children:"Risk Ranking *"}),i.jsxs(ut,{onValueChange:m.onChange,value:m.value,children:[i.jsx(at,{children:i.jsx(ot,{children:i.jsx(dt,{placeholder:"Select risk ranking"})})}),i.jsx(lt,{children:d.map(g=>i.jsx(X,{value:g.label,children:g.label},g.id))})]}),i.jsx(st,{})]})}),i.jsx(ct,{control:c.control,name:"requiredTrendDataEvidence",render:({field:m})=>i.jsxs(it,{children:[i.jsx(nt,{children:"Required Trend Data Evidence *"}),i.jsx(at,{children:i.jsx(Te,{...m,placeholder:"Describe required trend data evidence"})}),i.jsx(st,{})]})}),i.jsx(ct,{control:c.control,name:"aiOrInvestigatorQuestions",render:({field:m})=>i.jsxs(it,{children:[i.jsx(nt,{children:"AI/Investigator Questions *"}),i.jsx(at,{children:i.jsx(Te,{...m,placeholder:"Enter AI or investigator questions"})}),i.jsx(st,{})]})}),i.jsx(ct,{control:c.control,name:"attachmentsEvidenceRequired",render:({field:m})=>i.jsxs(it,{children:[i.jsx(nt,{children:"Attachments Evidence Required *"}),i.jsx(at,{children:i.jsx(Te,{...m,placeholder:"Describe required attachments/evidence"})}),i.jsx(st,{})]})}),i.jsx(ct,{control:c.control,name:"rootCauseLogic",render:({field:m})=>i.jsxs(it,{children:[i.jsx(nt,{children:"Root Cause Logic *"}),i.jsx(at,{children:i.jsx(Te,{...m,placeholder:"Enter root cause logic"})}),i.jsx(st,{})]})}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx(H,{type:"button",variant:"outline",onClick:n,children:"Cancel"}),i.jsx(H,{type:"submit",disabled:r,children:e?"Update":"Create"})]})]})})}function Ny(){const{toast:e}=Cn(),[t,n]=N.useState(""),[r,a]=N.useState(null),[s,o]=N.useState(!1),l=N.useRef(null),[c,u]=N.useState([]),[d,f]=N.useState([]),[p,h]=N.useState([]),[x,m]=N.useState([]),[g,b]=N.useState(!1),[v,y]=N.useState(null),[w,j]=N.useState("asc"),{data:S=[],isLoading:C,refetch:E}=Ye({queryKey:["/api/evidence-library",t],staleTime:0,gcTime:0,refetchOnMount:!0,queryFn:async()=>{try{console.log("[Evidence Library] Attempting multiple API endpoint fallback strategy...");const _=[t?`/api/evidence-library/search/${encodeURIComponent(t)}`:"/api/evidence-library","/api/evidence-library-raw","/api/evidence-library-full"];for(const K of _)try{console.log("[Evidence Library] Trying endpoint:",K);const Se=await fetch(K,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"}});if(!Se.ok)continue;const Ue=await Se.text();if(console.log("[Evidence Library] Response length:",Ue.length),Ue.startsWith("<!DOCTYPE html>")||Ue.startsWith("<html")){console.log("[Evidence Library] HTML detected, trying next endpoint...");continue}try{const qe=JSON.parse(Ue);if(Array.isArray(qe)&&qe.length>0)return console.log("[Evidence Library]  SUCCESS: Retrieved",qe.length,"items from",K),qe}catch{console.log("[Evidence Library] JSON parse failed for",K,"- trying next endpoint");continue}}catch{console.log("[Evidence Library] Fetch failed for",K,"- trying next endpoint");continue}return console.error("[Evidence Library] All API endpoints failed - returning empty array"),[]}catch(_){return console.error("[Evidence Library] API call failed:",_),[]}},retry:!1,refetchOnWindowFocus:!1});Ye({queryKey:["/api/equipment-types"],staleTime:5*60*1e3,queryFn:async()=>{try{const K=await(await fetch("/api/equipment-types")).text();return K.startsWith("<!DOCTYPE html>")||K.startsWith("<html")?(console.log("[Equipment Types] HTML detected - no fallback data available"),[]):JSON.parse(K)}catch{return console.log("[Equipment Types] API failed - no fallback data available"),[]}}}),Ye({queryKey:["/api/equipment-subtypes"],staleTime:5*60*1e3,queryFn:async()=>{try{const K=await(await fetch("/api/equipment-subtypes")).text();return K.startsWith("<!DOCTYPE html>")||K.startsWith("<html")?(console.log("[Equipment Subtypes] HTML detected - no fallback data available"),[]):JSON.parse(K)}catch{return console.log("[Equipment Subtypes] API failed - no fallback data available"),[]}}});const{data:k=[]}=Ye({queryKey:["/api/equipment-groups/active"],queryFn:async()=>{try{const K=await(await fetch("/api/equipment-groups/active")).text();return K.startsWith("<!DOCTYPE html>")?(console.warn("[Equipment Groups] Vite middleware interference - no fallback data available"),[]):JSON.parse(K)}catch{return console.warn("[Equipment Groups] API failed - no fallback data available"),[]}}}),{data:$=[]}=Ye({queryKey:["/api/risk-rankings/active"],queryFn:async()=>{try{const K=await(await fetch("/api/risk-rankings/active")).text();return K.startsWith("<!DOCTYPE html>")?(console.warn("[Risk Rankings] Vite middleware interference - no fallback data available"),[]):JSON.parse(K)}catch{return console.warn("[Risk Rankings] API failed - no fallback data available"),[]}}}),[O,T]=N.useState(""),[P,I]=N.useState(null),D=form.watch("equipmentGroup");N.useEffect(()=>{D!==O&&T(D||"")},[D,O]),N.useEffect(()=>{try{if(O&&Array.isArray(k)&&k.length>0){const _=k.find(K=>K.name===O);console.log("[Equipment Group Effect] Found group:",_,"for name:",O),I((_==null?void 0:_.id)||null),form!=null&&form.setValue&&(form.setValue("equipmentType",""),form.setValue("subtype",""))}else console.log("[Equipment Group Effect] Clearing - selectedEquipmentGroup:",O,"equipmentGroups:",k),I(null)}catch(_){console.error("[Equipment Group Effect] Error:",_),I(null)}},[O,k,form]);const{data:R=[]}=Ye({queryKey:["/api/equipment-types/by-group",P],queryFn:async()=>{if(!P)return[];try{const _=await fetch(`/api/equipment-types/by-group/${P}`);if(!_.ok)throw new Error(`HTTP error! status: ${_.status}`);const K=await _.text();return K.includes("<!DOCTYPE html>")?(console.warn("[Equipment Types] Vite middleware interference - using fallback"),[]):JSON.parse(K)}catch{return console.warn("[Equipment Types] API failed - using fallback"),[]}},enabled:!!P}),[V,q]=N.useState(""),[B,W]=N.useState(null),Z=form.watch("equipmentType");N.useEffect(()=>{Z!==V&&q(Z||"")},[Z,V]),N.useEffect(()=>{try{if(V&&Array.isArray(R)&&R.length>0){const _=R.find(K=>K.name===V);console.log("[Equipment Type Effect] Found type:",_,"for name:",V),W((_==null?void 0:_.id)||null),form!=null&&form.setValue&&form.setValue("subtype","")}else console.log("[Equipment Type Effect] Clearing - selectedEquipmentType:",V,"equipmentTypesEditForm:",R),W(null)}catch(_){console.error("[Equipment Type Effect] Error:",_),W(null)}},[V,R,form]);const{data:te=[]}=Ye({queryKey:["/api/equipment-subtypes/by-type",B],queryFn:async()=>{if(!B)return[];try{const _=await fetch(`/api/equipment-subtypes/by-type/${B}`);if(!_.ok)throw new Error(`HTTP error! status: ${_.status}`);const K=await _.text();return K.includes("<!DOCTYPE html>")?(console.warn("[Equipment Subtypes] Vite middleware interference - using fallback"),[]):JSON.parse(K)}catch{return console.warn("[Equipment Subtypes] API failed - using fallback"),[]}},enabled:!!B});console.log("Equipment Groups data:",k),console.log("Selected Equipment Group:",O,"ID:",P),console.log("Equipment Types for Edit Form:",R),console.log("Selected Equipment Type:",V,"ID:",B),console.log("Equipment Subtypes (Edit Form):",te),console.log("Risk Rankings data:",$);const fe=S,Ae=Array.from(new Set(fe.map(_=>_.equipmentGroup))).filter(Boolean).sort(),He=c.length>0?fe.filter(_=>c.includes(_.equipmentGroup)):fe,ze=Array.from(new Set(He.map(_=>_.equipmentType))).filter(Boolean).sort(),xe=fe.filter(_=>{const K=c.length===0||c.includes(_.equipmentGroup),Se=d.length===0||d.includes(_.equipmentType);return K&&Se}),Re=Array.from(new Set(xe.map(_=>_.subtype).filter(Boolean))).sort(),le=_=>{v===_?j(w==="asc"?"desc":"asc"):(y(_),j("asc"))},ce=fe.filter(_=>{const K=!t||Object.values(_).some(Tn=>Tn==null?void 0:Tn.toString().toLowerCase().includes(t.toLowerCase())),Se=c.length===0||c.includes(_.equipmentGroup),Ue=d.length===0||d.includes(_.equipmentType),qe=p.length===0||_.subtype&&p.includes(_.subtype);return K&&Se&&Ue&&qe}).sort((_,K)=>{if(!v)return 0;const Se=_[v],Ue=K[v],qe=Se.localeCompare(Ue);return w==="asc"?qe:-qe}),me=()=>{n(""),u([]),f([]),h([])},Y=_=>{_&&!c.includes(_)?(u([_]),f([]),h([])):_||(u([]),f([]),h([]))},Ie=_=>{_&&!d.includes(_)?(f([_]),h([])):_||(f([]),h([]))},Ne=Je({mutationFn:async _=>await gt("/api/evidence-library",{method:"POST",body:JSON.stringify(_)}),onSuccess:()=>{e({title:"Success",description:"Evidence item created successfully"}),Dt.invalidateQueries({queryKey:["/api/evidence-library"]}),o(!1),form.reset()},onError:_=>{e({title:"Error",description:_.message,variant:"destructive"})}}),Q=Je({mutationFn:async({id:_,data:K})=>{console.log(`[Evidence Update] Updating item ${_} with data:`,K),console.log(`[Evidence Update] Sending PUT request to /api/evidence-library/${_}`);const Se=await gt(`/api/evidence-library/${_}`,{method:"PUT",body:JSON.stringify(K)});return console.log("[Evidence Update] Response received:",Se),Se},onSuccess:(_,{id:K,data:Se})=>{console.log(`[Evidence Update] Success for item ${K}:`,_),Dt.invalidateQueries({queryKey:["/api/evidence-library"]}),Dt.removeQueries({queryKey:["/api/evidence-library"]}),E(),setTimeout(()=>{Dt.invalidateQueries({queryKey:["/api/evidence-library"]}),E()},200),e({title:"Success",description:`Evidence item ${K} updated successfully - Data refreshed`}),o(!1),a(null),form.reset()},onError:_=>{console.error("[Evidence Update] Error:",_),e({title:"Update Failed",description:`Failed to update evidence item: ${_.message}`,variant:"destructive"})}}),de=Je({mutationFn:async _=>{const K=await gt(`/api/evidence-library/${_}`,{method:"DELETE"});if("caches"in window){const Se=await caches.keys();await Promise.all(Se.map(Ue=>caches.delete(Ue))),console.log("[CLIENT] All browser caches cleared after permanent deletion")}return localStorage.clear(),sessionStorage.clear(),console.log("[CLIENT] Local storage cleared after permanent deletion"),K},onSuccess:(_,K)=>{console.log("[CLIENT] Permanent deletion confirmed:",_),e({title:"Permanently Deleted",description:`Evidence item ${K} permanently removed from all storage`,variant:"default"}),Dt.clear(),Dt.invalidateQueries({queryKey:["/api/evidence-library"]}),m(Se=>Se.filter(Ue=>Ue!==K))},onError:_=>{e({title:"Deletion Error",description:_.message,variant:"destructive"})}}),ye=Je({mutationFn:async _=>{const K=_.map(Se=>gt(`/api/evidence-library/${Se}`,{method:"DELETE"}));return await Promise.all(K)},onSuccess:(_,K)=>{e({title:"Success",description:`Deleted ${K.length} evidence items successfully`}),Dt.invalidateQueries({queryKey:["/api/evidence-library"]}),m([]),b(!1)},onError:_=>{e({title:"Bulk Delete Error",description:_.message,variant:"destructive"})}}),Fe=Je({mutationFn:async _=>{const K=new FormData;K.append("file",_);const Se=await fetch("/api/evidence-library/import",{method:"POST",body:K});if(!Se.ok){const Ue=await Se.json().catch(()=>({}));if(Ue.errorDetails&&Ue.errorDetails.length>0){const qe=Ue.errorDetails.slice(0,3).join("; "),Tn=Ue.errorDetails.length>3?` (and ${Ue.errorDetails.length-3} more)`:"";throw new Error(`Import failed: ${qe}${Tn}`)}if(Ue.details&&Array.isArray(Ue.details)){const qe=Ue.details.slice(0,2).join("; "),Tn=Ue.details.length>2?` (and ${Ue.details.length-2} more)`:"";throw new Error(`CSV parsing failed: ${qe}${Tn}`)}throw new Error(Ue.message||Ue.error||`Import failed with status ${Se.status}`)}return Se.json()},onSuccess:_=>{const K=_.errors>0?`Imported ${_.imported} items successfully, ${_.errors} items had errors`:`Imported ${_.imported} items successfully`;e({title:"Import Complete",description:K,variant:(_.errors>0,"default")}),Dt.invalidateQueries({queryKey:["/api/evidence-library"]}),E()},onError:_=>{console.error("[Import Error]:",_),e({title:"Import Failed",description:_.message||"Failed to import CSV file",variant:"destructive"})}}),Be=_=>{try{console.log("[Submit Form] Form data received:",_),console.log("[Submit Form] Selected item:",r),r?(console.log("[Submit Form] Updating existing item with ID:",r.id),Q.mutate({id:r.id,data:_})):(console.log("[Submit Form] Creating new item"),Ne.mutate(_))}catch(K){console.error("[Submit Form] Error in handleSubmit:",K),e({title:"Form Submission Error",description:"Failed to submit form. Please check all fields and try again.",variant:"destructive"})}},wt=_=>{try{console.log("[Edit Item] Starting edit for item:",_),a(_);const K={equipmentGroup:_.equipmentGroup||"",equipmentType:_.equipmentType||"",subtype:_.subtype||"",componentFailureMode:_.componentFailureMode||"",equipmentCode:_.equipmentCode||"",failureCode:_.failureCode||"",riskRanking:_.riskRanking||"",requiredTrendDataEvidence:_.requiredTrendDataEvidence||"",aiOrInvestigatorQuestions:_.aiOrInvestigatorQuestions||"",attachmentsEvidenceRequired:_.attachmentsEvidenceRequired||"",rootCauseLogic:_.rootCauseLogic||"",blankColumn1:_.blankColumn1||"",blankColumn2:_.blankColumn2||"",blankColumn3:_.blankColumn3||"",updatedBy:"admin"};console.log("[Edit Item] Reset data prepared:",K),form.reset(K),console.log("[Edit Item] Form reset complete, opening dialog"),o(!0)}catch(K){console.error("[Edit Item] Error in handleEdit:",K),e({title:"Edit Error",description:"Failed to open edit form. Please try again.",variant:"destructive"})}},z=_=>{confirm("Are you sure you want to delete this evidence item?")&&de.mutate(_)},A=()=>{x.length!==0&&confirm(`Are you sure you want to delete ${x.length} evidence items? This action cannot be undone.`)&&ye.mutate(x)},L=_=>{b(_),m(_?ce.map(K=>K.id):[])},M=(_,K)=>{K?m(Se=>[...Se,_]):(m(Se=>Se.filter(Ue=>Ue!==_)),b(!1))},G=()=>{const _=["Equipment Group,Equipment Type,Subtype,Component / Failure Mode,Equipment Code,Failure Code,Risk Ranking,Required Trend Data / Evidence,AI or Investigator Questions,Attachments / Evidence Required,Root Cause Logic,Primary Root Cause,Contributing Factor,Latent Cause,Detection Gap,Fault Signature Pattern,Applicable to Other Equipment,Evidence Gap Flag,Confidence Level,Diagnostic Value,Industry Relevance,Evidence Priority,Time to Collect,Collection Cost,Analysis Complexity,Seasonal Factor,Related Failure Modes,Prerequisite Evidence,Followup Actions,Industry Benchmark,Blank Column 1,Blank Column 2,Blank Column 3",...fe.map(qe=>[qe.equipmentGroup,qe.equipmentType,qe.subtype||"",qe.componentFailureMode,qe.equipmentCode,qe.failureCode,qe.riskRanking,qe.requiredTrendDataEvidence,qe.aiOrInvestigatorQuestions,qe.attachmentsEvidenceRequired,qe.rootCauseLogic,qe.primaryRootCause||"",qe.contributingFactor||"",qe.latentCause||"",qe.detectionGap||"",qe.faultSignaturePattern||"",qe.applicableToOtherEquipment||"",qe.evidenceGapFlag||"",qe.confidenceLevel||"",qe.diagnosticValue||"",qe.industryRelevance||"",qe.evidencePriority||"",qe.timeToCollect||"",qe.collectionCost||"",qe.analysisComplexity||"",qe.seasonalFactor||"",qe.relatedFailureModes||"",qe.prerequisiteEvidence||"",qe.followupActions||"",qe.industryBenchmark||"",qe.blankColumn1||"",qe.blankColumn2||"",qe.blankColumn3||""].map(Tn=>`"${String(Tn).replace(/"/g,'""')}"`).join(","))].join(`
`),K=new Blob([_],{type:"text/csv"}),Se=URL.createObjectURL(K),Ue=document.createElement("a");Ue.href=Se,Ue.download=`evidence-library-${performance.now().toString().replace(".","-")}.csv`,Ue.click(),URL.revokeObjectURL(Se)},J=_=>{var Se;const K=(Se=_.target.files)==null?void 0:Se[0];K&&K.type==="text/csv"?Fe.mutate(K):e({title:"Invalid File",description:"Please select a valid CSV file",variant:"destructive"}),l.current&&(l.current.value="")},oe=_=>{switch(_){case"High":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"Medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"Low":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}};return i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(fn,{href:"/",children:i.jsxs(H,{variant:"outline",size:"sm",className:"flex items-center space-x-2",children:[i.jsx(Oa,{className:"w-4 h-4"}),i.jsx("span",{children:"Back to Home"})]})}),i.jsx(fn,{href:"/",children:i.jsxs(H,{variant:"ghost",size:"sm",className:"flex items-center space-x-2",children:[i.jsx(Qf,{className:"w-4 h-4"}),i.jsx("span",{children:"Dashboard"})]})})]}),i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Evidence Library Management"})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Evidence Library Management"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage comprehensive RCA templates and equipment failure modes"})]}),i.jsx(ee,{className:"mb-6",children:i.jsx(re,{className:"p-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0 sm:space-x-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 flex-1",children:[i.jsxs("div",{className:"relative flex-1 max-w-md",children:[i.jsx(Pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),i.jsx(ke,{placeholder:"Search equipment types, failure modes...",value:t,onChange:_=>n(_.target.value),className:"pl-10"})]}),i.jsx(H,{variant:"outline",size:"sm",onClick:me,disabled:!t&&c.length===0&&d.length===0&&p.length===0,children:"Clear Filters"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(fn,{href:"/nlp-analysis",children:i.jsxs(H,{variant:"secondary",size:"sm",className:"flex items-center space-x-2",children:[i.jsx(on,{className:"w-4 h-4"}),i.jsx("span",{children:"NLP Analysis"})]})}),i.jsx("input",{ref:l,type:"file",accept:".csv",onChange:J,className:"hidden"}),i.jsxs(H,{variant:"outline",onClick:()=>{var _;return(_=l.current)==null?void 0:_.click()},disabled:Fe.isPending,children:[i.jsx(Po,{className:"w-4 h-4 mr-2"}),"Import CSV"]}),i.jsxs(H,{variant:"outline",onClick:G,children:[i.jsx(kr,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),x.length>0&&i.jsxs(H,{variant:"destructive",onClick:A,disabled:ye.isPending,children:[i.jsx(D0,{className:"w-4 h-4 mr-2"}),"Delete (",x.length,")"]}),i.jsx(Vl,{open:s,onOpenChange:_=>{try{console.log("[Dialog] OnOpenChange called with:",_),o(_),_||(console.log("[Dialog] Closing - clearing selected item"),a(null))}catch(K){console.error("[Dialog] Error in onOpenChange:",K)}},children:i.jsx(Sj,{asChild:!0,children:i.jsxs(H,{onClick:()=>{try{console.log("[Add Item] Button clicked - preparing to open dialog"),a(null);const _={equipmentGroup:"",equipmentType:"",subtype:"",componentFailureMode:"",equipmentCode:"",failureCode:"",riskRanking:"",requiredTrendDataEvidence:"",aiOrInvestigatorQuestions:"",attachmentsEvidenceRequired:"",rootCauseLogic:"",blankColumn1:"",blankColumn2:"",blankColumn3:"",updatedBy:"admin"};console.log("[Add Item] Resetting form with:",_),form.reset(_),console.log("[Add Item] Form reset complete - opening dialog"),setTimeout(()=>{o(!0),console.log("[Add Item] Dialog opened")},10)}catch(_){console.error("[Add Item] Critical error:",_),e({title:"Error Opening Form",description:"Failed to open add form. Please refresh the page and try again.",variant:"destructive"})}},children:[i.jsx(Un,{className:"w-4 h-4 mr-2"}),"Add Item"]})})})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsxs(ut,{value:c.length>0?c[0]:"",onValueChange:Y,children:[i.jsx(ot,{className:"w-full",children:i.jsx(dt,{placeholder:`Equipment Group (${Ae.length} available)`})}),i.jsx(lt,{children:Ae.map(_=>i.jsx(X,{value:_,children:_},_))})]})}),i.jsx("div",{className:"flex-1",children:i.jsxs(ut,{value:d.length>0?d[0]:"",onValueChange:Ie,children:[i.jsx(ot,{className:"w-full",children:i.jsx(dt,{placeholder:`Equipment Type (${ze.length} available)`})}),i.jsx(lt,{children:ze.map(_=>i.jsx(X,{value:_,children:_},_))})]})}),i.jsx("div",{className:"flex-1",children:i.jsxs(ut,{value:p.length>0?p[0]:"",onValueChange:_=>{_&&!p.includes(_)?h([_]):_||h([])},children:[i.jsx(ot,{className:"w-full",children:i.jsx(dt,{placeholder:`Subtype (${Re.length} available)`})}),i.jsx(lt,{children:Re.map(_=>i.jsx(X,{value:_||"",children:_},_))})]})})]}),(c.length>0||d.length>0||p.length>0)&&i.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.map(_=>i.jsxs(ne,{variant:"secondary",className:"flex items-center gap-1",children:["Equipment Group: ",_,i.jsx("button",{onClick:()=>u(K=>K.filter(Se=>Se!==_)),className:"ml-1 hover:bg-gray-200 rounded-full w-4 h-4 flex items-center justify-center text-xs",children:""})]},_)),d.map(_=>i.jsxs(ne,{variant:"secondary",className:"flex items-center gap-1",children:["Equipment Type: ",_,i.jsx("button",{onClick:()=>f(K=>K.filter(Se=>Se!==_)),className:"ml-1 hover:bg-gray-200 rounded-full w-4 h-4 flex items-center justify-center text-xs",children:""})]},_)),p.map(_=>i.jsxs(ne,{variant:"secondary",className:"flex items-center gap-1",children:["Subtype: ",_,i.jsx("button",{onClick:()=>h(K=>K.filter(Se=>Se!==_)),className:"ml-1 hover:bg-gray-200 rounded-full w-4 h-4 flex items-center justify-center text-xs",children:""})]},_))]})]})})}),i.jsx(Vl,{open:s,onOpenChange:_=>{console.log("[Dialog] OnOpenChange called with:",_),o(_),_||(console.log("[Dialog] Closing - clearing selected item"),a(null))},children:i.jsxs(Hl,{className:"max-w-4xl max-h-[95vh] overflow-y-auto",children:[i.jsx(Wl,{children:i.jsx(Gl,{className:"text-xl font-bold text-center",children:r?"Edit Evidence Item":"Add Evidence Item"})}),i.jsx(A0e,{initialData:r,onSubmit:Be,onCancel:()=>{o(!1),a(null)},isSubmitting:Ne.isPending||Q.isPending})]})}),i.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-green-50 dark:from-blue-900/20 dark:to-green-900/20 p-4 rounded-lg mb-4 border-2 border-blue-400 shadow-md sticky top-0 z-10",children:[i.jsx("h3",{className:"text-lg font-bold mb-3 text-blue-800 dark:text-blue-300",children:" FIELD IMPORTANCE GUIDE - PLEASE READ"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm mb-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"Field Priority Levels:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"bg-red-100 text-red-700 px-3 py-1 rounded-full text-xs font-bold",children:" Critical"}),i.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Essential for accurate analysis"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"bg-orange-100 text-orange-700 px-3 py-1 rounded-full text-xs font-bold",children:" Important"}),i.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Significantly impacts results"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs font-bold",children:" System"}),i.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"System-level considerations"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-200",children:"Database Operations:"}),i.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 p-3 rounded border-l-4 border-red-400",children:[i.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 font-semibold",children:" Equipment Code = UNIQUE KEY"}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Only field used for CSV updates. All others can have duplicates."})]})]})]}),i.jsxs("div",{className:"bg-red-100 dark:bg-red-900/20 p-3 rounded border-2 border-red-400 dark:border-red-600",children:[i.jsx("p",{className:"text-sm text-red-800 dark:text-red-200 font-bold text-center",children:" IMPORTANT: Every field below has detailed explanations with colored badges and purpose descriptions "}),i.jsx("p",{className:"text-xs text-red-600 dark:text-red-300 text-center mt-1",children:"Look for explanation boxes under each field"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(FormField,{control:form.control,name:"equipmentGroup",render:({field:_})=>i.jsxs(FormItem,{children:[i.jsx(FormLabel,{children:"Equipment Group"}),i.jsx(FormControl,{children:i.jsxs(ut,{onValueChange:_.onChange,value:_.value,children:[i.jsx(ot,{children:i.jsx(dt,{placeholder:"Select Equipment Group"})}),i.jsx(lt,{children:Array.isArray(k)&&k.length>0?k.map(K=>i.jsx(X,{value:K.name||K,children:K.name||K},K.id||K)):i.jsx(X,{value:"",disabled:!0,children:"No equipment groups available - Please add equipment groups in Admin Settings"})})]})}),i.jsx(FormMessage,{})]})}),i.jsx(FormField,{control:form.control,name:"equipmentType",render:({field:_})=>i.jsxs(FormItem,{children:[i.jsx(FormLabel,{children:"Equipment Type"}),i.jsx(FormControl,{children:i.jsxs(ut,{onValueChange:_.onChange,value:_.value,disabled:!P,children:[i.jsx(ot,{children:i.jsx(dt,{placeholder:P?Array.isArray(R)&&R.length>0?"Select Equipment Type":"No equipment types available for this group":"First select Equipment Group above"})}),i.jsx(lt,{children:P?Array.isArray(R)&&R.length>0?R.map(K=>i.jsx(X,{value:K.name||K,children:K.name||K},K.id||K)):i.jsx(X,{value:"",disabled:!0,children:"No equipment types available for this group - Please add equipment types in Admin Settings"}):i.jsx(X,{value:"",disabled:!0,children:"Please select Equipment Group first"})})]})}),i.jsx(FormMessage,{})]})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(FormField,{control:form.control,name:"subtype",render:({field:_})=>i.jsxs(FormItem,{children:[i.jsx(FormLabel,{children:"Equipment Subtype"}),i.jsx(FormControl,{children:i.jsxs(ut,{onValueChange:_.onChange,value:_.value,disabled:!B,children:[i.jsx(ot,{children:i.jsx(dt,{placeholder:B?Array.isArray(te)&&te.length>0?"Select Equipment Subtype":"No equipment subtypes available for this type":"First select Equipment Type above"})}),i.jsx(lt,{children:B?Array.isArray(te)&&te.length>0?te.map(K=>i.jsx(X,{value:K.name||K,children:K.name||K},K.id||K)):i.jsx(X,{value:"",disabled:!0,children:"No equipment subtypes available for this type - Please add equipment subtypes in Admin Settings"}):i.jsx(X,{value:"",disabled:!0,children:"Please select Equipment Type first"})})]})}),i.jsx(FormMessage,{})]})}),i.jsx(FormField,{control:form.control,name:"componentFailureMode",render:({field:_})=>i.jsxs(FormItem,{children:[i.jsx(FormLabel,{children:"Failure Mode"}),i.jsx(FormControl,{children:i.jsx(ke,{..._,placeholder:"e.g., Seal Leak, Bearing Failure"})}),i.jsx(FormMessage,{})]})})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsx(FormField,{control:form.control,name:"equipmentCode",render:({field:_})=>i.jsxs(FormItem,{children:[i.jsxs(FormLabel,{className:"flex items-center",children:["Equipment Code",i.jsx("span",{className:"ml-1 text-red-500 font-bold",children:"*UNIQUE*"}),i.jsx("span",{className:"ml-2 text-xs text-gray-500",title:"Unique identifier for equipment - used for updates and imports",children:""})]}),i.jsx(FormControl,{children:i.jsx(ke,{..._,placeholder:"e.g., PMP-CEN-001 (Must be unique - used for updates)"})}),i.jsx(FormMessage,{}),i.jsxs("div",{className:"text-xs text-red-700 bg-red-50 p-3 rounded border-l-4 border-red-400 mt-2",children:[i.jsx("strong",{children:" CRITICAL IMPORTANCE:"})," This is the ONLY unique field in the database. All CSV imports and updates use Equipment Code as the primary key. All other fields can have duplicates across records."]})]})}),i.jsx(FormField,{control:form.control,name:"failureCode",render:({field:_})=>i.jsxs(FormItem,{children:[i.jsx(FormLabel,{children:"Failure Code"}),i.jsx(FormControl,{children:i.jsx(ke,{..._,placeholder:"e.g., F-001"})}),i.jsx(FormMessage,{})]})}),i.jsx(FormField,{control:form.control,name:"riskRanking",render:({field:_})=>i.jsxs(FormItem,{children:[i.jsx(FormLabel,{children:"Risk Ranking"}),i.jsx(FormControl,{children:i.jsxs(ut,{onValueChange:_.onChange,value:_.value,children:[i.jsx(ot,{children:i.jsx(dt,{})}),i.jsx(lt,{children:Array.isArray($)&&$.length>0?$.map(K=>i.jsx(X,{value:K.label||K,children:K.label||K},K.id||K)):["Critical","High","Medium","Low"].map(K=>i.jsx(X,{value:K,children:K},K))})]})}),i.jsx(FormMessage,{})]})})]}),i.jsx(FormField,{control:form.control,name:"requiredTrendDataEvidence",render:({field:_})=>i.jsxs(FormItem,{children:[i.jsx(FormLabel,{children:"Required Trend Data / Evidence"}),i.jsx(FormControl,{children:i.jsx(Te,{..._,placeholder:"e.g., Vibration, Seal Pot Level, Leak Temp, DCS log",rows:2})}),i.jsx(FormMessage,{})]})}),i.jsx(FormField,{control:form.control,name:"aiOrInvestigatorQuestions",render:({field:_})=>i.jsxs(FormItem,{children:[i.jsx(FormLabel,{children:"AI or Investigator Questions"}),i.jsx(FormControl,{children:i.jsx(Te,{..._,placeholder:"e.g., When did leak start? Temp/vibration spike? Recent seal work?",rows:2})}),i.jsx(FormMessage,{})]})}),i.jsx(FormField,{control:form.control,name:"attachmentsEvidenceRequired",render:({field:_})=>i.jsxs(FormItem,{children:[i.jsx(FormLabel,{children:"Attachments / Evidence Required"}),i.jsx(FormControl,{children:i.jsx(Te,{..._,placeholder:"e.g., Vibration plot, leak photo, maintenance records",rows:2})}),i.jsx(FormMessage,{})]})}),i.jsx(FormField,{control:form.control,name:"rootCauseLogic",render:({field:_})=>i.jsxs(FormItem,{children:[i.jsx(FormLabel,{children:"Root Cause Logic"}),i.jsx(FormControl,{children:i.jsx(Te,{..._,placeholder:"e.g., Root: Seal aged/damaged. Contributing: Lubrication, misalignment.",rows:3})}),i.jsx(FormMessage,{})]})}),i.jsxs("div",{className:"border-t pt-6 mt-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 text-blue-700 dark:text-blue-400",children:" Configurable Intelligence Fields"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Admin-configurable fields that drive AI analysis behavior. Configure how the system analyzes this failure mode."}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[i.jsx(FormField,{control:form.control,name:"confidenceLevel",render:({field:_})=>i.jsxs(FormItem,{children:[i.jsxs(FormLabel,{className:"flex items-center gap-2",children:["Confidence Level",i.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",title:"Expected analysis confidence when this evidence is collected",children:" Intelligence"})]}),i.jsx(FormControl,{children:i.jsxs(ut,{onValueChange:_.onChange,value:_.value,children:[i.jsx(ot,{children:i.jsx(dt,{placeholder:"Select confidence"})}),i.jsxs(lt,{children:[i.jsx(X,{value:"High",children:"High (90%+ confidence)"}),i.jsx(X,{value:"Medium",children:"Medium (70-89% confidence)"}),i.jsx(X,{value:"Low",children:"Low (50-69% confidence)"})]})]})}),i.jsx(FormMessage,{})]})}),i.jsx(FormField,{control:form.control,name:"diagnosticValue",render:({field:_})=>i.jsxs(FormItem,{children:[i.jsxs(FormLabel,{className:"flex items-center gap-2",children:["Diagnostic Value",i.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full",title:"How critical this evidence is for accurate diagnosis",children:" Priority"})]}),i.jsx(FormControl,{children:i.jsxs(ut,{onValueChange:_.onChange,value:_.value,children:[i.jsx(ot,{children:i.jsx(dt,{placeholder:"Select value"})}),i.jsxs(lt,{children:[i.jsx(X,{value:"Critical",children:"Critical (Must collect)"}),i.jsx(X,{value:"Important",children:"Important (Should collect)"}),i.jsx(X,{value:"Useful",children:"Useful (Could collect)"}),i.jsx(X,{value:"Optional",children:"Optional (If available)"})]})]})}),i.jsx(FormMessage,{})]})}),i.jsx(FormField,{control:form.control,name:"industryRelevance",render:({field:_})=>i.jsxs(FormItem,{children:[i.jsxs(FormLabel,{className:"flex items-center",children:["Industry Relevance",i.jsx("span",{className:"ml-2 text-xs text-gray-500",title:"Which industries this failure mode applies to",children:""})]}),i.jsx(FormControl,{children:i.jsxs(ut,{onValueChange:_.onChange,value:_.value,children:[i.jsx(ot,{children:i.jsx(dt,{placeholder:"Select industry"})}),i.jsxs(lt,{children:[i.jsx(X,{value:"All",children:"All Industries"}),i.jsx(X,{value:"Petrochemical",children:"Petrochemical"}),i.jsx(X,{value:"Power",children:"Power Generation"}),i.jsx(X,{value:"Manufacturing",children:"Manufacturing"}),i.jsx(X,{value:"Mining",children:"Mining"}),i.jsx(X,{value:"Marine",children:"Marine"})]})]})}),i.jsx(FormMessage,{})]})})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[i.jsx(FormField,{control:form.control,name:"evidencePriority",render:({field:_})=>i.jsxs(FormItem,{children:[i.jsxs(FormLabel,{className:"flex items-center",children:["Evidence Priority",i.jsx("span",{className:"ml-2 text-xs text-gray-500",title:"Collection priority order (1=highest, 4=lowest)",children:""})]}),i.jsx(FormControl,{children:i.jsx(ke,{..._,placeholder:"e.g., 1-2 days, Critical, High priority"})}),i.jsx(FormMessage,{})]})}),i.jsx(FormField,{control:form.control,name:"timeToCollect",render:({field:_})=>i.jsxs(FormItem,{children:[i.jsxs(FormLabel,{className:"flex items-center",children:["Time to Collect",i.jsx("span",{className:"ml-2 text-xs text-gray-500",title:"Expected time required to collect this evidence",children:""})]}),i.jsx(FormControl,{children:i.jsxs(ut,{onValueChange:_.onChange,value:_.value,children:[i.jsx(ot,{children:i.jsx(dt,{placeholder:"Time"})}),i.jsxs(lt,{children:[i.jsx(X,{value:"Immediate",children:"Immediate"}),i.jsx(X,{value:"Hours",children:"Few Hours"}),i.jsx(X,{value:"Days",children:"Few Days"}),i.jsx(X,{value:"Weeks",children:"Few Weeks"})]})]})}),i.jsx(FormMessage,{})]})}),i.jsx(FormField,{control:form.control,name:"collectionCost",render:({field:_})=>i.jsxs(FormItem,{children:[i.jsxs(FormLabel,{className:"flex items-center",children:["Collection Cost",i.jsx("span",{className:"ml-2 text-xs text-gray-500",title:"Expected cost to collect this evidence",children:""})]}),i.jsx(FormControl,{children:i.jsxs(ut,{onValueChange:_.onChange,value:_.value,children:[i.jsx(ot,{children:i.jsx(dt,{placeholder:"Cost"})}),i.jsxs(lt,{children:[i.jsx(X,{value:"Low",children:"Low ($0-1K)"}),i.jsx(X,{value:"Medium",children:"Medium ($1K-10K)"}),i.jsx(X,{value:"High",children:"High ($10K-50K)"}),i.jsx(X,{value:"Very High",children:"Very High ($50K+)"})]})]})}),i.jsx(FormMessage,{})]})}),i.jsx(FormField,{control:form.control,name:"analysisComplexity",render:({field:_})=>i.jsxs(FormItem,{children:[i.jsx(FormLabel,{children:"Analysis Complexity"}),i.jsx(FormControl,{children:i.jsxs(ut,{onValueChange:_.onChange,value:_.value,children:[i.jsx(ot,{children:i.jsx(dt,{placeholder:"Complexity"})}),i.jsxs(lt,{children:[i.jsx(X,{value:"Simple",children:"Simple"}),i.jsx(X,{value:"Moderate",children:"Moderate"}),i.jsx(X,{value:"Complex",children:"Complex"}),i.jsx(X,{value:"Expert Required",children:"Expert Required"})]})]})}),i.jsx(FormMessage,{})]})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[i.jsx(FormField,{control:form.control,name:"seasonalFactor",render:({field:_})=>i.jsxs(FormItem,{children:[i.jsx(FormLabel,{children:"Seasonal Factor"}),i.jsx(FormControl,{children:i.jsxs(ut,{onValueChange:_.onChange,value:_.value,children:[i.jsx(ot,{children:i.jsx(dt,{placeholder:"Seasonal pattern"})}),i.jsxs(lt,{children:[i.jsx(X,{value:"None",children:"No Seasonal Pattern"}),i.jsx(X,{value:"Summer",children:"Summer Related"}),i.jsx(X,{value:"Winter",children:"Winter Related"}),i.jsx(X,{value:"Shutdown",children:"Shutdown Period"}),i.jsx(X,{value:"Startup",children:"Startup Period"})]})]})}),i.jsx(FormMessage,{})]})}),i.jsx(FormField,{control:form.control,name:"relatedFailureModes",render:({field:_})=>i.jsxs(FormItem,{children:[i.jsx(FormLabel,{children:"Related Failure Modes"}),i.jsx(FormControl,{children:i.jsx(ke,{..._,placeholder:"e.g., BRG-001, SEAL-002, VIB-003"})}),i.jsx(FormMessage,{})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-4",children:[i.jsx(FormField,{control:form.control,name:"prerequisiteEvidence",render:({field:_})=>i.jsxs(FormItem,{children:[i.jsx(FormLabel,{children:"Prerequisite Evidence"}),i.jsx(FormControl,{children:i.jsx(Te,{..._,placeholder:"Evidence required before collecting this evidence (e.g., 'Collect vibration data before oil analysis')",rows:2})}),i.jsx(FormMessage,{})]})}),i.jsx(FormField,{control:form.control,name:"followupActions",render:({field:_})=>i.jsxs(FormItem,{children:[i.jsx(FormLabel,{children:"Follow-up Actions"}),i.jsx(FormControl,{children:i.jsx(Te,{..._,placeholder:"What to do after collecting this evidence (e.g., 'Send oil sample to lab for ferrography analysis')",rows:2})}),i.jsx(FormMessage,{})]})}),i.jsx(FormField,{control:form.control,name:"industryBenchmark",render:({field:_})=>i.jsxs(FormItem,{children:[i.jsx(FormLabel,{children:"Industry Benchmark / Standards"}),i.jsx(FormControl,{children:i.jsx(Te,{..._,placeholder:"Industry standards or benchmarks (e.g., 'ISO 10816 vibration limits, API 682 seal standards')",rows:2})}),i.jsx(FormMessage,{})]})})]})]}),i.jsxs("div",{className:"border-t pt-6 mt-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 text-green-700 dark:text-green-400",children:" Enriched Evidence Library Fields"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Advanced RCA analysis fields for comprehensive failure mode understanding and cross-equipment applicability."}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[i.jsx(FormField,{control:form.control,name:"primaryRootCause",render:({field:_})=>i.jsxs(FormItem,{children:[i.jsxs(FormLabel,{className:"flex items-center gap-2",children:["Primary Root Cause",i.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full",title:"The primary engineering cause that leads to this failure mode",children:" Critical"})]}),i.jsx(FormControl,{children:i.jsx(Te,{..._,placeholder:"Primary engineering root cause for this failure mode (e.g., 'Material degradation due to corrosive environment')",rows:2,className:"border-2 border-red-200 focus:border-red-400"})}),i.jsx(FormMessage,{}),i.jsxs("div",{className:"text-xs text-red-600 bg-red-50 p-2 rounded mt-1",children:[i.jsx("strong",{children:" PURPOSE:"})," This field identifies the primary engineering cause that directly leads to this failure mode. Essential for accurate root cause analysis."]})]})}),i.jsx(FormField,{control:form.control,name:"contributingFactor",render:({field:_})=>i.jsxs(FormItem,{children:[i.jsxs(FormLabel,{className:"flex items-center gap-2",children:["Contributing Factor",i.jsx("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full",title:"Secondary factors that increase likelihood of the primary root cause",children:" Important"})]}),i.jsx(FormControl,{children:i.jsx(Te,{..._,placeholder:"Key contributing factors (e.g., 'High operating temperature, inadequate maintenance intervals')",rows:2,className:"border-2 border-orange-200 focus:border-orange-400"})}),i.jsx(FormMessage,{}),i.jsxs("div",{className:"text-xs text-orange-600 bg-orange-50 p-2 rounded mt-1",children:[i.jsx("strong",{children:" PURPOSE:"})," Secondary factors that work together with the primary root cause to enable this failure mode."]})]})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[i.jsx(FormField,{control:form.control,name:"latentCause",render:({field:_})=>i.jsxs(FormItem,{children:[i.jsxs(FormLabel,{className:"flex items-center gap-2",children:["Latent Cause",i.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full",title:"Underlying system/design issues that enable failures",children:" System"})]}),i.jsx(FormControl,{children:i.jsx(Te,{..._,placeholder:"Underlying latent causes (e.g., 'Design limitations, inadequate material selection')",rows:2,className:"border-2 border-blue-200 focus:border-blue-400"})}),i.jsx(FormMessage,{}),i.jsxs("div",{className:"text-xs text-blue-600 bg-blue-50 p-2 rounded mt-1",children:[i.jsx("strong",{children:" PURPOSE:"})," Underlying system, design, or organizational issues that create conditions for failure."]})]})}),i.jsx(FormField,{control:form.control,name:"detectionGap",render:({field:_})=>i.jsxs(FormItem,{children:[i.jsxs(FormLabel,{className:"flex items-center gap-2",children:["Detection Gap",i.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded-full",title:"Monitoring and detection limitations",children:" Detection"})]}),i.jsx(FormControl,{children:i.jsx(Te,{..._,placeholder:"Early detection opportunities missed (e.g., 'Vibration monitoring not implemented, temperature trend ignored')",rows:2,className:"border-2 border-yellow-200 focus:border-yellow-400"})}),i.jsx(FormMessage,{}),i.jsxs("div",{className:"text-xs text-yellow-600 bg-yellow-50 p-2 rounded mt-1",children:[i.jsx("strong",{children:" PURPOSE:"})," Identifies monitoring and detection gaps that prevent early warning of this failure mode."]})]})})]}),i.jsx("div",{className:"grid grid-cols-1 gap-4 mb-4",children:i.jsx(FormField,{control:form.control,name:"faultSignaturePattern",render:({field:_})=>i.jsxs(FormItem,{children:[i.jsx(FormLabel,{children:"Fault Signature Pattern"}),i.jsx(FormControl,{children:i.jsx(Te,{..._,placeholder:"Characteristic patterns and symptoms (e.g., 'Gradual vibration increase over 6 months, sudden temperature spike at failure')",rows:2})}),i.jsx(FormMessage,{})]})})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[i.jsx(FormField,{control:form.control,name:"applicableToOtherEquipment",render:({field:_})=>i.jsxs(FormItem,{children:[i.jsx(FormLabel,{children:"Applicable to Other Equipment"}),i.jsx(FormControl,{children:i.jsx(Te,{..._,placeholder:"Cross-equipment applicability (e.g., 'Similar failure modes in compressors, fans, agitators')",rows:2})}),i.jsx(FormMessage,{})]})}),i.jsx(FormField,{control:form.control,name:"evidenceGapFlag",render:({field:_})=>i.jsxs(FormItem,{children:[i.jsx(FormLabel,{children:"Evidence Gap Flag"}),i.jsx(FormControl,{children:i.jsx(Te,{..._,placeholder:"Common evidence collection gaps (e.g., 'Historical maintenance records often incomplete')",rows:2})}),i.jsx(FormMessage,{})]})})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsx(FormField,{control:form.control,name:"blankColumn1",render:({field:_})=>i.jsxs(FormItem,{children:[i.jsx(FormLabel,{children:"Blank Column 1"}),i.jsx(FormControl,{children:i.jsx(ke,{..._,placeholder:"Optional field"})}),i.jsx(FormMessage,{})]})}),i.jsx(FormField,{control:form.control,name:"blankColumn2",render:({field:_})=>i.jsxs(FormItem,{children:[i.jsx(FormLabel,{children:"Blank Column 2"}),i.jsx(FormControl,{children:i.jsx(ke,{..._,placeholder:"Optional field"})}),i.jsx(FormMessage,{})]})}),i.jsx(FormField,{control:form.control,name:"blankColumn3",render:({field:_})=>i.jsxs(FormItem,{children:[i.jsx(FormLabel,{children:"Blank Column 3"}),i.jsx(FormControl,{children:i.jsx(ke,{..._,placeholder:"Optional field"})}),i.jsx(FormMessage,{})]})})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx(H,{type:"button",variant:"outline",onClick:()=>{o(!1),a(null),form.reset()},children:"Cancel"}),i.jsx(H,{type:"submit",disabled:Ne.isPending||Q.isPending,children:r?"Update":"Create"}),i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center",children:[i.jsx(Yt,{className:"w-5 h-5 mr-2 text-green-600"}),"Evidence Library (",Array.isArray(ce)?ce.length:0," of ",Array.isArray(S)?S.length:0," items)"]})}),i.jsx(re,{children:C?i.jsx("div",{className:"text-center py-8",children:"Loading evidence library..."}):!Array.isArray(ce)||ce.length===0?i.jsx("div",{className:"text-center py-8 text-gray-500",children:t||c.length>0||d.length>0||p.length>0?"No evidence items match your current filters. Try adjusting your search or filters.":"No evidence items found. Add some items to get started."}):i.jsxs("div",{children:[i.jsx("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-2 rounded mb-2 text-sm",children:" SCROLL BAR TEST: Look for a bright RED horizontal scroll bar at the bottom of the table below"}),i.jsxs("div",{className:"border rounded-lg table-container-with-scroll",style:{overflowX:"scroll",overflowY:"visible",width:"100%"},children:[i.jsx("style",{children:`
                  .table-container-with-scroll {
                    overflow-x: scroll !important;
                    scrollbar-width: thick !important;
                    scrollbar-color: #DC2626 #FEF2F2 !important;
                  }
                  
                  .table-container-with-scroll::-webkit-scrollbar {
                    height: 20px !important;
                    background: #FEF2F2 !important;
                    border-radius: 0 !important;
                  }
                  
                  .table-container-with-scroll::-webkit-scrollbar-track {
                    background: #FEE2E2 !important;
                    border-radius: 0 !important;
                  }
                  
                  .table-container-with-scroll::-webkit-scrollbar-thumb {
                    background: #DC2626 !important;
                    border-radius: 0 !important;
                    border: none !important;
                    min-width: 50px !important;
                  }
                  
                  .table-container-with-scroll::-webkit-scrollbar-thumb:hover {
                    background: #B91C1C !important;
                  }
                  
                  .force-wide-table {
                    min-width: 4000px !important;
                    width: 4000px !important;
                  }
                  `}),i.jsxs(Di,{className:"force-wide-table",children:[i.jsx(Fi,{children:i.jsxs(ln,{children:[i.jsx(we,{className:"sticky left-0 bg-white dark:bg-gray-800 border-r z-10 w-12",children:i.jsx("input",{type:"checkbox",checked:g&&ce.length>0,onChange:_=>L(_.target.checked),className:"rounded"})}),i.jsx(we,{className:"w-32 min-w-[8rem]",children:i.jsxs(H,{variant:"ghost",className:"h-auto p-0 font-medium hover:bg-transparent",onClick:()=>le("equipmentGroup"),children:["Equipment Group",v==="equipmentGroup"&&(w==="asc"?i.jsx(R0,{className:"ml-1 w-4 h-4"}):i.jsx(Gm,{className:"ml-1 w-4 h-4"}))]})}),i.jsx(we,{className:"w-32 min-w-[8rem]",children:i.jsxs(H,{variant:"ghost",className:"h-auto p-0 font-medium hover:bg-transparent",onClick:()=>le("equipmentType"),children:["Equipment Type",v==="equipmentType"&&(w==="asc"?i.jsx(R0,{className:"ml-1 w-4 h-4"}):i.jsx(Gm,{className:"ml-1 w-4 h-4"}))]})}),i.jsx(we,{className:"w-28 min-w-[7rem]",children:"Subtype"}),i.jsx(we,{className:"w-40 min-w-[10rem]",children:"Component / Failure Mode"}),i.jsx(we,{className:"w-32 min-w-[8rem]",children:"Equipment Code"}),i.jsx(we,{className:"w-24 min-w-[6rem]",children:"Failure Code"}),i.jsx(we,{className:"w-24 min-w-[6rem]",children:"Risk Ranking"}),i.jsx(we,{className:"w-48 min-w-[12rem]",children:"Required Trend Data / Evidence"}),i.jsx(we,{className:"w-48 min-w-[12rem]",children:"AI or Investigator Questions"}),i.jsx(we,{className:"w-48 min-w-[12rem]",children:"Attachments / Evidence Required"}),i.jsx(we,{className:"w-48 min-w-[12rem]",children:"Root Cause Logic"}),i.jsx(we,{className:"w-32 min-w-[8rem]",children:"Primary Root Cause"}),i.jsx(we,{className:"w-32 min-w-[8rem]",children:"Contributing Factor"}),i.jsx(we,{className:"w-32 min-w-[8rem]",children:"Latent Cause"}),i.jsx(we,{className:"w-32 min-w-[8rem]",children:"Detection Gap"}),i.jsx(we,{className:"w-32 min-w-[8rem]",children:"Fault Signature Pattern"}),i.jsx(we,{className:"w-32 min-w-[8rem]",children:"Applicable to Other Equipment"}),i.jsx(we,{className:"w-32 min-w-[8rem]",children:"Evidence Gap Flag"}),i.jsx(we,{className:"w-24 min-w-[6rem]",children:"Confidence Level"}),i.jsx(we,{className:"w-24 min-w-[6rem]",children:"Diagnostic Value"}),i.jsx(we,{className:"w-24 min-w-[6rem]",children:"Industry Relevance"}),i.jsx(we,{className:"w-24 min-w-[6rem]",children:"Evidence Priority"}),i.jsx(we,{className:"w-24 min-w-[6rem]",children:"Time to Collect"}),i.jsx(we,{className:"w-24 min-w-[6rem]",children:"Collection Cost"}),i.jsx(we,{className:"w-24 min-w-[6rem]",children:"Analysis Complexity"}),i.jsx(we,{className:"sticky right-0 bg-white dark:bg-gray-800 border-l z-10 w-24",children:"Actions"})]})}),i.jsx(Li,{children:(Array.isArray(ce)?ce:[]).map(_=>i.jsxs(ln,{children:[i.jsx(je,{className:"sticky left-0 bg-white dark:bg-gray-800 border-r z-10",children:i.jsx("input",{type:"checkbox",checked:x.includes(_.id),onChange:K=>M(_.id,K.target.checked),className:"rounded"})}),i.jsx(je,{className:"truncate",children:_.equipmentGroup}),i.jsx(je,{className:"truncate",children:_.equipmentType}),i.jsx(je,{className:"truncate",children:_.subtype||"-"}),i.jsx(je,{className:"truncate",children:_.componentFailureMode}),i.jsx(je,{className:"truncate",children:_.equipmentCode}),i.jsx(je,{className:"truncate",children:_.failureCode}),i.jsx(je,{children:i.jsx(ne,{className:oe(_.riskRanking),children:_.riskRanking})}),i.jsx(je,{children:i.jsx("div",{className:"truncate",title:_.requiredTrendDataEvidence||"",children:_.requiredTrendDataEvidence||"-"})}),i.jsx(je,{children:i.jsx("div",{className:"truncate",title:_.aiOrInvestigatorQuestions||"",children:_.aiOrInvestigatorQuestions||"-"})}),i.jsx(je,{children:i.jsx("div",{className:"truncate",title:_.attachmentsEvidenceRequired||"",children:_.attachmentsEvidenceRequired||"-"})}),i.jsx(je,{children:i.jsx("div",{className:"truncate",title:_.rootCauseLogic||"",children:_.rootCauseLogic||"-"})}),i.jsx(je,{children:i.jsx("div",{className:"truncate",title:_.primaryRootCause||"",children:_.primaryRootCause||"-"})}),i.jsx(je,{children:i.jsx("div",{className:"truncate",title:_.contributingFactor||"",children:_.contributingFactor||"-"})}),i.jsx(je,{children:i.jsx("div",{className:"truncate",title:_.latentCause||"",children:_.latentCause||"-"})}),i.jsx(je,{children:i.jsx("div",{className:"truncate",title:_.detectionGap||"",children:_.detectionGap||"-"})}),i.jsx(je,{children:i.jsx("div",{className:"truncate",title:_.faultSignaturePattern||"",children:_.faultSignaturePattern||"-"})}),i.jsx(je,{children:i.jsx("div",{className:"truncate",title:_.applicableToOtherEquipment||"",children:_.applicableToOtherEquipment||"-"})}),i.jsx(je,{children:i.jsx("div",{className:"truncate",title:_.evidenceGapFlag||"",children:_.evidenceGapFlag||"-"})}),i.jsx(je,{children:i.jsx(ne,{variant:_.confidenceLevel==="High"?"default":_.confidenceLevel==="Medium"?"secondary":"outline",children:_.confidenceLevel||"Medium"})}),i.jsx(je,{children:i.jsx(ne,{variant:_.diagnosticValue==="Critical"?"destructive":_.diagnosticValue==="Important"?"default":"secondary",children:_.diagnosticValue||"Important"})}),i.jsx(je,{children:i.jsx("div",{className:"truncate",children:_.industryRelevance||"All"})}),i.jsx(je,{children:i.jsx(ne,{variant:"outline",children:_.evidencePriority?`P${_.evidencePriority}`:"P3"})}),i.jsx(je,{children:i.jsx("div",{className:"truncate",children:_.timeToCollect||"Days"})}),i.jsx(je,{children:i.jsx(ne,{variant:_.collectionCost==="High"||_.collectionCost==="Very High"?"destructive":"secondary",children:_.collectionCost||"Medium"})}),i.jsx(je,{children:i.jsx("div",{className:"truncate",children:_.analysisComplexity||"Moderate"})}),i.jsx(je,{className:"sticky right-0 bg-white dark:bg-gray-800 border-l z-10",children:i.jsxs("div",{className:"flex space-x-1",children:[i.jsx(H,{variant:"ghost",size:"sm",onClick:()=>wt(_),title:"Edit",children:i.jsx(qv,{className:"w-4 h-4"})}),i.jsx(H,{variant:"ghost",size:"sm",onClick:()=>z(_.id),title:"Delete",children:i.jsx(D0,{className:"w-4 h-4"})})]})})]},_.id))})]})]})]})})]})]})]})})}const k0e=Ge.object({title:Ge.string().min(3,"Title must be at least 3 characters"),description:Ge.string().min(10,"Description must be at least 10 characters"),equipmentGroup:Ge.string().min(1,"Equipment group is required"),equipmentType:Ge.string().min(1,"Equipment type is required"),equipmentSubtype:Ge.string().min(1,"Equipment subtype is required"),equipmentId:Ge.string().min(1,"Equipment ID is required"),location:Ge.string().min(1,"Location is required"),reportedBy:Ge.string().min(1,"Reporter name is required"),incidentDateTime:Ge.string().min(1,"Incident date/time is required"),priority:Ge.enum(["Low","Medium","High","Critical"]),immediateActions:Ge.string().optional(),safetyImplications:Ge.string().optional(),operatingParameters:Ge.string().optional(),issueFrequency:Ge.enum(["First","Recurring","Unknown"]).optional(),issueSeverity:Ge.enum(["Low","Medium","High","Critical"]).optional(),initialContextualFactors:Ge.string().optional(),sequenceOfEvents:Ge.string().optional(),sequenceOfEventsFiles:Ge.array(Ge.string()).optional(),reportableStatus:Ge.enum(["not_reportable","reported","not_yet_reported"]),regulatoryAuthorityName:Ge.string().optional(),dateReported:Ge.string().optional(),reportReferenceId:Ge.string().optional(),complianceImpactSummary:Ge.string().optional(),plannedDateOfReporting:Ge.string().optional(),delayReason:Ge.string().optional(),intendedRegulatoryAuthority:Ge.string().optional(),timelineData:Ge.record(Ge.string()).optional()}).refine(e=>!(e.reportableStatus==="reported"&&(!e.regulatoryAuthorityName||e.regulatoryAuthorityName.trim()===""||!e.dateReported||e.dateReported.trim()===""||!e.complianceImpactSummary||e.complianceImpactSummary.trim()==="")||e.reportableStatus==="not_yet_reported"&&(!e.plannedDateOfReporting||e.plannedDateOfReporting.trim()===""||!e.delayReason||e.delayReason.trim()===""||!e.intendedRegulatoryAuthority||e.intendedRegulatoryAuthority.trim()==="")),{message:"Required regulatory compliance fields must be completed",path:["reportableStatus"]});function _0e(){const{toast:e}=Cn(),[,t]=Xr(),[n,r]=N.useState([]),[a,s]=N.useState(!1),o=ON({resolver:PN(k0e),defaultValues:{title:"",description:"",equipmentGroup:"",equipmentType:"",equipmentSubtype:"",equipmentId:"",location:"",reportedBy:"",incidentDateTime:"",priority:"Medium",immediateActions:"",safetyImplications:"",operatingParameters:"",issueFrequency:void 0,issueSeverity:void 0,initialContextualFactors:"",sequenceOfEvents:"",sequenceOfEventsFiles:[],reportableStatus:"not_reportable",regulatoryAuthorityName:"",dateReported:"",reportReferenceId:"",complianceImpactSummary:"",plannedDateOfReporting:"",delayReason:"",intendedRegulatoryAuthority:"",timelineData:{}}}),l=o.watch("equipmentGroup"),c=o.watch("equipmentType"),u=o.watch("equipmentSubtype"),d=o.watch("reportableStatus");N.useEffect(()=>{l&&c&&u&&f()},[l,c,u]);const f=async()=>{var w,j;try{const S=await fetch("/api/incidents/0/generate-timeline-questions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({equipmentGroup:l,equipmentType:c,equipmentSubtype:u})});if(S.ok){const C=await S.json();r(((w=C.timelineQuestions)==null?void 0:w.questions)||[]),s(!0),console.log(`Generated ${((j=C.timelineQuestions)==null?void 0:j.totalQuestions)||0} timeline questions`)}}catch(S){console.error("Error generating timeline questions:",S)}},{data:p=[]}=Ye({queryKey:["/api/cascading/equipment-groups"],queryFn:async()=>{try{const w=await fetch("/api/cascading/equipment-groups");return w.ok?w.json():(console.error("Equipment groups API failed, falling back to SQL query"),["Rotating","Static","Electrical","Control Valves","Instrumentation","Fire & Safety","HVAC & Utilities","Material Handling","Plant Utilities","Environmental","Utility"])}catch(w){return console.error("Equipment groups fetch error:",w),["Rotating","Static","Electrical","Control Valves","Instrumentation","Fire & Safety","HVAC & Utilities","Material Handling","Plant Utilities","Environmental","Utility"]}}}),{data:h=[],isLoading:x,error:m}=Ye({queryKey:["/api/cascading/equipment-types",l],queryFn:async()=>{if(!l)return[];console.log(`[Cascading Dropdown] Fetching equipment types for group: ${l}`);try{const w=await fetch(`/api/cascading/equipment-types/${encodeURIComponent(l)}`);if(!w.ok)return console.error("Equipment types API failed"),[];const j=await w.json();return console.log(`[Cascading Dropdown] Got ${j.length} equipment types:`,j),j}catch(w){return console.error("Equipment types fetch error:",w),[]}},enabled:!!l}),{data:g=[],isLoading:b}=Ye({queryKey:["/api/cascading/equipment-subtypes",l,c],queryFn:async()=>{if(!l||!c)return[];console.log(`[Cascading Dropdown] Fetching subtypes for ${l}/${c}`);try{const w=await fetch(`/api/cascading/equipment-subtypes/${encodeURIComponent(l)}/${encodeURIComponent(c)}`);if(!w.ok)return console.error("Equipment subtypes API failed"),[];const j=await w.json();return console.log(`[Cascading Dropdown] Got ${j.length} subtypes:`,j),j}catch(w){return console.error("Equipment subtypes fetch error:",w),[]}},enabled:!!l&&!!c}),v=Je({mutationFn:async w=>{console.log("Making API request to create incident...");const j=await fetch("/api/incidents",{method:"POST",body:JSON.stringify(w),headers:{"Content-Type":"application/json"}});if(!j.ok)throw new Error(`Failed to create incident: ${j.status}`);const S=await j.json();return console.log("Raw API response:",S),S},onSuccess:w=>{console.log("Incident created successfully:",w),console.log("Full response object:",JSON.stringify(w,null,2));let j;if(typeof w=="object"&&w.id?j=w.id:typeof w=="number"?j=w:typeof w=="string"?j=parseInt(w):(console.error("Unexpected response format:",w),j=null),console.log("Extracted incident ID for navigation:",j,"Type:",typeof j),!j){console.error("ERROR: No incident ID in response:",w),e({title:"Error",description:"Failed to get incident ID for navigation",variant:"destructive"});return}e({title:"Incident Reported",description:"Moving to equipment selection and symptom input..."});const S=`/equipment-selection?incident=${j}`;console.log("Navigating to:",S),console.log("About to call setLocation with:",S),t(S),console.log("setLocation called successfully")},onError:w=>{e({title:"Error",description:w.message||"Failed to create incident report",variant:"destructive"})}}),y=w=>{v.mutate(w)};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(fn,{href:"/",children:i.jsxs(H,{variant:"outline",size:"sm",children:[i.jsx(Qf,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Incident Reporting"}),i.jsx("p",{className:"text-slate-600",children:"Step 1: Report the incident and provide initial details"})]})]}),i.jsx(ne,{variant:"secondary",className:"text-sm",children:"Step 1 of 8"})]}),i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"1"}),i.jsx("span",{className:"ml-2 text-sm font-medium text-blue-600",children:"Incident Reported"})]}),i.jsx(Er,{className:"h-4 w-4 text-slate-400"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-slate-300 text-slate-600 rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),i.jsx("span",{className:"ml-2 text-sm text-slate-500",children:"Equipment Selection"})]}),i.jsx(Er,{className:"h-4 w-4 text-slate-400"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-slate-300 text-slate-600 rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),i.jsx("span",{className:"ml-2 text-sm text-slate-500",children:"Evidence Collection"})]}),i.jsx("span",{className:"text-slate-400",children:"..."})]})}),i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(xt,{className:"h-5 w-5 text-orange-500"}),"Incident Details"]})}),i.jsx(re,{children:i.jsx(IN,{...o,children:i.jsxs("form",{onSubmit:o.handleSubmit(y),className:"space-y-6",children:[i.jsx(ct,{control:o.control,name:"title",render:({field:w})=>i.jsxs(it,{children:[i.jsx(nt,{children:"Incident Details"}),i.jsx(at,{children:i.jsx(ke,{...w,placeholder:"e.g., Pump P-101 seal leak"})}),i.jsx(st,{})]})}),i.jsx(ct,{control:o.control,name:"description",render:({field:w})=>i.jsxs(it,{children:[i.jsx(nt,{children:"Initial Observations"}),i.jsx(at,{children:i.jsx(Te,{...w,placeholder:"Describe what was observed, when it was observed, and any initial symptoms...",rows:4})}),i.jsx(st,{})]})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.jsx(ct,{control:o.control,name:"priority",render:({field:w})=>i.jsxs(it,{children:[i.jsx(nt,{children:"Priority Level"}),i.jsx(at,{children:i.jsxs(ut,{onValueChange:w.onChange,value:w.value,children:[i.jsx(ot,{children:i.jsx(dt,{})}),i.jsxs(lt,{children:[i.jsx(X,{value:"Low",children:"Low"}),i.jsx(X,{value:"Medium",children:"Medium"}),i.jsx(X,{value:"High",children:"High"}),i.jsx(X,{value:"Critical",children:"Critical"})]})]})}),i.jsx(st,{})]})})}),i.jsx(ct,{control:o.control,name:"operatingParameters",render:({field:w})=>i.jsxs(it,{children:[i.jsx(nt,{children:"Operating Parameters at Incident Time"}),i.jsx(at,{children:i.jsx(Te,{...w,placeholder:"e.g., Temperature: 85C, Pressure: 150 PSI, Flow: 200 GPM, RPM: 1750, Vibration: 2.5 mm/s",rows:2})}),i.jsx(st,{})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx(ct,{control:o.control,name:"issueFrequency",render:({field:w})=>i.jsxs(it,{children:[i.jsx(nt,{children:"Issue Frequency"}),i.jsxs(ut,{onValueChange:w.onChange,value:w.value,children:[i.jsx(at,{children:i.jsx(ot,{children:i.jsx(dt,{placeholder:"Select frequency"})})}),i.jsxs(lt,{children:[i.jsx(X,{value:"First",children:"First Occurrence"}),i.jsx(X,{value:"Recurring",children:"Recurring Issue"}),i.jsx(X,{value:"Unknown",children:"Unknown"})]})]}),i.jsx(st,{})]})}),i.jsx(ct,{control:o.control,name:"issueSeverity",render:({field:w})=>i.jsxs(it,{children:[i.jsx(nt,{children:"Issue Severity"}),i.jsxs(ut,{onValueChange:w.onChange,value:w.value,children:[i.jsx(at,{children:i.jsx(ot,{children:i.jsx(dt,{placeholder:"Select severity"})})}),i.jsxs(lt,{children:[i.jsx(X,{value:"Low",children:"Low"}),i.jsx(X,{value:"Medium",children:"Medium"}),i.jsx(X,{value:"High",children:"High"}),i.jsx(X,{value:"Critical",children:"Critical"})]})]}),i.jsx(st,{})]})})]}),i.jsx(ct,{control:o.control,name:"initialContextualFactors",render:({field:w})=>i.jsxs(it,{children:[i.jsx(nt,{children:"Recent Maintenance or Operational Changes"}),i.jsx(at,{children:i.jsx(Te,{...w,placeholder:"e.g., Recent bearing replacement 2 weeks ago, process temperature increased last month, new operator training, environmental conditions changed",rows:2})}),i.jsx(st,{})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx(ct,{control:o.control,name:"equipmentGroup",render:({field:w})=>i.jsxs(it,{children:[i.jsxs(nt,{className:"flex items-center gap-2",children:[i.jsx(Km,{className:"w-4 h-4"}),"Equipment Group (Level 1)"]}),i.jsxs(ut,{onValueChange:j=>{w.onChange(j),o.setValue("equipmentType",""),o.setValue("equipmentSubtype","")},value:w.value,children:[i.jsx(at,{children:i.jsx(ot,{children:i.jsx(dt,{placeholder:"Select equipment group"})})}),i.jsx(lt,{children:p.map(j=>i.jsx(X,{value:j,children:j},j))})]}),i.jsx(st,{})]})}),i.jsx(ct,{control:o.control,name:"equipmentType",render:({field:w})=>i.jsxs(it,{children:[i.jsx(nt,{children:"Equipment Type (Level 2)"}),i.jsxs(ut,{onValueChange:j=>{w.onChange(j),o.setValue("equipmentSubtype","")},value:w.value,disabled:!l,children:[i.jsx(at,{children:i.jsx(ot,{children:i.jsx(dt,{placeholder:l?x?"Loading types...":h.length===0?"No types found":"Select equipment type":"Select equipment group first"})})}),i.jsx(lt,{children:h.map(j=>i.jsx(X,{value:j,children:j},j))})]}),i.jsx(st,{})]})}),i.jsx(ct,{control:o.control,name:"equipmentSubtype",render:({field:w})=>i.jsxs(it,{children:[i.jsx(nt,{children:"Equipment Subtype (Level 3)"}),i.jsxs(ut,{onValueChange:w.onChange,value:w.value,disabled:!l||!c,children:[i.jsx(at,{children:i.jsx(ot,{children:i.jsx(dt,{placeholder:!l||!c?"Select equipment type first":b?"Loading subtypes...":g.length===0?"No subtypes found":"Select equipment subtype"})})}),i.jsx(lt,{children:g.map(j=>i.jsx(X,{value:j,children:j},j))})]}),i.jsx(st,{})]})})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.jsx(ct,{control:o.control,name:"equipmentId",render:({field:w})=>i.jsxs(it,{children:[i.jsx(nt,{children:"Equipment ID/Tag"}),i.jsx(at,{children:i.jsx(ke,{...w,placeholder:"e.g., P-101, M-205"})}),i.jsx(st,{})]})})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx(ct,{control:o.control,name:"location",render:({field:w})=>i.jsxs(it,{children:[i.jsxs(nt,{className:"flex items-center gap-2",children:[i.jsx(MT,{className:"h-4 w-4"}),"Location"]}),i.jsx(at,{children:i.jsx(ke,{...w,placeholder:"e.g., Unit 1 Process Area"})}),i.jsx(st,{})]})}),i.jsx(ct,{control:o.control,name:"reportedBy",render:({field:w})=>i.jsxs(it,{children:[i.jsxs(nt,{className:"flex items-center gap-2",children:[i.jsx(xc,{className:"h-4 w-4"}),"Reported By"]}),i.jsx(at,{children:i.jsx(ke,{...w,placeholder:"Your name"})}),i.jsx(st,{})]})}),i.jsx(ct,{control:o.control,name:"incidentDateTime",render:({field:w})=>i.jsxs(it,{children:[i.jsxs(nt,{className:"flex items-center gap-2",children:[i.jsx(Oo,{className:"h-4 w-4"}),"Incident Date/Time"]}),i.jsx(at,{children:i.jsx(ke,{...w,type:"datetime-local",max:new Date().toISOString().slice(0,16)})}),i.jsx(st,{})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx(ct,{control:o.control,name:"immediateActions",render:({field:w})=>i.jsxs(it,{children:[i.jsxs(nt,{className:"flex items-center gap-2",children:[i.jsx(Km,{className:"h-4 w-4"}),"Immediate Actions Taken"]}),i.jsx(at,{children:i.jsx(Te,{...w,placeholder:"Actions taken to secure the area, isolate equipment, etc...",rows:3})}),i.jsx(st,{})]})}),i.jsx(ct,{control:o.control,name:"safetyImplications",render:({field:w})=>i.jsxs(it,{children:[i.jsx(nt,{children:"Safety Implications"}),i.jsx(at,{children:i.jsx(Te,{...w,placeholder:"Any safety concerns, personnel at risk, environmental impact...",rows:3})}),i.jsx(st,{})]})})]}),i.jsx(Sa,{className:"my-6"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(fC,{className:"h-5 w-5 text-blue-600"}),i.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Sequence of Events"})]}),i.jsx("p",{className:"text-sm text-slate-600",children:"Please provide a chronological summary of key actions and observations related to the incident, including times if available."}),i.jsx(ct,{control:o.control,name:"sequenceOfEvents",render:({field:w})=>i.jsxs(it,{children:[i.jsx(nt,{children:"Sequence of Events (Narrative)"}),i.jsx(at,{children:i.jsx(Te,{...w,placeholder:`Enter the main steps as they happened, including approximate times if possible.
Example:
08:05  Alarm activated
08:10  Operator responded to pump room
08:12  Leak observed at pump discharge
08:14  Pump stopped by operator

You can include as much detail as available.`,rows:6,className:"resize-y"})}),i.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Optional, but recommended for better analysis"}),i.jsx(st,{})]})}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(nt,{className:"text-sm font-medium",children:"Attach Sequence of Events (optional)"}),i.jsx("div",{className:"border-2 border-dashed border-slate-300 rounded-lg p-6 text-center hover:border-slate-400 transition-colors",children:i.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[i.jsxs("div",{className:"w-10 h-10 bg-slate-100 rounded-lg flex items-center justify-center",children:[i.jsx("input",{type:"file",multiple:!0,accept:".pdf,.docx,.xlsx,.txt,.csv,.jpg,.png,.gif",className:"hidden",id:"sequence-files",onChange:w=>{const S=Array.from(w.target.files||[]).map(C=>C.name);o.setValue("sequenceOfEventsFiles",S)}}),i.jsx("label",{htmlFor:"sequence-files",className:"cursor-pointer",children:i.jsx("svg",{className:"w-6 h-6 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})})]}),i.jsxs("div",{className:"text-sm text-slate-600",children:[i.jsx("label",{htmlFor:"sequence-files",className:"cursor-pointer text-blue-600 hover:text-blue-700 font-medium",children:"Upload files"}),i.jsx("span",{className:"text-slate-500",children:" or drag and drop"})]}),i.jsxs("div",{className:"text-xs text-slate-500",children:["Upload any files that detail the sequence of events. Examples include:",i.jsx("br",{}),"- Operator logs or shift handover reports",i.jsx("br",{}),"- Control room/DCS/SCADA exports",i.jsx("br",{}),"- Annotated event timelines (Word, PDF, Excel, image)",i.jsx("br",{}),"- Photos, sketches, or scanned documents"]}),i.jsx("div",{className:"text-xs text-slate-400",children:"Accepts: PDF, DOCX, XLSX, TXT, CSV, JPG, PNG, GIF"})]})}),(o.watch("sequenceOfEventsFiles")||[]).length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"text-sm font-medium text-slate-700",children:"Uploaded Files:"}),i.jsx("div",{className:"space-y-1",children:(o.watch("sequenceOfEventsFiles")||[]).map((w,j)=>i.jsxs("div",{className:"flex items-center justify-between bg-slate-50 px-3 py-2 rounded text-sm",children:[i.jsx("span",{className:"text-slate-700",children:w}),i.jsx(H,{type:"button",variant:"ghost",size:"sm",onClick:()=>{const C=(o.getValues("sequenceOfEventsFiles")||[]).filter((E,k)=>k!==j);o.setValue("sequenceOfEventsFiles",C)},className:"text-red-500 hover:text-red-700 h-6 w-6 p-0",children:""})]},j))})]})]})]}),i.jsx(Sa,{className:"my-6"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xt,{className:"h-5 w-5 text-orange-600"}),i.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Regulatory / Compliance Impact"})]}),i.jsx("p",{className:"text-sm text-slate-600",children:"Identify whether this incident has regulatory implications and capture appropriate follow-up details based on reporting status."}),i.jsx(ct,{control:o.control,name:"reportableStatus",render:({field:w})=>i.jsxs(it,{children:[i.jsxs(nt,{children:["Reportable Incident? ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs(ut,{onValueChange:w.onChange,defaultValue:w.value,children:[i.jsx(at,{children:i.jsx(ot,{children:i.jsx(dt,{placeholder:"Select reportable status"})})}),i.jsxs(lt,{children:[i.jsx(X,{value:"not_reportable",children:"No  Not a reportable incident"}),i.jsx(X,{value:"reported",children:"Yes  Reported"}),i.jsx(X,{value:"not_yet_reported",children:"Yes  Not yet reported"})]})]}),i.jsx(st,{})]})}),d==="reported"&&i.jsxs("div",{className:"space-y-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-green-900",children:"Reported Incident Details"}),i.jsx(ct,{control:o.control,name:"regulatoryAuthorityName",render:({field:w})=>i.jsxs(it,{children:[i.jsxs(nt,{children:["Regulatory Authority Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(at,{children:i.jsx(ke,{...w,placeholder:"e.g., WorkSafe QLD, EPA NSW, DMIRS WA"})}),i.jsx(st,{})]})}),i.jsx(ct,{control:o.control,name:"dateReported",render:({field:w})=>i.jsxs(it,{children:[i.jsxs(nt,{children:["Date Reported ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(at,{children:i.jsx(ke,{...w,type:"date"})}),i.jsx(st,{})]})}),i.jsx(ct,{control:o.control,name:"reportReferenceId",render:({field:w})=>i.jsxs(it,{children:[i.jsx(nt,{children:"Report Reference or ID (if available)"}),i.jsx(at,{children:i.jsx(ke,{...w,placeholder:"Report reference number or ID"})}),i.jsx(st,{})]})}),i.jsx(ct,{control:o.control,name:"complianceImpactSummary",render:({field:w})=>i.jsxs(it,{children:[i.jsxs(nt,{children:["Summary of Compliance Impact ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(at,{children:i.jsx(Te,{...w,placeholder:"Describe what regulatory threshold was breached or triggered (e.g., WHS breach, environmental non-compliance, safety shutdown).",rows:4})}),i.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"Describe what regulatory threshold was breached or triggered (e.g., WHS breach, environmental non-compliance, safety shutdown)."}),i.jsx(st,{})]})})]}),d==="not_yet_reported"&&i.jsxs("div",{className:"space-y-4 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-amber-900",children:"Pending Report Details"}),i.jsx(ct,{control:o.control,name:"plannedDateOfReporting",render:({field:w})=>i.jsxs(it,{children:[i.jsxs(nt,{children:["Planned Date of Reporting ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(at,{children:i.jsx(ke,{...w,type:"date"})}),i.jsx(st,{})]})}),i.jsx(ct,{control:o.control,name:"delayReason",render:({field:w})=>i.jsxs(it,{children:[i.jsxs(nt,{children:["Reason for Delay or Pending Reporting ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(at,{children:i.jsx(Te,{...w,placeholder:"State why this has not yet been reported (e.g., pending internal review, still under validation).",rows:3})}),i.jsx("div",{className:"text-xs text-slate-500 mt-1",children:"State why this has not yet been reported (e.g., pending internal review, still under validation)."}),i.jsx(st,{})]})}),i.jsx(ct,{control:o.control,name:"intendedRegulatoryAuthority",render:({field:w})=>i.jsxs(it,{children:[i.jsxs(nt,{children:["Intended Regulatory Authority ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(at,{children:i.jsx(ke,{...w,placeholder:"e.g., WorkSafe QLD, EPA NSW, etc."})}),i.jsx(st,{})]})})]}),d==="not_reportable"&&i.jsx("div",{className:"p-4 bg-slate-50 border border-slate-200 rounded-lg",children:i.jsx("p",{className:"text-sm text-slate-600 italic",children:"No additional regulatory compliance information required for non-reportable incidents."})})]}),i.jsx(Sa,{className:"my-6"}),a&&n.length>0&&i.jsxs("div",{className:"mt-8 p-6 border rounded-lg bg-blue-50",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(fC,{className:"h-5 w-5 text-blue-600"}),i.jsx("h3",{className:"font-semibold text-blue-900",children:"Structured Timeline Questions"})]}),i.jsxs("p",{className:"text-sm text-blue-700 mb-6",children:["Answer these timeline questions to help AI understand the sequence of events. Generated from Evidence Library for ",l,"  ",c,"  ",u]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Universal Timeline Anchors"}),i.jsx("div",{className:"space-y-4",children:n.filter(w=>w.category==="Universal Timeline").map(w=>i.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[i.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:[w.label,w.required&&i.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),i.jsx("p",{className:"text-xs text-slate-500 mb-3",children:w.description}),i.jsxs("div",{className:"space-y-3",children:[w.type==="datetime-local"?i.jsx(ke,{type:"datetime-local",className:"w-full",onChange:j=>{const S=o.getValues("timelineData")||{};o.setValue("timelineData",{...S,[w.id]:j.target.value})}}):i.jsx(Te,{placeholder:"Describe what happened and when...",className:"w-full",onChange:j=>{const S=o.getValues("timelineData")||{};o.setValue("timelineData",{...S,[w.id]:j.target.value})}}),w.hasConfidenceField&&i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-xs font-medium text-slate-600",children:"Data Confidence:"}),i.jsx("div",{className:"flex gap-2",children:(()=>{const S=(o.watch("timelineData")||{})[`${w.id}_confidence`];return i.jsxs(i.Fragment,{children:[i.jsxs("button",{type:"button",className:`px-3 py-2 text-xs rounded-md border-2 flex items-center gap-1 transition-all font-medium ${S==="evidence"?"bg-green-500 border-green-500 text-white shadow-md ring-2 ring-green-200":"bg-white hover:bg-green-50 border-gray-300 text-gray-700 hover:border-green-300"}`,onClick:()=>{const C=o.getValues("timelineData")||{};o.setValue("timelineData",{...C,[`${w.id}_confidence`]:"evidence"})},children:[S==="evidence"?"":""," Evidence Backed"]}),i.jsxs("button",{type:"button",className:`px-3 py-2 text-xs rounded-md border-2 flex items-center gap-1 transition-all font-medium ${S==="unknown"?"bg-red-500 border-red-500 text-white shadow-md ring-2 ring-red-200":"bg-white hover:bg-red-50 border-gray-300 text-gray-700 hover:border-red-300"}`,onClick:()=>{const C=o.getValues("timelineData")||{};o.setValue("timelineData",{...C,[`${w.id}_confidence`]:"unknown"})},children:[S==="unknown"?"":""," Not Known"]}),i.jsxs("button",{type:"button",className:`px-3 py-2 text-xs rounded-md border-2 flex items-center gap-1 transition-all font-medium ${S==="estimated"?"bg-yellow-500 border-yellow-500 text-white shadow-md ring-2 ring-yellow-200":"bg-white hover:bg-yellow-50 border-gray-300 text-gray-700 hover:border-yellow-300"}`,onClick:()=>{const C=o.getValues("timelineData")||{};o.setValue("timelineData",{...C,[`${w.id}_confidence`]:"estimated"})},children:[S==="estimated"?"":""," Estimated"]})]})})()})]}),w.hasOptionalExplanation&&i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-slate-500 mb-1 block",children:"Optional explanation or context:"}),i.jsx(Te,{placeholder:"Additional details, operator memory, DCS limitations...",className:"w-full text-sm",rows:2,onChange:j=>{const S=o.getValues("timelineData")||{};o.setValue("timelineData",{...S,[`${w.id}_explanation`]:j.target.value})}})]})]}),i.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["Purpose: ",w.purpose]})]},w.id))})]}),n.some(w=>w.category==="Equipment-Specific Timeline")&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-slate-900 mb-3",children:"Equipment-Specific Timeline"}),i.jsx("div",{className:"space-y-4",children:n.filter(w=>w.category==="Equipment-Specific Timeline").map(w=>i.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[i.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:[w.label,w.required&&i.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),i.jsx("p",{className:"text-xs text-slate-500 mb-3",children:w.description}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(ke,{type:"datetime-local",className:"w-full",onChange:j=>{const S=o.getValues("timelineData")||{};o.setValue("timelineData",{...S,[w.id]:j.target.value})}}),w.hasConfidenceField&&i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-xs font-medium text-slate-600",children:"Data Confidence:"}),i.jsx("div",{className:"flex gap-2",children:(()=>{const S=(o.watch("timelineData")||{})[`${w.id}_confidence`];return i.jsxs(i.Fragment,{children:[i.jsxs("button",{type:"button",className:`px-3 py-2 text-xs rounded-md border-2 flex items-center gap-1 transition-all font-medium ${S==="evidence"?"bg-green-500 border-green-500 text-white shadow-md ring-2 ring-green-200":"bg-white hover:bg-green-50 border-gray-300 text-gray-700 hover:border-green-300"}`,onClick:()=>{const C=o.getValues("timelineData")||{};o.setValue("timelineData",{...C,[`${w.id}_confidence`]:"evidence"})},children:[S==="evidence"?"":""," Evidence Backed"]}),i.jsxs("button",{type:"button",className:`px-3 py-2 text-xs rounded-md border-2 flex items-center gap-1 transition-all font-medium ${S==="unknown"?"bg-red-500 border-red-500 text-white shadow-md ring-2 ring-red-200":"bg-white hover:bg-red-50 border-gray-300 text-gray-700 hover:border-red-300"}`,onClick:()=>{const C=o.getValues("timelineData")||{};o.setValue("timelineData",{...C,[`${w.id}_confidence`]:"unknown"})},children:[S==="unknown"?"":""," Not Known"]}),i.jsxs("button",{type:"button",className:`px-3 py-2 text-xs rounded-md border-2 flex items-center gap-1 transition-all font-medium ${S==="estimated"?"bg-yellow-500 border-yellow-500 text-white shadow-md ring-2 ring-yellow-200":"bg-white hover:bg-yellow-50 border-gray-300 text-gray-700 hover:border-yellow-300"}`,onClick:()=>{const C=o.getValues("timelineData")||{};o.setValue("timelineData",{...C,[`${w.id}_confidence`]:"estimated"})},children:[S==="estimated"?"":""," Estimated"]})]})})()})]}),w.hasOptionalExplanation&&i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-slate-500 mb-1 block",children:"Optional explanation or context:"}),i.jsx(Te,{placeholder:"Additional details, operator memory, DCS limitations...",className:"w-full text-sm",rows:2,onChange:j=>{const S=o.getValues("timelineData")||{};o.setValue("timelineData",{...S,[`${w.id}_explanation`]:j.target.value})}})]})]}),i.jsxs("p",{className:"text-xs text-blue-600 mt-2",children:[w.equipmentContext," - ",w.purpose]})]},w.id))})]}),i.jsxs("div",{className:"bg-slate-100 rounded-lg p-4 mt-6",children:[i.jsxs("p",{className:"text-sm text-slate-600",children:[i.jsx("strong",{children:"Enhanced Timeline Analysis:"})," The AI will use this structured data to:"]}),i.jsxs("ul",{className:"text-xs text-slate-500 mt-2 space-y-1",children:[i.jsx("li",{children:" Reconstruct the sequence of events with confidence scoring"}),i.jsx("li",{children:" Detect lead-lag relationships between symptoms and failures"}),i.jsx("li",{children:' Calculate timeline data quality and flag "Low Evidence Certainty"'}),i.jsx("li",{children:" Disqualify failure modes that occurred after the primary event"}),i.jsx("li",{children:" Track evidence quality:  Evidence-backed,  Estimated,  Unknown"})]}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-3 mt-3",children:i.jsxs("p",{className:"text-xs text-blue-700",children:[i.jsx("strong",{children:"Data Confidence Impact:"}),' Questions marked as "Not known" or "Estimated" will reduce AI confidence scores and flag investigation gaps that may require additional evidence collection.']})})]})]}),i.jsx("div",{className:"flex justify-end pt-6",children:i.jsx(H,{type:"submit",disabled:v.isPending,className:"min-w-48",children:v.isPending?"Creating Incident...":i.jsxs(i.Fragment,{children:["Proceed to Equipment Selection",i.jsx(Er,{className:"ml-2 h-4 w-4"})]})})})]})})})]})]})})}const O0e=Ge.object({specificPart:Ge.string().min(1,"Specific part/component is required"),symptomDescription:Ge.string().min(10,"Detailed symptom description is required"),operatingConditions:Ge.string().min(10,"Operating conditions are required"),whenObserved:Ge.string().min(1,"When symptoms were observed is required"),frequency:Ge.enum(["Continuous","Intermittent","One-time","Increasing"]),severity:Ge.enum(["Minor","Moderate","Significant","Severe"]),contextualFactors:Ge.string().optional()});function P0e(){const{toast:e}=Cn(),[,t]=Xr(),n=new URLSearchParams(window.location.search),r=new URLSearchParams(window.location.hash.replace("#","")),a=window.location.pathname.split("/").pop();let s=null;n.get("incident")?(s=parseInt(n.get("incident")),console.log("Found incident ID in URL params:",s)):r.get("incident")?(s=parseInt(r.get("incident")),console.log("Found incident ID in hash params:",s)):a&&!isNaN(parseInt(a))&&(s=parseInt(a),console.log("Found incident ID in path:",s)),console.log("DEBUG: Full URL:",window.location.href),console.log("DEBUG: Search params:",window.location.search),console.log("DEBUG: Hash:",window.location.hash),console.log("DEBUG: Final incident ID:",s);const[o,l]=N.useState(null),c=ON({resolver:PN(O0e),defaultValues:{specificPart:"",symptomDescription:"",operatingConditions:"",whenObserved:"",frequency:"Continuous",severity:"Moderate",contextualFactors:""}}),{data:u,isLoading:d,error:f}=Ye({queryKey:[`/api/incidents/${s}`],queryFn:async()=>{console.log("Fetching incident:",s);const y=await fetch(`/api/incidents/${s}`);if(console.log("Response status:",y.status,y.statusText),!y.ok){const j=await y.text();throw console.error("API Error:",j),new Error(`Failed to fetch incident: ${y.status} ${j}`)}const w=await y.json();return console.log("Incident data:",w),console.log("Is incident valid?",!!w,"Has equipment group?",!!(w!=null&&w.equipmentGroup)),w},enabled:!!s,retry:1,retryDelay:1e3}),{data:p,isLoading:h}=Ye({queryKey:["/api/evidence-library/search-with-elimination",u==null?void 0:u.equipmentGroup,u==null?void 0:u.equipmentType,u==null?void 0:u.equipmentSubtype,u==null?void 0:u.description],queryFn:async()=>{var S,C;if(!(u!=null&&u.equipmentGroup)||!(u!=null&&u.equipmentType)||!(u!=null&&u.equipmentSubtype)||!(u!=null&&u.description))return console.log("Missing data for elimination analysis - Group:",u==null?void 0:u.equipmentGroup,"Type:",u==null?void 0:u.equipmentType,"Subtype:",u==null?void 0:u.equipmentSubtype,"Description:",!!(u!=null&&u.description)),null;const y=`/api/evidence-library/search-with-elimination?equipmentGroup=${encodeURIComponent(u.equipmentGroup)}&equipmentType=${encodeURIComponent(u.equipmentType)}&equipmentSubtype=${encodeURIComponent(u.equipmentSubtype)}&symptoms=${encodeURIComponent(u.description)}`;console.log("Searching evidence library with elimination logic:",y);const w=await fetch(y);if(!w.ok)return console.error("Elimination search failed:",w.status,w.statusText),null;const j=await w.json();return console.log(`Elimination results: ${((S=j.remainingFailureModes)==null?void 0:S.length)||0} remaining, ${((C=j.eliminatedFailureModes)==null?void 0:C.length)||0} eliminated`),j},enabled:!!(u!=null&&u.equipmentGroup)&&!!(u!=null&&u.equipmentType)&&!!(u!=null&&u.equipmentSubtype)&&!!(u!=null&&u.description)}),x=(p==null?void 0:p.remainingFailureModes)||[],m=(p==null?void 0:p.eliminatedFailureModes)||[],g=p==null?void 0:p.eliminationSummary,b=Je({mutationFn:async y=>{var j;const w={...y,workflowStatus:"universal_rca_ready",currentStep:2};return console.log(`[UNIVERSAL RCA INTEGRATION] Updating incident ${s} with symptom description length: ${((j=y.symptomDescription)==null?void 0:j.length)||0}`),console.log("[UNIVERSAL RCA INTEGRATION] Will trigger Universal RCA analysis with AI hypothesis generation"),await gt(`/api/incidents/${s}/equipment-symptoms`,{method:"PUT",body:JSON.stringify(w),headers:{"Content-Type":"application/json"}})},onSuccess:()=>{e({title:"Equipment & Symptoms Updated",description:"Proceeding to Universal RCA Analysis - AI will analyze your incident description"}),t(`/evidence-checklist?incident=${s}`)},onError:y=>{e({title:"Error",description:y.message||"Failed to update equipment details",variant:"destructive"})}}),v=y=>{if(!y.symptomDescription||y.symptomDescription.trim().length<20){e({title:"More Details Needed",description:"Please provide a detailed symptom description (at least 20 characters) for Universal RCA AI analysis",variant:"destructive"});return}console.log(`[UNIVERSAL RCA] Submitting incident with ${y.symptomDescription.length} character symptom description - sufficient for Universal RCA Engine`);const w={...y,equipmentLibraryId:o==null?void 0:o.id};b.mutate(w)};return s?f?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg font-medium text-red-600",children:"Error loading incident"}),i.jsxs("div",{className:"text-sm text-slate-600 mt-2",children:["Incident ID: ",s]}),i.jsx("div",{className:"text-sm text-red-500 mt-1",children:f.message})]})}):d?(console.log("Loading incident data..."),i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg font-medium text-slate-900",children:"Loading incident data..."}),i.jsxs("div",{className:"text-sm text-slate-600 mt-2",children:["Incident ID: ",s]}),i.jsx("div",{className:"text-sm text-blue-600 mt-1",children:"Fetching from server..."})]})})):!u&&!d?(console.log("No incident found after loading complete"),i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg font-medium text-red-600",children:"Incident Not Found"}),i.jsxs("div",{className:"text-sm text-slate-600 mt-2",children:["Incident ID: ",s]})]})})):(console.log("RENDERING MAIN CONTENT - incident:",u==null?void 0:u.title,"ID:",s),console.log("Current location:",window.location.pathname,window.location.search),i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(fn,{href:"/",children:i.jsxs(H,{variant:"outline",size:"sm",children:[i.jsx(Oa,{className:"h-4 w-4 mr-2"}),"Back to Home"]})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Equipment Selection & Symptom Input"}),i.jsx("p",{className:"text-slate-600",children:"Step 2: Select specific equipment part and describe symptoms"})]})]}),i.jsx(ne,{variant:"secondary",className:"text-sm",children:"Step 2 of 8"})]}),i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:""}),i.jsx("span",{className:"ml-2 text-sm text-green-600",children:"Incident Reported"})]}),i.jsx(Er,{className:"h-4 w-4 text-slate-400"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),i.jsx("span",{className:"ml-2 text-sm font-medium text-blue-600",children:"Equipment Selection"})]}),i.jsx(Er,{className:"h-4 w-4 text-slate-400"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-slate-300 text-slate-600 rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),i.jsx("span",{className:"ml-2 text-sm text-slate-500",children:"Evidence Checklist"})]}),i.jsx("span",{className:"text-slate-400",children:"..."})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs(ee,{children:[i.jsxs(ae,{children:[i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(Pa,{className:"h-5 w-5 text-blue-500"}),"Equipment Library Selection"]}),i.jsxs("p",{className:"text-sm text-slate-600",children:["Select from evidence library for ",u==null?void 0:u.equipmentGroup," - ",u==null?void 0:u.equipmentType]})]}),i.jsxs(re,{children:[g&&i.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),i.jsx("span",{className:"font-semibold text-green-800",children:"Intelligent Elimination Applied"})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"font-bold text-slate-700",children:g.totalAnalyzed}),i.jsx("div",{className:"text-slate-600",children:"Total Analyzed"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"font-bold text-red-600",children:g.eliminated}),i.jsx("div",{className:"text-red-600",children:"Eliminated"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"font-bold text-green-600",children:g.remaining}),i.jsx("div",{className:"text-green-600",children:"Remaining"})]})]}),i.jsx("div",{className:"mt-2 text-center",children:i.jsxs(ne,{variant:"secondary",className:"bg-green-100 text-green-800",children:["+",g.confidenceBoost,"% Confidence Boost"]})})]}),x.length>0?i.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[i.jsx("div",{className:"mb-3",children:i.jsx("h4",{className:"font-medium text-green-700 mb-2",children:" Remaining Failure Modes (Focus Here)"})}),x.map(y=>i.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer transition-all ${(o==null?void 0:o.id)===y.id?"border-blue-500 bg-blue-50 ring-2 ring-blue-200":"border-green-200 hover:border-green-300 hover:bg-green-50"}`,onClick:()=>l(y),children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h4",{className:"font-medium text-slate-900",children:y.equipmentType}),i.jsx(ne,{variant:y.riskRanking==="Critical"?"destructive":"secondary",children:y.riskRanking})]}),i.jsx("p",{className:"text-sm text-slate-600 mb-2",children:y.componentFailureMode}),i.jsx("p",{className:"text-xs text-green-600",children:" Active for investigation"})]},y.id)),m.length>0&&i.jsx("div",{className:"mt-6 pt-4 border-t border-slate-200",children:i.jsxs("details",{className:"cursor-pointer",children:[i.jsxs("summary",{className:"font-medium text-red-700 mb-2",children:[" Eliminated Failure Modes (",m.length,") - Click to view"]}),i.jsx("div",{className:"space-y-2 mt-3",children:m.map(y=>i.jsxs("div",{className:"p-3 border border-red-200 rounded-lg bg-red-50 opacity-75",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h4",{className:"font-medium text-red-800",children:y.equipmentType}),i.jsx(ne,{variant:"destructive",className:"opacity-75",children:"Eliminated"})]}),i.jsx("p",{className:"text-sm text-red-700 mb-1",children:y.componentFailureMode}),i.jsxs("p",{className:"text-xs text-red-600 italic",children:["Reason: ",y.eliminationReason]})]},y.id))})]})})]}):i.jsxs("div",{className:"text-center py-8 text-blue-500",children:[i.jsx(vn,{className:"h-12 w-12 mx-auto mb-3 text-blue-300"}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 max-w-md mx-auto",children:[i.jsx("p",{className:"font-semibold text-blue-900 mb-2",children:" Universal RCA Ready"}),i.jsx("p",{className:"text-sm text-blue-700",children:"No equipment-specific templates needed. Our AI will analyze your incident description directly using Universal RCA Engine."}),i.jsx("p",{className:"text-xs text-blue-600 mt-2",children:" Fill in symptom details to activate AI analysis"})]})]})]})]}),i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(Km,{className:"h-5 w-5 text-orange-500"}),"Symptom Details"]})}),i.jsx(re,{children:i.jsx(IN,{...c,children:i.jsxs("form",{onSubmit:c.handleSubmit(v),className:"space-y-6",children:[i.jsx(ct,{control:c.control,name:"specificPart",render:({field:y})=>i.jsxs(it,{children:[i.jsx(nt,{children:"Specific Part/Component"}),i.jsx(at,{children:i.jsx(ke,{...y,placeholder:"e.g., Mechanical seal, Bearing, Impeller"})}),i.jsx(st,{})]})}),i.jsx(ct,{control:c.control,name:"symptomDescription",render:({field:y})=>i.jsxs(it,{children:[i.jsx(nt,{children:"Detailed Symptom Description"}),i.jsx(at,{children:i.jsx(Te,{...y,placeholder:"Describe exactly what you observed: leaks, noises, vibrations, performance issues...",rows:4})}),i.jsx(st,{})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(ct,{control:c.control,name:"frequency",render:({field:y})=>i.jsxs(it,{children:[i.jsx(nt,{children:"Frequency"}),i.jsx(at,{children:i.jsxs(ut,{onValueChange:y.onChange,value:y.value,children:[i.jsx(ot,{children:i.jsx(dt,{})}),i.jsxs(lt,{children:[i.jsx(X,{value:"Continuous",children:"Continuous"}),i.jsx(X,{value:"Intermittent",children:"Intermittent"}),i.jsx(X,{value:"One-time",children:"One-time"}),i.jsx(X,{value:"Increasing",children:"Increasing"})]})]})}),i.jsx(st,{})]})}),i.jsx(ct,{control:c.control,name:"severity",render:({field:y})=>i.jsxs(it,{children:[i.jsx(nt,{children:"Severity"}),i.jsx(at,{children:i.jsxs(ut,{onValueChange:y.onChange,value:y.value,children:[i.jsx(ot,{children:i.jsx(dt,{})}),i.jsxs(lt,{children:[i.jsx(X,{value:"Minor",children:"Minor"}),i.jsx(X,{value:"Moderate",children:"Moderate"}),i.jsx(X,{value:"Significant",children:"Significant"}),i.jsx(X,{value:"Severe",children:"Severe"})]})]})}),i.jsx(st,{})]})})]}),i.jsx(ct,{control:c.control,name:"operatingConditions",render:({field:y})=>i.jsxs(it,{children:[i.jsx(nt,{children:"Operating Conditions"}),i.jsx(at,{children:i.jsx(Te,{...y,placeholder:"Temperature, pressure, flow rate, load conditions when issue occurred...",rows:3})}),i.jsx(st,{})]})}),i.jsx(ct,{control:c.control,name:"whenObserved",render:({field:y})=>i.jsxs(it,{children:[i.jsx(nt,{children:"When First Observed"}),i.jsx(at,{children:i.jsx(ke,{...y,placeholder:"During startup, at high load, after maintenance..."})}),i.jsx(st,{})]})}),i.jsx(ct,{control:c.control,name:"contextualFactors",render:({field:y})=>i.jsxs(it,{children:[i.jsx(nt,{children:"Additional Context (Optional)"}),i.jsx(at,{children:i.jsx(Te,{...y,placeholder:"Recent maintenance, weather conditions, process changes...",rows:2})}),i.jsx(st,{})]})}),o&&i.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Ki,{className:"h-4 w-4 text-blue-600"}),i.jsx("span",{className:"font-medium text-blue-900",children:"Selected from Library:"})]}),i.jsxs("p",{className:"text-sm text-blue-800",children:[o.equipmentType," - ",o.componentFailureMode]})]}),i.jsx("div",{className:"flex justify-end pt-6",children:i.jsx(H,{type:"submit",disabled:b.isPending,className:"min-w-48",children:b.isPending?"Processing...":i.jsxs(i.Fragment,{children:["Generate Evidence Checklist",i.jsx(Er,{className:"ml-2 h-4 w-4"})]})})})]})})})]})]})]})})):(console.log("SHOWING NO INCIDENT ID ERROR - URL:",window.location.href),console.log("URL Search:",window.location.search),console.log("Incident ID parsed as:",s),i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg font-medium text-red-600",children:"Error: No Incident ID"}),i.jsx("div",{className:"text-sm text-slate-600 mt-2",children:"Please access this page from the incident reporting workflow."}),i.jsxs("div",{className:"text-xs text-slate-400 mt-4",children:["Debug: URL = ",window.location.href]})]})}))}function T0e({incidentId:e,aiHypotheses:t,instructions:n,onHypothesesConfirmed:r}){const{toast:a}=Cn(),[s,o]=N.useState({}),[l,c]=N.useState([""]),[u,d]=N.useState(""),[f,p]=N.useState(!1),h=(y,w)=>{console.log(`[HYPOTHESIS REVIEW] ${w} hypothesis ${y}`),o(j=>({...j,[y]:w}))},x=()=>{c(y=>[...y,""])},m=(y,w)=>{c(j=>j.map((S,C)=>C===y?w:S))},g=y=>{c(w=>w.filter((j,S)=>S!==y))},b=async()=>{const y=Object.values(s).filter(j=>j==="accept").length,w=l.filter(j=>j.trim().length>0);if(y===0&&w.length===0){a({title:"Selection Required",description:"Please accept at least one AI hypothesis or add a custom failure mode",variant:"destructive"});return}p(!0);try{console.log("[HYPOTHESIS REVIEW] Submitting feedback:",{hypothesesFeedback:s,customFailureModes:w,userReasoning:u});const j=await fetch(`/api/incidents/${e}/hypothesis-feedback`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hypothesesFeedback:s,customFailureModes:w,userReasoning:u})});if(!j.ok)throw new Error(`HTTP ${j.status}: ${j.statusText}`);const S=await j.json();a({title:"Hypotheses Confirmed",description:S.message||`${S.confirmedHypotheses} hypotheses confirmed for evidence collection`}),r(S.evidenceItems||[])}catch(j){console.error("[HYPOTHESIS REVIEW] Feedback submission failed:",j),a({title:"Submission Failed",description:j instanceof Error?j.message:"Failed to process hypothesis feedback",variant:"destructive"})}finally{p(!1)}},v=y=>y>=70?"bg-green-100 text-green-800":y>=40?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800";return i.jsxs("div",{className:"space-y-6",children:[i.jsx(ee,{children:i.jsxs(ae,{children:[i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(Ki,{className:"h-5 w-5 text-blue-500"}),"Human-AI Collaborative Analysis"]}),i.jsx(yt,{children:n})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"AI-Generated Failure Hypotheses"}),t.map(y=>{const w=s[y.id];return i.jsxs(ee,{className:`border-2 ${w==="accept"?"border-green-200 bg-green-50":w==="reject"?"border-red-200 bg-red-50":"border-gray-200"}`,children:[i.jsx(ae,{children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(se,{className:"text-base",children:y.hypothesis}),i.jsx(yt,{className:"mt-2",children:y.reasoning})]}),i.jsxs(ne,{className:v(y.aiConfidence),children:[y.aiConfidence,"% AI Confidence"]})]})}),i.jsx(re,{children:i.jsxs("div",{className:"space-y-4",children:[y.suggestedEvidence.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium mb-2",children:"Suggested Evidence:"}),i.jsx("ul",{className:"text-sm text-gray-600 list-disc list-inside",children:y.suggestedEvidence.map((j,S)=>i.jsx("li",{children:j},S))})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(H,{onClick:()=>h(y.id,"accept"),variant:w==="accept"?"default":"outline",size:"sm",className:w==="accept"?"bg-green-600 hover:bg-green-700":"",children:[i.jsx(Yt,{className:"h-4 w-4 mr-1"}),"Accept "]}),i.jsxs(H,{onClick:()=>h(y.id,"reject"),variant:w==="reject"?"default":"outline",size:"sm",className:w==="reject"?"bg-red-600 hover:bg-red-700":"",children:[i.jsx($d,{className:"h-4 w-4 mr-1"}),"Reject "]})]})]})})]},y.id)})]}),i.jsxs(ee,{children:[i.jsxs(ae,{children:[i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(Un,{className:"h-5 w-5"}),"Add Custom Failure Modes"]}),i.jsx(yt,{children:"Add your own failure hypotheses based on engineering experience"})]}),i.jsxs(re,{className:"space-y-4",children:[l.map((y,w)=>i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ke,{value:y,onChange:j=>m(w,j.target.value),placeholder:"Enter custom failure mode...",className:"flex-1"}),l.length>1&&i.jsx(H,{onClick:()=>g(w),variant:"outline",size:"sm",children:"Remove"})]},w)),i.jsxs(H,{onClick:x,variant:"outline",size:"sm",children:[i.jsx(Un,{className:"h-4 w-4 mr-1"}),"Add Another"]})]})]}),i.jsxs(ee,{children:[i.jsxs(ae,{children:[i.jsx(se,{children:"Engineering Rationale"}),i.jsx(yt,{children:"Provide your reasoning for the selected hypotheses (optional)"})]}),i.jsx(re,{children:i.jsx(Te,{value:u,onChange:y=>d(y.target.value),placeholder:"Explain your engineering reasoning for the selected failure modes...",rows:4})})]}),i.jsx("div",{className:"flex justify-center",children:i.jsx(H,{onClick:b,disabled:f,size:"lg",className:"px-8",children:f?"Processing...":"Confirm Hypotheses & Generate Evidence Requirements"})})]})}function I0e({incidentId:e,aiHypotheses:t,onConfirmationComplete:n}){const[r,a]=N.useState(Object.fromEntries(t.map(y=>[y.id,"pending"]))),[s,o]=N.useState([]),[l,c]=N.useState(""),[u,d]=N.useState(!1),{toast:f}=Cn(),p=(y,w)=>{a(j=>({...j,[y]:w}))},h=()=>{l.trim()&&(o(y=>[...y,l.trim()]),c(""),f({title:"Custom Hypothesis Added",description:"Your additional failure mode hypothesis has been recorded."}))},x=y=>{o(w=>w.filter((j,S)=>S!==y))},m=()=>{const y=t.filter(S=>r[S.id]==="agreed"),w=y.length>0,j=s.length>0;if(!w&&!j){f({title:"No Hypotheses Selected",description:"Please agree with at least one AI hypothesis or add a custom hypothesis to proceed.",variant:"destructive"});return}d(!0),console.log(`[HUMAN CONFIRMATION FLOW] Investigator confirmed ${y.length} AI hypotheses`),console.log(`[HUMAN CONFIRMATION FLOW] Investigator added ${s.length} custom hypotheses`),console.log("[HUMAN CONFIRMATION FLOW] Proceeding to Step 5: Evidence Collection Interface"),n(y,s)},g=Object.values(r).filter(y=>y==="pending").length,b=Object.values(r).filter(y=>y==="agreed").length,v=Object.values(r).filter(y=>y==="disagreed").length;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 p-4 rounded-lg border border-blue-200 dark:border-blue-800",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(on,{className:"h-5 w-5 text-blue-600"}),i.jsx("h2",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100",children:"Step 4: Human Confirmation Flow"})]}),i.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:"Review AI-generated POTENTIAL causes before evidence collection. Agree, disagree, or add your own hypotheses."}),i.jsxs("div",{className:"flex gap-4 mt-3",children:[i.jsxs(ne,{variant:"outline",className:"text-green-700 border-green-300",children:[" Agreed: ",b]}),i.jsxs(ne,{variant:"outline",className:"text-red-700 border-red-300",children:[" Disagreed: ",v]}),i.jsxs(ne,{variant:"outline",className:"text-gray-700 border-gray-300",children:[" Pending: ",g]}),s.length>0&&i.jsxs(ne,{variant:"outline",className:"text-purple-700 border-purple-300",children:[" Custom: ",s.length]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-md font-medium flex items-center gap-2",children:[i.jsx(on,{className:"h-4 w-4"}),"AI-Generated POTENTIAL Causes (",t.length,")"]}),t.map((y,w)=>i.jsxs(ee,{className:`border-2 ${r[y.id]==="agreed"?"border-green-200 bg-green-50 dark:bg-green-950":r[y.id]==="disagreed"?"border-red-200 bg-red-50 dark:bg-red-950":"border-gray-200"}`,children:[i.jsx(ae,{children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsxs(se,{className:"text-lg flex items-center gap-2",children:[i.jsx(ne,{variant:"outline",className:"text-xs",children:"AI Generated"}),y.failureMode]}),i.jsxs(yt,{className:"mt-1",children:["Confidence: ",y.confidence,"% | ",y.faultSignature]})]}),i.jsxs(ne,{variant:"secondary",children:[y.confidence,"%"]})]})}),i.jsx(re,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{children:i.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:y.description.split(" | AI Reasoning: ")[0]})}),i.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 p-3 rounded border",children:[i.jsx("p",{className:"text-xs font-medium text-blue-800 dark:text-blue-200 mb-1",children:"AI Reasoning:"}),i.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:y.aiReasoning})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Required Evidence:"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:y.requiredEvidence.map((j,S)=>i.jsx(ne,{variant:"outline",className:"text-xs",children:j},S))})]}),i.jsxs("div",{className:"flex gap-2 pt-2",children:[i.jsxs(H,{size:"sm",variant:r[y.id]==="agreed"?"default":"outline",onClick:()=>p(y.id,"agreed"),className:"flex items-center gap-1",children:[i.jsx(Yt,{className:"h-4 w-4"}),"Agree"]}),i.jsxs(H,{size:"sm",variant:r[y.id]==="disagreed"?"destructive":"outline",onClick:()=>p(y.id,"disagreed"),className:"flex items-center gap-1",children:[i.jsx($d,{className:"h-4 w-4"}),"Disagree"]})]})]})})]},y.id))]}),i.jsxs(ee,{children:[i.jsxs(ae,{children:[i.jsxs(se,{className:"text-md flex items-center gap-2",children:[i.jsx(Un,{className:"h-4 w-4"}),"Add Custom Hypothesis"]}),i.jsx(yt,{children:"Add your own failure mode hypothesis based on your engineering expertise"})]}),i.jsxs(re,{children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx(Te,{placeholder:"Describe your additional failure mode hypothesis...",value:l,onChange:y=>c(y.target.value),rows:3}),i.jsxs(H,{onClick:h,disabled:!l.trim(),className:"flex items-center gap-1",children:[i.jsx(Un,{className:"h-4 w-4"}),"Add Hypothesis"]})]}),s.length>0&&i.jsxs("div",{className:"mt-4 space-y-2",children:[i.jsx("p",{className:"text-sm font-medium",children:"Your Custom Hypotheses:"}),s.map((y,w)=>i.jsxs("div",{className:"flex items-center justify-between bg-purple-50 dark:bg-purple-950 p-2 rounded border",children:[i.jsx("span",{className:"text-sm",children:y}),i.jsx(H,{size:"sm",variant:"ghost",onClick:()=>x(w),children:i.jsx($d,{className:"h-4 w-4"})})]},w))]})]})]}),i.jsx("div",{className:"flex justify-end pt-4",children:i.jsx(H,{onClick:m,disabled:u,size:"lg",className:"flex items-center gap-2",children:u?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Processing..."]}):i.jsxs(i.Fragment,{children:["Proceed to Evidence Collection",i.jsx(xt,{className:"h-4 w-4"})]})})})]})}function R0e(){var z;const[,e]=Xr(),[t,n]=N.useState(null),[r,a]=N.useState([]),[s,o]=N.useState([]),[l,c]=N.useState(null),[u,d]=N.useState(!1),[f,p]=N.useState(0),[h,x]=N.useState(!1),[m,g]=N.useState(null),[b,v]=N.useState(!1);N.useState([]);const[y,w]=N.useState({}),[j,S]=N.useState([]),[C,E]=N.useState(""),[k,$]=N.useState(!1),[O,T]=N.useState("initial"),[P,I]=N.useState([]),[D,R]=N.useState([]),[V,q]=N.useState([]),{toast:B}=Cn();N.useEffect(()=>{const L=new URLSearchParams(window.location.search).get("incident");L&&n(parseInt(L))},[]);const{data:W,isLoading:Z}=Ye({queryKey:["/api/incidents",t],enabled:!!t}),te=Je({mutationFn:async A=>{console.log("[UNIVERSAL RCA INSTRUCTION] STEP 2: Generating AI hypotheses for human confirmation"),console.log(`[AI HYPOTHESIS GENERATOR] Incident: "${A.symptomDescription||A.title}"`);const L=await fetch(`/api/incidents/${A.id}/generate-ai-hypotheses`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!L.ok)throw new Error(`Failed to generate AI hypotheses: ${L.status}`);return await L.json()},onSuccess:A=>{var L,M;console.log(`[AI HYPOTHESIS GENERATOR] Generated ${((L=A.aiHypotheses)==null?void 0:L.length)||0} hypotheses for human confirmation`),I(A.aiHypotheses||[]),T("human-confirmation"),B({title:"AI Analysis Complete",description:`Generated ${((M=A.aiHypotheses)==null?void 0:M.length)||0} potential causes for your review`})},onError:A=>{console.error("[AI HYPOTHESIS GENERATOR] Error:",A),B({title:"AI Analysis Failed",description:"Failed to generate AI hypotheses. Please try again.",variant:"destructive"})}}),fe=Je({mutationFn:async({confirmedHypotheses:A,customHypotheses:L})=>{console.log("[UNIVERSAL RCA INSTRUCTION] STEP 5: Generating evidence checklist from confirmed hypotheses");const M=await fetch(`/api/incidents/${t}/generate-evidence-checklist`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({confirmedHypotheses:A,customHypotheses:L})});if(!M.ok)throw new Error(`Failed to generate evidence checklist: ${M.status}`);return await M.json()},onSuccess:A=>{var L,M;console.log(`[EVIDENCE COLLECTION] Generated ${((L=A.evidenceItems)==null?void 0:L.length)||0} evidence items from confirmed hypotheses`),a(A.evidenceItems||[]),T("evidence-collection"),B({title:"Evidence Collection Ready",description:`Generated ${((M=A.evidenceItems)==null?void 0:M.length)||0} evidence requirements based on your confirmed hypotheses`})},onError:A=>{console.error("[EVIDENCE COLLECTION] Error:",A),B({title:"Evidence Generation Failed",description:"Failed to generate evidence checklist. Please try again.",variant:"destructive"})}}),Ae=(A,L)=>{console.log("[HUMAN CONFIRMATION FLOW] Human confirmation completed"),console.log(`[HUMAN CONFIRMATION FLOW] Confirmed: ${A.length}, Custom: ${L.length}`),R(A),q(L),T("ai-generating"),fe.mutate({confirmedHypotheses:A,customHypotheses:L})},He=Je({mutationFn:async A=>{const L=await fetch(`/api/incidents/${A.id}/generate-evidence-checklist-legacy`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!L.ok)throw new Error(`Failed to generate legacy checklist: ${L.status}`);return await L.json()},onSuccess:A=>{var L;if(console.log("Incident-only evidence checklist generated:",A),A&&A.evidenceItems)if(a(A.evidenceItems),console.log(`[INCIDENT-ONLY EVIDENCE] Generated ${A.evidenceItems.length} symptom-based evidence items`),A.fallbackAnalysis&&A.fallbackAnalysis.inferredFailureModes)console.log("[FALLBACK LOGIC] Evidence Library confidence LOW - showing AI-inferred failure modes"),g({extractedSymptoms:A.fallbackAnalysis.inferredFailureModes.map(M=>({keyword:M.failureMode,confidence:M.confidence,context:M.reasoning})),aiHypotheses:A.fallbackAnalysis.inferredFailureModes.map(M=>({id:M.id||(()=>{const G=new Date().getTime(),J=G%1e4;return`fallback-${G}-${J}`})(),hypothesis:M.failureMode,reasoning:M.reasoning,aiConfidence:M.confidence,confidenceSource:M.confidenceSource||"AI-Inferred"})),fallbackMode:!0,generationMethod:A.generationMethod}),v(!0);else if(A.backwardCompatible||A.generationMethod==="legacy-compatibility")console.log("[BACKWARD COMPATIBILITY] Legacy evidence generation completed"),a(A.evidenceItems),v(!1),$(!1);else if(A.universalRCAFlow&&((L=A.aiAnalysis)!=null&&L.aiHypotheses))console.log("[Universal RCA] Showing hypothesis review interface"),g(A.aiAnalysis),$(!0);else if(A.aiAnalysis){let M=[];A.aiAnalysis.aiHypotheses&&Array.isArray(A.aiAnalysis.aiHypotheses)&&(M=A.aiAnalysis.aiHypotheses.map((G,J)=>({...G,id:G.id||`hypothesis-${new Date().getTime()}-${J}`}))),g({...A.aiAnalysis,aiHypotheses:M}),v(A.requiresHumanVerification||!1),console.log("[INCIDENT-ONLY EVIDENCE] AI analysis ready for human verification"),console.log("Hypotheses with IDs:",M),console.log("Full AI analysis:",A.aiAnalysis)}else a(A.evidenceItems);else console.error("Invalid incident-only evidence format:",A),a([]);d(!1)},onError:A=>{console.error("Failed to generate evidence checklist:",A),d(!1)}}),ze=Je({mutationFn:async A=>gt(`/api/incidents/${A.incidentId}/evidence-progress`,{method:"PUT",body:JSON.stringify({currentStep:3,workflowStatus:"evidence_checklist_complete",evidenceChecklist:A.evidenceItems})})});N.useEffect(()=>{W&&typeof W=="object"&&"id"in W&&O==="initial"&&(console.log(`[UNIVERSAL RCA INSTRUCTION] Starting Universal RCA workflow for incident ${W.id}`),!W.symptomDescription||W.symptomDescription.trim().length<20||W.workflowStatus==="equipment_selected"?(console.log(`[BACKWARD COMPATIBILITY] Using legacy workflow for incident ${W.id}`),d(!0),He.mutate(W)):(console.log("[UNIVERSAL RCA INSTRUCTION] STEP 2: Starting AI hypothesis generation"),T("ai-generating"),te.mutate(W)))},[W,O]),N.useEffect(()=>{if(r&&Array.isArray(r)&&r.length>0){const A=r.filter(M=>{var G;return M.completed||M.isUnavailable&&((G=M.unavailableReason)==null?void 0:G.trim())}).length,L=Math.round(A/r.length*100);p(L)}},[r]);const xe=(A,L)=>{a(M=>M.map(G=>G.id===A?{...G,completed:L}:G))},Re=(A,L)=>{a(M=>M.map(G=>G.id===A?{...G,notes:L}:G))},le=(A,L)=>{a(M=>M.map(G=>G.id===A?{...G,files:[...G.files||[],...L],completed:!0}:G))},ce=(A,L)=>{a(M=>M.map(G=>G.id===A?{...G,files:(G.files||[]).filter((J,oe)=>oe!==L)}:G))},me=(A,L,M)=>{a(G=>G.map(J=>J.id===A?{...J,isUnavailable:L,unavailableReason:M||"",completed:L&&(M!=null&&M.trim())?!0:J.completed,files:L?[]:J.files}:J))},Y=()=>{t&&r.length>0&&ze.mutate({incidentId:t,evidenceItems:r},{onSuccess:()=>{e(`/evidence-collection?incident=${t}`)}})},Ie=(r==null?void 0:r.filter(A=>A.priority==="Critical"))||[],Ne=(r==null?void 0:r.filter(A=>A.priority==="High"))||[],Q=(r==null?void 0:r.filter(A=>A.priority==="Medium"))||[],de=(r==null?void 0:r.filter(A=>A.priority==="Low"))||[],ye=Ie.filter(A=>{var L;return A.completed||A.isUnavailable&&((L=A.unavailableReason)==null?void 0:L.trim())||A.files&&A.files.length>0}),Fe=Ne.filter(A=>{var L;return A.completed||A.isUnavailable&&((L=A.unavailableReason)==null?void 0:L.trim())||A.files&&A.files.length>0}),Be=Math.floor(Ne.length*.8)+(Ne.length*.8%1>0?1:0),wt=ye.length===Ie.length&&Fe.length>=Be;if(console.log(`[EVIDENCE PROGRESS] Critical: ${ye.length}/${Ie.length}, High: ${Fe.length}/${Ne.length} (need ${Be}), Can Proceed: ${wt}`),!wt&&r.length>0){console.log("[EVIDENCE PROGRESS] Blocking items:"),Ie.forEach(L=>{var M;!L.completed&&!(L.isUnavailable&&((M=L.unavailableReason)!=null&&M.trim()))&&console.log(`- Critical item "${L.title}" not completed`)});const A=Be-Fe.length;A>0&&console.log(`- Need ${A} more high priority items completed`)}return Z||!W?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(on,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),i.jsx("p",{children:"Loading incident details..."})]})}):i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("header",{className:"bg-card shadow-sm border-b border-border",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between items-center h-16",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(H,{variant:"ghost",onClick:()=>e("/"),children:" Back to Home"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("img",{src:"/quanntaum-logo.jpg",alt:"Quanntaum Logo",className:"h-5 w-5 rounded object-contain"}),i.jsx("h1",{className:"text-xl font-bold",children:"Step 3: AI Evidence Checklist"})]})]}),i.jsxs(ne,{variant:"outline",className:"text-sm",children:["Incident #",W==null?void 0:W.id]})]})})}),i.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsx(ee,{className:"mb-8",children:i.jsxs(ae,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(vn,{className:"h-5 w-5"}),W==null?void 0:W.title]}),i.jsxs(yt,{children:["Equipment: ",W==null?void 0:W.equipmentGroup,"  ",W==null?void 0:W.equipmentType," (",W==null?void 0:W.equipmentId,")"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-2xl font-bold text-primary",children:[f,"%"]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Complete"})]})]}),i.jsx(Gc,{value:f,className:"mt-4"})]})}),O==="ai-generating"&&i.jsxs(ee,{className:"mb-8",children:[i.jsxs(ae,{children:[i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(on,{className:"h-5 w-5 animate-spin"}),"Step 2: AI Hypothesis Generation"]}),i.jsx(yt,{children:"AI is analyzing the incident and generating potential causes using GPT..."})]}),i.jsx(re,{children:i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Generating AI-driven POTENTIAL causes"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"STRICT RULE: NO HARD CODING"})]})})})]}),O==="human-confirmation"&&P.length>0&&i.jsx("div",{className:"mb-8",children:i.jsx(I0e,{incidentId:t,aiHypotheses:P,onConfirmationComplete:Ae})}),O==="evidence-collection"&&r.length>0&&i.jsx("div",{className:"mb-8",children:i.jsx(ee,{children:i.jsxs(ae,{children:[i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(Yt,{className:"h-5 w-5 text-green-600"}),"Step 5: Evidence Collection Interface"]}),i.jsx(yt,{children:"Collect evidence for confirmed hypotheses based on human verification"})]})})}),k&&(m==null?void 0:m.aiHypotheses)&&i.jsx(T0e,{incidentId:t,aiHypotheses:m.aiHypotheses,instructions:m.instructions||"Review AI-generated failure hypotheses and select which ones to investigate further",onHypothesesConfirmed:A=>{console.log("[Universal RCA] Hypotheses confirmed, received evidence:",A),a(A),$(!1),B({title:"Hypotheses Confirmed",description:"Evidence collection requirements generated for confirmed failure modes"})}}),b&&m&&!k&&i.jsxs(ee,{className:"mb-6 border-orange-200 bg-orange-50",children:[i.jsxs(ae,{children:[i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(on,{className:"h-5 w-5 text-orange-600"}),m!=null&&m.fallbackMode?"AI-Inferred Analysis (Low Confidence)":"Human Verification Required"]}),i.jsx(yt,{children:m!=null&&m.fallbackMode?"Evidence Library confidence LOW. AI has inferred potential failure modes using engineering knowledge. INVESTIGATOR VERIFICATION REQUIRED.":"AI has analyzed the incident description and generated hypotheses. Please review and approve before proceeding."}),(m==null?void 0:m.fallbackMode)&&i.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-yellow-800 text-sm",children:[i.jsx("strong",{children:"FALLBACK LOGIC ACTIVE:"})," No high-confidence Evidence Library matches found. Analysis based on AI engineering inference only."]})]}),i.jsx(re,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:"Extracted Symptoms:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:(z=m.extractedSymptoms)==null?void 0:z.map((A,L)=>i.jsxs(ne,{variant:"outline",className:m.fallbackMode?"bg-yellow-50":"bg-blue-50",children:[A.keyword," (",A.confidence,"% ",m.fallbackMode?"AI-inferred":"confidence",")"]},L))})]}),m.aiHypotheses&&Array.isArray(m.aiHypotheses)&&m.aiHypotheses.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:m!=null&&m.fallbackMode?"AI-Inferred Failure Modes (Review Required):":"AI Failure Hypotheses (Review Required):"}),i.jsx("div",{className:"space-y-3",children:m.aiHypotheses.map((A,L)=>i.jsxs("div",{className:"p-3 border rounded-lg bg-white",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h5",{className:"font-medium",children:A.hypothesis}),i.jsxs(ne,{variant:A.aiConfidence>80?"default":"secondary",children:[A.aiConfidence,"% ",A.confidenceSource||"AI Confidence"]})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:A.reasoning}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(H,{size:"sm",variant:y[A.id]==="accept"?"default":"outline",className:"text-green-600 hover:bg-green-50",onClick:M=>{M.preventDefault(),console.log("Accept clicked for hypothesis:",A.id,A),w(G=>{const J={...G,[A.id]:"accept"};return console.log("Updated feedback state:",J),J})},children:" Accept"}),i.jsx(H,{size:"sm",variant:y[A.id]==="reject"?"default":"outline",className:"text-red-600 hover:bg-red-50",onClick:M=>{M.preventDefault(),console.log("Reject clicked for hypothesis:",A.id,A),w(G=>{const J={...G,[A.id]:"reject"};return console.log("Updated feedback state:",J),J})},children:" Reject"}),i.jsx(H,{size:"sm",variant:y[A.id]==="modify"?"default":"outline",className:"text-blue-600 hover:bg-blue-50",onClick:M=>{M.preventDefault(),console.log("Modify clicked for hypothesis:",A.id,A),w(G=>{const J={...G,[A.id]:"modify"};return console.log("Updated feedback state:",J),J})},children:" Modify"})]})]},A.id||L))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-2",children:"Add Custom Failure Modes (Optional):"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",value:C,onChange:A=>E(A.target.value),placeholder:"Enter custom failure mode based on your experience",className:"flex-1 px-3 py-2 border rounded-md text-sm"}),i.jsx(H,{size:"sm",onClick:()=>{C.trim()&&(S(A=>[...A,C.trim()]),E(""))},disabled:!C.trim(),children:"Add"})]}),j.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2",children:j.map((A,L)=>i.jsxs(ne,{variant:"secondary",className:"bg-green-50",children:[A,i.jsx("button",{className:"ml-1 text-red-500 hover:text-red-700",onClick:()=>S(M=>M.filter((G,J)=>J!==L)),children:""})]},L))})]})]}),i.jsxs("div",{className:"pt-4 border-t",children:[i.jsx(H,{onClick:async()=>{var M,G;const A=((M=m==null?void 0:m.aiHypotheses)==null?void 0:M.filter(J=>y[J.id]==="accept").map(J=>J.hypothesis))||[],L=((G=m==null?void 0:m.aiHypotheses)==null?void 0:G.filter(J=>y[J.id]==="reject").map(J=>J.hypothesis))||[];if(m!=null&&m.fallbackMode)try{const J=await fetch(`/api/incidents/${t}/fallback-feedback`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({confirmedCauses:A,disagreedCauses:L,alternativeCauses:[],customFailureModes:j,userReasoning:"User feedback on AI-inferred failure modes"})});if(J.ok){const oe=await J.json();console.log("[FALLBACK LOGIC] Feedback submitted successfully:",oe),v(!1)}}catch(J){console.error("[FALLBACK LOGIC] Failed to submit feedback:",J)}else v(!1),console.log("[HUMAN VERIFICATION] User proceeding with incident-only analysis")},className:"w-full",disabled:(m==null?void 0:m.aiHypotheses)&&m.aiHypotheses.length>0&&Object.keys(y).length===0&&j.length===0,children:m!=null&&m.fallbackMode?"Submit Investigator Feedback":"Proceed with Verified Hypotheses"}),i.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:m!=null&&m.fallbackMode?"Your feedback helps improve future analysis and may be reviewed for Evidence Library enhancement":"Please provide feedback on at least one hypothesis to continue"})]})]})})]}),u&&i.jsxs(Qt,{className:"mb-6",children:[i.jsx(on,{className:"h-4 w-4 animate-spin"}),i.jsxs(Xt,{children:[i.jsx("strong",{children:"Incident-Only AI Analysis:"})," Extracting symptoms from incident description (no equipment assumptions)..."]})]}),r.length>0&&i.jsxs(Qt,{className:"mb-6 border-blue-200 bg-blue-50",children:[i.jsx($T,{className:"h-4 w-4"}),i.jsxs(Xt,{children:[i.jsx("strong",{children:"AI Incident Analysis:"})," Based on the incident description, our AI has identified ",(r==null?void 0:r.length)||0," evidence items. Focus on completing all Critical items and at least 80% of High priority items.",l&&i.jsxs("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded text-green-800",children:[i.jsx("strong",{children:"Elimination Analysis:"})," Professional engineering logic eliminated ",l.totalEliminated," failure modes, providing +",l.confidenceBoost,"% confidence boost to focus investigation on primary causes."]})]})]}),s.length>0&&i.jsxs(ee,{className:"mb-6 border-orange-200 bg-orange-50",children:[i.jsxs(ae,{className:"pb-3",children:[i.jsxs(se,{className:"flex items-center justify-between text-orange-800",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xt,{className:"h-5 w-5"}),"Eliminated Failure Modes (",s.length,")"]}),i.jsxs(H,{variant:"ghost",size:"sm",onClick:()=>x(!h),className:"text-orange-700 hover:text-orange-900",children:[h?"Hide":"Show"," Details"]})]}),i.jsx(yt,{className:"text-orange-700",children:"These failure modes were automatically eliminated by engineering logic and do not require evidence collection."})]}),h&&i.jsx(re,{className:"pt-0",children:i.jsx("div",{className:"space-y-3",children:s.map(A=>i.jsx("div",{className:"p-3 bg-white rounded border border-orange-200 opacity-75",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium text-gray-600 line-through",children:A.title}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:A.description}),A.eliminationReason&&i.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded text-xs text-gray-600",children:[i.jsx("strong",{children:"Eliminated:"})," ",A.eliminationReason]})]}),i.jsx(ne,{variant:"secondary",className:"ml-2 bg-orange-100 text-orange-800",children:"Eliminated"})]})},A.id))})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[Ie.length>0&&i.jsxs(ee,{className:"border-red-200",children:[i.jsxs(ae,{children:[i.jsxs(se,{className:"flex items-center gap-2 text-red-700",children:[i.jsx(xt,{className:"h-5 w-5"}),"Critical Evidence (",Ie.filter(A=>{var L;return A.completed||A.isUnavailable&&((L=A.unavailableReason)==null?void 0:L.trim())}).length,"/",Ie.length,")"]}),i.jsx(yt,{children:"Required for accurate analysis"})]}),i.jsx(re,{className:"space-y-4",children:Ie.map(A=>i.jsx(Jp,{item:A,onToggle:xe,onNotesUpdate:Re,onFileUpload:le,onFileRemove:ce,onUnavailabilityChange:me},A.id))})]}),Ne.length>0&&i.jsxs(ee,{className:"border-orange-200",children:[i.jsxs(ae,{children:[i.jsxs(se,{className:"flex items-center gap-2 text-orange-700",children:[i.jsx(xt,{className:"h-5 w-5"}),"High Priority Evidence (",Ne.filter(A=>{var L;return A.completed||A.isUnavailable&&((L=A.unavailableReason)==null?void 0:L.trim())}).length,"/",Ne.length,")"]}),i.jsx(yt,{children:"Complete at least 80% for optimal analysis"})]}),i.jsx(re,{className:"space-y-4",children:Ne.map(A=>i.jsx(Jp,{item:A,onToggle:xe,onNotesUpdate:Re,onFileUpload:le,onFileRemove:ce,onUnavailabilityChange:me},A.id))})]}),Q.length>0&&i.jsxs(ee,{className:"border-yellow-200",children:[i.jsxs(ae,{children:[i.jsxs(se,{className:"flex items-center gap-2 text-yellow-700",children:[i.jsx(vn,{className:"h-5 w-5"}),"Medium Priority Evidence (",Q.filter(A=>{var L;return A.completed||A.isUnavailable&&((L=A.unavailableReason)==null?void 0:L.trim())}).length,"/",Q.length,")"]}),i.jsx(yt,{children:"Helpful for comprehensive analysis"})]}),i.jsx(re,{className:"space-y-4",children:Q.map(A=>i.jsx(Jp,{item:A,onToggle:xe,onNotesUpdate:Re,onFileUpload:le,onFileRemove:ce,onUnavailabilityChange:me},A.id))})]}),de.length>0&&i.jsxs(ee,{className:"border-green-200",children:[i.jsxs(ae,{children:[i.jsxs(se,{className:"flex items-center gap-2 text-green-700",children:[i.jsx(vn,{className:"h-5 w-5"}),"Additional Evidence (",de.filter(A=>{var L;return A.completed||A.isUnavailable&&((L=A.unavailableReason)==null?void 0:L.trim())}).length,"/",de.length,")"]}),i.jsx(yt,{children:"Optional but valuable context"})]}),i.jsx(re,{className:"space-y-4",children:de.map(A=>i.jsx(Jp,{item:A,onToggle:xe,onNotesUpdate:Re,onFileUpload:le,onFileRemove:ce,onUnavailabilityChange:me},A.id))})]})]}),i.jsxs("div",{className:"mt-8 flex justify-between",children:[i.jsx(H,{variant:"outline",onClick:()=>e(`/equipment-selection?incident=${t}`),children:" Back to Equipment Selection"}),i.jsx(H,{onClick:Y,disabled:!wt||ze.isPending,className:"flex items-center gap-2",children:ze.isPending?i.jsxs(i.Fragment,{children:[i.jsx(on,{className:"h-4 w-4 animate-spin"}),"Saving Progress..."]}):i.jsxs(i.Fragment,{children:["Proceed to Evidence Collection",i.jsx(Yf,{className:"h-4 w-4"})]})})]}),!wt&&r.length>0&&i.jsxs(Qt,{className:"mt-4 border-amber-200 bg-amber-50",children:[i.jsx(xt,{className:"h-4 w-4"}),i.jsxs(Xt,{children:[i.jsx("strong",{children:"Requirements to Proceed:"}),i.jsx("br",{})," Critical Items: ",ye.length,"/",Ie.length," completed ",Ie.length>0&&ye.length<Ie.length?"(Missing items need to be completed or marked unavailable)":"",i.jsx("br",{})," High Priority Items: ",Fe.length,"/",Ne.length," completed (need ",Be,") ",Fe.length>=Be?"":`(Need ${Be-Fe.length} more)`,i.jsx("br",{}),i.jsx("em",{children:"Tip: After uploading files, make sure to check the completion checkbox for each evidence item."})]})]})]})]})}function Jp({item:e,onToggle:t,onNotesUpdate:n,onFileUpload:r,onFileRemove:a,onUnavailabilityChange:s}){const[o,l]=N.useState(e.unavailableReason||""),{getRootProps:c,getInputProps:u,isDragActive:d}=CN({onDrop:f=>{f.length>0&&r(e.id,f)},accept:{"application/pdf":[".pdf"],"application/vnd.ms-excel":[".xls"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"],"text/csv":[".csv"],"image/*":[".png",".jpg",".jpeg"],"text/plain":[".txt"]},maxFiles:5,disabled:e.isUnavailable});return i.jsx("div",{className:`p-4 border rounded-lg ${e.isUnavailable?"bg-orange-50 border-orange-200":e.completed?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(vr,{checked:e.completed,onCheckedChange:f=>t(e.id,!!f),className:"mt-1",disabled:e.isUnavailable}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("h4",{className:"font-medium",children:e.title}),i.jsx(ne,{variant:e.priority==="Critical"?"destructive":e.priority==="High"?"default":e.priority==="Medium"?"secondary":"outline",children:e.priority}),e.aiGenerated&&i.jsxs(ne,{variant:"outline",className:"text-xs",children:[i.jsx(on,{className:"h-3 w-3 mr-1"}),"AI Generated"]}),e.isUnavailable&&i.jsx(ne,{variant:"outline",className:"bg-orange-100 border-orange-300 text-orange-800 text-xs",children:"Not Available"})]}),i.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:e.description}),e.examples&&e.examples.length>0&&i.jsxs("div",{className:"mb-3",children:[i.jsx(ve,{className:"text-xs font-medium text-muted-foreground",children:"Examples:"}),i.jsx("ul",{className:"text-xs text-muted-foreground mt-1 ml-4",children:e.examples.map((f,p)=>i.jsx("li",{className:"list-disc",children:f},p))})]}),i.jsx("div",{className:"mb-3 border rounded-lg p-3 bg-orange-50 border-orange-200",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(vr,{id:`unavailable-${e.id}`,checked:e.isUnavailable||!1,onCheckedChange:f=>{s(e.id,f,o)}}),i.jsxs("div",{className:"flex-1",children:[i.jsxs(ve,{htmlFor:`unavailable-${e.id}`,className:"text-xs font-medium cursor-pointer flex items-center gap-2",children:[i.jsx(Ki,{className:"h-3 w-3 text-orange-600"}),"This evidence is not available or accessible"]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Check this if you cannot access this type of evidence due to system limitations, time constraints, or data availability"}),e.isUnavailable&&i.jsxs("div",{className:"mt-2",children:[i.jsx(ve,{htmlFor:`reason-${e.id}`,className:"text-xs font-medium",children:"Why is this evidence unavailable? *"}),i.jsx(Te,{id:`reason-${e.id}`,placeholder:"e.g., 'DCS system not recording vibration data', 'No maintenance logs available for this equipment', 'System shutdown - no trending data captured'...",value:o,onChange:f=>{l(f.target.value),s(e.id,!0,f.target.value)},className:"mt-1 text-xs",rows:2,required:!0})]})]})]})}),!e.isUnavailable&&i.jsxs("div",{className:"mb-3",children:[i.jsx(ve,{className:"text-xs font-medium",children:"Upload Evidence Files"}),i.jsxs("div",{...c(),className:`mt-1 border-2 border-dashed rounded-lg p-3 text-center transition-colors cursor-pointer ${d?"border-primary bg-primary/5":"border-gray-300 hover:border-primary/50"}`,children:[i.jsx("input",{...u()}),i.jsx(Po,{className:"h-6 w-6 mx-auto mb-2 text-gray-400"}),i.jsx("p",{className:"text-xs text-gray-600",children:d?"Drop files here":"Drag files or click to browse"}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"PDF, Excel, CSV, Images, Text files"})]})]}),!e.isUnavailable&&e.files&&e.files.length>0&&i.jsxs("div",{className:"mb-3",children:[i.jsxs(ve,{className:"text-xs font-medium",children:["Uploaded Files (",e.files.length,")"]}),i.jsx("div",{className:"mt-1 space-y-1",children:e.files.map((f,p)=>i.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-100 rounded text-xs",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(vn,{className:"h-3 w-3"}),f.name," (",(f.size/1024).toFixed(1)," KB)"]}),i.jsx(H,{variant:"ghost",size:"sm",onClick:()=>a(e.id,p),className:"h-6 w-6 p-0 text-gray-500 hover:text-red-500",children:i.jsx(yc,{className:"h-3 w-3"})})]},p))})]}),i.jsxs("div",{children:[i.jsx(ve,{className:"text-xs font-medium",children:"Notes (optional)"}),i.jsx(Te,{placeholder:"Add notes about this evidence item...",value:e.notes||"",onChange:f=>n(e.id,f.target.value),className:"mt-1 text-sm",rows:2})]})]})]})})}function d_(){const[,e]=Xr(),{toast:t}=Cn();N.useState(null);const[n,r]=N.useState({}),[a,s]=N.useState({}),l=new URLSearchParams(window.location.search).get("incident"),{data:c,isLoading:u}=Ye({queryKey:["/api/incidents",l],enabled:!!l}),{data:d=[],isLoading:f,refetch:p}=Ye({queryKey:["/api/incidents",l,"evidence-files"],enabled:!!l,refetchOnWindowFocus:!0,refetchInterval:parseInt("3000")}),h=Je({mutationFn:async v=>(console.log("[REVIEW ACTION] Submitting:",v),await gt(`/api/incidents/${l}/review-evidence`,{method:"POST",body:JSON.stringify(v)})),onSuccess:v=>{console.log("[REVIEW ACTION] Success:",v),p(),Dt.invalidateQueries({queryKey:["/api/incidents",l,"evidence-files"]}),t({title:"Review Submitted",description:"Evidence file review status updated successfully"});const y=v,{fileId:w,action:j}=(y==null?void 0:y.data)||{};w&&j&&s(S=>({...S,[w]:j}))},onError:v=>{console.error("[REVIEW ACTION] Error:",v),t({title:"Error",description:v.message||"Failed to submit review",variant:"destructive"})}}),x=Array.isArray(d)&&d.length>0&&d.every(v=>{const y=a[v.id]||v.reviewStatus;return y==="ACCEPTED"||y==="REPLACED"}),m=Array.isArray(d)?d.filter(v=>{const y=a[v.id]||v.reviewStatus;return y==="ACCEPTED"||y==="REPLACED"}).length:0,g=(v,y,w)=>{if(console.log("[CHECKBOX REVIEW] Checkbox changed:",{fileId:v,action:y,checked:w}),w){if(h.isPending){console.log("[CHECKBOX REVIEW] Already pending, ignoring click"),t({title:"Please Wait",description:"Review submission in progress...",variant:"default"});return}s(S=>({...S,[v]:y}));const j=n[v]||"";console.log("[CHECKBOX REVIEW] Submitting with comments:",j),h.mutate({fileId:v,action:y,comments:j})}else s(j=>({...j,[v]:"UNREVIEWED"}))},b=()=>{x?e(`/ai-analysis?incident=${l}`):t({title:"Review Required",description:`Please review all evidence files (${m}/${Array.isArray(d)?d.length:0} completed) before proceeding to AI analysis`,variant:"destructive"})};return l?u||f?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg font-medium text-slate-900",children:"Loading evidence files..."}),i.jsx("div",{className:"text-sm text-slate-600 mt-2",children:"Preparing human review panel..."})]})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(fn,{href:"/",children:i.jsx(H,{variant:"outline",size:"sm",children:" Back to Home"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Stage 3B & 4B: Human Review Panel"}),i.jsx("p",{className:"text-slate-600",children:"Review and confirm all uploaded evidence files before AI analysis"})]})]}),i.jsxs(ne,{variant:"secondary",className:"text-sm",children:["Incident #",l]})]}),i.jsxs(ee,{className:"mb-8",children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(Oo,{className:"h-5 w-5 text-blue-600"}),"Review Progress"]})}),i.jsx(re,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-2xl font-bold text-slate-900",children:[m,i.jsxs("span",{className:"text-slate-500",children:["/",Array.isArray(d)?d.length:0]})]}),i.jsx("div",{className:"text-sm text-slate-600",children:"Files Reviewed"})]}),x?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Yt,{className:"h-5 w-5 text-green-600"}),i.jsx("span",{className:"text-green-600 font-medium",children:"All Files Reviewed"}),i.jsx(H,{onClick:b,className:"ml-4",children:"Proceed to AI Analysis "})]}):i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xt,{className:"h-5 w-5 text-amber-600"}),i.jsx("span",{className:"text-amber-600 font-medium",children:"Review Required"})]})]})})]}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Array.isArray(d)&&d.map(v=>i.jsxs(ee,{className:`transition-all ${v.reviewStatus==="ACCEPTED"?"border-green-300 bg-green-50":v.reviewStatus==="REPLACED"?"border-blue-300 bg-blue-50":v.reviewStatus==="NEEDS_MORE_INFO"?"border-amber-300 bg-amber-50":"border-slate-300"}`,children:[i.jsxs(ae,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(se,{className:"flex items-center gap-2 text-sm",children:[i.jsx(vn,{className:"h-4 w-4"}),v.fileName]}),i.jsx(ne,{variant:v.reviewStatus==="ACCEPTED"?"default":v.reviewStatus==="REPLACED"?"secondary":v.reviewStatus==="NEEDS_MORE_INFO"?"destructive":"outline",className:v.reviewStatus==="ACCEPTED"?"bg-green-600 text-white":v.reviewStatus==="REPLACED"?"bg-blue-600 text-white":v.reviewStatus==="NEEDS_MORE_INFO"?"bg-amber-600 text-white":"bg-gray-200 text-gray-700",children:v.reviewStatus})]}),i.jsxs("div",{className:"text-xs text-slate-500",children:[v.category||v.evidenceCategory||"General Evidence","  ",v.mimeType||v.fileType||"Unknown","  ",new Date(v.uploadedAt).toLocaleString()]})]}),i.jsxs(re,{className:"space-y-4",children:[v.parsedSummary&&i.jsxs("div",{className:"bg-blue-50 p-3 rounded text-sm",children:[i.jsxs("div",{className:"font-medium text-blue-700 mb-1 flex items-center gap-2",children:[i.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Python Backend Analysis:"]}),i.jsx("div",{className:"text-slate-600",children:v.parsedSummary})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"font-medium text-purple-700 mb-1 flex items-center gap-2 text-sm",children:[i.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),"LLM/AI Diagnostic Interpretation:"]}),v.llmInterpretation?i.jsxs("div",{className:"bg-purple-50 p-3 rounded space-y-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-xs font-medium text-purple-700",children:"Most Likely Root Causes:"}),i.jsx("ul",{className:"text-xs list-disc list-inside ml-2 mt-1",children:(v.llmInterpretation.mostLikelyRootCauses||[]).map((y,w)=>i.jsx("li",{children:y},w))})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs font-medium text-purple-700",children:"Recommendations:"}),i.jsx("ul",{className:"text-xs list-disc list-inside ml-2 mt-1",children:(v.llmInterpretation.pinnpointedRecommendations||[]).map((y,w)=>i.jsx("li",{children:y},w))})]}),i.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[i.jsxs("span",{children:["LLM Confidence: ",i.jsxs(ne,{variant:"outline",className:"text-xs",children:[v.llmInterpretation.confidence||0,"%"]})]}),i.jsxs("span",{children:["Missing Evidence: ",(v.llmInterpretation.missingEvidence||[]).length," items"]})]}),i.jsx("div",{className:"text-xs text-purple-600 bg-purple-100 p-2 rounded",children:v.llmInterpretation.diagnosticSummary||"LLM diagnostic analysis completed"})]}):i.jsxs("div",{className:"bg-red-50 p-3 rounded text-sm",children:[i.jsx("div",{className:"text-red-700 font-medium flex items-center gap-2",children:" Protocol Violation: Missing LLM Analysis"}),i.jsx("div",{className:"text-red-600 text-xs mt-1",children:"Universal Protocol Standard requires BOTH Python parsing AND LLM diagnostic interpretation. This file cannot be reviewed until LLM analysis is completed."})]})]}),v.adequacyScore!==void 0&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-slate-600",children:"Adequacy Score:"}),i.jsxs(ne,{variant:v.adequacyScore>=80?"default":v.adequacyScore>=60?"secondary":"destructive",children:[v.adequacyScore,"%"]})]}),v.analysisFeatures&&i.jsxs("div",{className:"text-xs text-slate-500",children:["Features: ",Object.keys(v.analysisFeatures).join(", ")]}),i.jsxs("div",{className:"space-y-3 pt-3 border-t",children:[i.jsx(Te,{placeholder:"Add review comments (optional)...",value:n[v.id]||"",onChange:y=>r(w=>({...w,[v.id]:y.target.value})),rows:2,className:"text-sm"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(vr,{id:`accept-${v.id}`,checked:a[v.id]==="ACCEPTED"||v.reviewStatus==="ACCEPTED",onCheckedChange:y=>g(v.id,"ACCEPTED",!!y),disabled:h.isPending,className:"data-[state=checked]:bg-green-600 data-[state=checked]:border-green-600"}),i.jsx(ve,{htmlFor:`accept-${v.id}`,className:"text-sm font-medium text-green-700 cursor-pointer",children:" Accept Evidence File - Ready for AI Analysis"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(vr,{id:`need-info-${v.id}`,checked:a[v.id]==="NEEDS_MORE_INFO"||v.reviewStatus==="NEEDS_MORE_INFO",onCheckedChange:y=>g(v.id,"NEEDS_MORE_INFO",!!y),disabled:h.isPending,className:"data-[state=checked]:bg-amber-600 data-[state=checked]:border-amber-600"}),i.jsx(ve,{htmlFor:`need-info-${v.id}`,className:"text-sm font-medium text-amber-700 cursor-pointer",children:"? Needs More Information - Additional Data Required"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(vr,{id:`replace-${v.id}`,checked:a[v.id]==="REPLACED"||v.reviewStatus==="REPLACED",onCheckedChange:y=>g(v.id,"REPLACED",!!y),disabled:h.isPending,className:"data-[state=checked]:bg-red-600 data-[state=checked]:border-red-600"}),i.jsx(ve,{htmlFor:`replace-${v.id}`,className:"text-sm font-medium text-red-700 cursor-pointer",children:" Replace File - Upload Different Evidence"})]})]}),(a[v.id]||v.reviewStatus!=="UNREVIEWED")&&i.jsxs("div",{className:`p-3 rounded text-sm font-medium ${(a[v.id]||v.reviewStatus)==="ACCEPTED"?"bg-green-100 text-green-800":(a[v.id]||v.reviewStatus)==="REPLACED"?"bg-red-100 text-red-800":(a[v.id]||v.reviewStatus)==="NEEDS_MORE_INFO"?"bg-amber-100 text-amber-800":"bg-gray-100 text-gray-800"}`,children:["Status: ",a[v.id]||v.reviewStatus,h.isPending&&" (Updating...)"]})]}),v.userComments&&i.jsxs("div",{className:"bg-slate-100 p-2 rounded text-xs",children:[i.jsx("div",{className:"font-medium text-slate-600",children:"Review Comments:"}),i.jsx("div",{className:"text-slate-700",children:v.userComments})]})]})]},v.id))}),(!Array.isArray(d)||d.length===0)&&i.jsx(ee,{children:i.jsxs(re,{className:"text-center py-12",children:[i.jsx(Po,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),i.jsx("div",{className:"text-lg font-medium text-slate-600 mb-2",children:"No Evidence Files Found"}),i.jsx("div",{className:"text-sm text-slate-500 mb-4",children:"Please upload evidence files in the previous steps before proceeding to human review."}),i.jsx(H,{variant:"outline",onClick:()=>e(`/evidence-collection?incident=${l}`),children:" Back to Evidence Collection"})]})}),i.jsxs(ee,{className:"mt-8",children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(s8,{className:"h-5 w-5 text-blue-600"}),"Review Instructions"]})}),i.jsxs(re,{className:"text-sm text-slate-600 space-y-2",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"ACCEPT:"})," File analysis is correct and adequate for RCA"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"NEEDS MORE INFO:"})," File is parsed but requires additional context or clarification"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"REPLACE:"})," File should be replaced with a better version or different file type"]}),i.jsx("div",{className:"text-amber-600 font-medium mt-4",children:" All files must be reviewed before AI analysis can proceed (Universal RCA Requirement)"})]})]})]})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg font-medium text-red-600",children:"Error: No Incident ID"}),i.jsx("div",{className:"text-sm text-slate-600 mt-2",children:"Please access this page from the evidence collection workflow."})]})})}function f_(){var y,w,j,S,C,E,k,$,O,T;const[,e]=Xr(),[,t]=Iv("/incidents/:id/analysis"),n=new URLSearchParams(window.location.search),r=t!=null&&t.id?parseInt(t.id):n.get("incident")?parseInt(n.get("incident")):null,[a,s]=N.useState("initializing"),[o,l]=N.useState(0),[c,u]=N.useState(null),[d,f]=N.useState(!1),{data:p,isLoading:h}=Ye({queryKey:[`/api/incidents/${r}`],enabled:!!r}),x=Je({mutationFn:async P=>{const I=await fetch(`/api/incidents/${P}/rca-synthesis`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!I.ok)throw new Error(`RCA synthesis failed: ${I.status}`);return await I.json()},onSuccess:P=>{var I,D,R,V,q;if(console.log("RCA Synthesis completed:",P),P.data&&P.data.recommendations){const B=P.data,W={overallConfidence:B.overallConfidence||0,analysisDate:new Date(B.analysisDate)||new Date,rootCauses:((I=B.recommendations)==null?void 0:I.map((Z,te)=>({id:Z.faultId||`fault-${te}`,description:Z.specificFault||"Unknown fault",confidence:Z.confidence||0,category:"Deterministic AI",evidence:Z.evidenceSupport||[],likelihood:Z.confidence>=80?"Very High":Z.confidence>=60?"High":"Medium",impact:"Critical",priority:te+1})))||[],recommendations:((D=B.recommendations)==null?void 0:D.flatMap((Z,te)=>{var fe;return((fe=Z.recommendedActions)==null?void 0:fe.map((Ae,He)=>({id:`${Z.faultId}-action-${He}`,title:`${Z.specificFault} - Action ${He+1}`,description:Ae,priority:Z.confidence>=80?"Immediate":"Short-term",category:"Deterministic",estimatedCost:"TBD",timeframe:Z.confidence>=80?"Immediate":"1-2 weeks",responsible:"Engineering Team",preventsProbability:Z.confidence})))||[]}))||[],crossMatchResults:{libraryMatches:((R=B.recommendations)==null?void 0:R.length)||0,patternSimilarity:B.overallConfidence||0,historicalData:[`Analysis Method: ${B.analysisMethod}`,`Determinism Check: ${B.determinismCheck}`]},evidenceGaps:((V=B.recommendations)==null?void 0:V.filter(Z=>{var te;return((te=Z.requiredEvidence)==null?void 0:te.length)>0}).flatMap(Z=>Z.requiredEvidence))||[],additionalInvestigation:((q=B.recommendations)==null?void 0:q.map(Z=>Z.analysisRationale).filter(Boolean))||[]};u(W)}s("completed"),l(100),f(!1)},onError:P=>{console.error("Universal RCA Analysis failed:",P),s("error"),f(!1),P.message.includes("No reviewed evidence files")&&s("no_reviewed_evidence")}}),{data:m,isLoading:g}=Ye({queryKey:[`/api/incidents/${r}/analysis`],enabled:!!r});N.useEffect(()=>{p&&m&&!g&&(m&&Object.keys(m).length>0?(console.log("Loading existing analysis results:",m),u(m),s("completed"),l(100),f(!1)):!c&&!d&&r&&(console.log("Starting Universal RCA analysis for incident:",r),f(!0),b(),x.mutate(r)))},[p,m,g]);const b=()=>{const P=[{name:"Steps 1-3: AI Hypothesis Generation",duration:parseInt("2000")},{name:"Step 4: Evidence Status Validation",duration:parseInt("2000")},{name:"Step 5: Data Analysis with Confidence Assessment",duration:parseInt("3000")},{name:"Step 6: Low-Confidence Fallback (if needed)",duration:parseInt("2000")},{name:"Steps 7-9: Enhanced RCA with PSM Integration",duration:parseInt("3000")}];let I=0;P.forEach((D,R)=>{setTimeout(()=>{s(D.name),l((R+1)*20)},I),I+=D.duration})},v=()=>{r&&e(`/analysis-details/${r}`)};return h||g||!p?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(on,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),i.jsx("p",{children:"Loading incident details..."})]})}):i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("header",{className:"bg-card shadow-sm border-b border-border",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between items-center h-16",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(H,{variant:"ghost",onClick:()=>e("/"),children:" Back to Home"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("img",{src:"/quanntaum-logo.jpg",alt:"Quanntaum Logo",className:"h-5 w-5 rounded object-contain"}),i.jsx("h1",{className:"text-xl font-bold",children:"Steps 5-6: AI Analysis & Draft RCA"})]})]}),i.jsxs(ne,{variant:"outline",className:"text-sm",children:["Incident #",(p==null?void 0:p.id)||r]})]})})}),i.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[d&&i.jsxs(ee,{className:"mb-8",children:[i.jsxs(ae,{children:[i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(on,{className:"h-5 w-5 animate-spin"}),"AI Analysis in Progress"]}),i.jsx(yt,{children:"Advanced root cause analysis using evidence library cross-matching and pattern recognition"})]}),i.jsx(re,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:a}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[o,"%"]})]}),i.jsx(Gc,{value:o,className:"h-2"})]})})]}),c&&i.jsxs("div",{className:"space-y-6",children:[i.jsx(ee,{children:i.jsx(ae,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(Fd,{className:"h-5 w-5"}),"Analysis Complete"]}),i.jsxs(yt,{children:[p==null?void 0:p.title," - ",p==null?void 0:p.equipmentGroup,"  ",p==null?void 0:p.equipmentType]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-3xl font-bold text-primary",children:[c.overallConfidence,"%"]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Confidence"})]})]})})}),i.jsxs(ea,{defaultValue:"root-causes",className:"w-full",children:[i.jsxs(Ci,{className:"grid w-full grid-cols-4",children:[i.jsx(Ze,{value:"root-causes",children:"Root Causes"}),i.jsx(Ze,{value:"recommendations",children:"Recommendations"}),i.jsx(Ze,{value:"cross-match",children:"Library Match"}),i.jsx(Ze,{value:"gaps",children:"Evidence Gaps"})]}),i.jsx(tt,{value:"root-causes",className:"space-y-4",children:i.jsxs(ee,{children:[i.jsxs(ae,{children:[i.jsx(se,{children:"Identified Root Causes"}),i.jsx(yt,{children:"Ranked by confidence and impact assessment"})]}),i.jsx(re,{className:"space-y-4",children:c.rootCauses&&c.rootCauses.length>0?c.rootCauses.map((P,I)=>i.jsxs("div",{className:"p-4 border rounded-lg bg-card",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(ne,{variant:"outline",className:"font-mono",children:["#",I+1]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold",children:P.description}),i.jsx("p",{className:"text-sm text-muted-foreground",children:P.category})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-2xl font-bold text-primary",children:[P.confidence,"%"]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Confidence"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Likelihood"}),i.jsx(ne,{variant:P.likelihood==="Very High"?"destructive":P.likelihood==="High"?"default":P.likelihood==="Medium"?"secondary":"outline",className:"ml-2",children:P.likelihood})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Impact"}),i.jsx(ne,{variant:P.impact==="Critical"?"destructive":P.impact==="High"?"default":P.impact==="Medium"?"secondary":"outline",className:"ml-2",children:P.impact})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Supporting Evidence"}),i.jsx("ul",{className:"mt-1 text-sm text-muted-foreground",children:P.evidence&&P.evidence.length>0?P.evidence.map((D,R)=>i.jsxs("li",{className:"list-disc list-inside",children:[" ",D]},R)):i.jsx("li",{className:"text-amber-600",children:" No direct evidence available - analysis based on symptoms and patterns"})})]}),P.aiRemarks&&i.jsx("div",{className:"mt-3 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(on,{className:"h-4 w-4 text-amber-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs font-medium text-amber-800",children:"AI Analysis Note"}),i.jsx("p",{className:"text-sm text-amber-700 mt-1",children:P.aiRemarks})]})]})})]})]},P.id)):i.jsxs("div",{className:"p-6 text-center border-2 border-dashed border-muted-foreground/25 rounded-lg",children:[i.jsx(Fd,{className:"h-8 w-8 text-muted-foreground mx-auto mb-3"}),i.jsx("h3",{className:"font-medium text-muted-foreground mb-2",children:"Analysis Results Available"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["RCA synthesis completed with ",c.overallConfidence,"% confidence. Check other tabs for recommendations and detailed analysis."]})]})})]})}),i.jsx(tt,{value:"recommendations",className:"space-y-4",children:i.jsxs(ee,{children:[i.jsxs(ae,{children:[i.jsx(se,{children:"Corrective Recommendations"}),i.jsx(yt,{children:"Prioritized action items to prevent recurrence"})]}),i.jsx(re,{className:"space-y-4",children:c.recommendations&&c.recommendations.length>0?c.recommendations.map((P,I)=>i.jsxs("div",{className:"p-4 border rounded-lg bg-card",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(ne,{variant:P.priority==="Immediate"?"destructive":P.priority==="Short-term"?"default":"secondary",children:P.priority}),i.jsx("h4",{className:"font-semibold",children:P.title})]}),i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:P.description})]}),i.jsxs("div",{className:"text-right text-sm",children:[i.jsx("div",{className:"font-medium",children:P.estimatedCost}),i.jsx("div",{className:"text-muted-foreground",children:P.timeframe})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Category:"})," ",P.category]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Responsible:"})," ",P.responsible]})]}),i.jsx("div",{className:"mt-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs font-medium",children:"Prevention Effectiveness:"}),i.jsx(Gc,{value:P.preventsProbability,className:"flex-1 h-2"}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:[P.preventsProbability,"%"]})]})})]},P.id)):i.jsxs("div",{className:"p-6 text-center border-2 border-dashed border-muted-foreground/25 rounded-lg",children:[i.jsx(on,{className:"h-8 w-8 text-muted-foreground mx-auto mb-3"}),i.jsx("h3",{className:"font-medium text-muted-foreground mb-2",children:"No Specific Recommendations Generated"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Due to limited evidence, AI could not generate specific corrective actions. Consider uploading additional technical data for more detailed recommendations."})]})})]})}),i.jsx(tt,{value:"cross-match",className:"space-y-4",children:i.jsxs(ee,{children:[i.jsxs(ae,{children:[i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(LT,{className:"h-5 w-5"}),"Evidence Library Cross-Match Results"]}),i.jsx(yt,{children:"Comparison with historical equipment failures and patterns"})]}),i.jsxs(re,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold text-primary",children:((y=c.crossMatchResults)==null?void 0:y.libraryMatches)||0}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Similar Cases Found"})]}),i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsxs("div",{className:"text-3xl font-bold text-primary",children:[((w=c.crossMatchResults)==null?void 0:w.patternSimilarity)||0,"%"]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Pattern Similarity"})]}),i.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[i.jsx("div",{className:"text-3xl font-bold text-primary",children:((S=(j=c.crossMatchResults)==null?void 0:j.historicalData)==null?void 0:S.length)||0}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Historical References"})]})]}),(((E=(C=c.crossMatchResults)==null?void 0:C.historicalData)==null?void 0:E.length)||0)>0&&i.jsxs("div",{className:"mt-6",children:[i.jsx("h4",{className:"font-medium mb-3",children:"Historical Data References"}),i.jsx("ul",{className:"space-y-2",children:(((k=c.crossMatchResults)==null?void 0:k.historicalData)||[]).map((P,I)=>i.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[i.jsx(Yt,{className:"h-4 w-4 text-green-600"}),P]},I))})]})]})]})}),i.jsx(tt,{value:"gaps",className:"space-y-4",children:i.jsxs(ee,{children:[i.jsxs(ae,{children:[i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(xt,{className:"h-5 w-5"}),"Evidence Gaps & Additional Investigation"]}),i.jsx(yt,{children:"Areas requiring further investigation for complete analysis"})]}),i.jsxs(re,{className:"space-y-6",children:[i.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(on,{className:"h-5 w-5 text-blue-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"AI Evidence Analysis Summary"}),i.jsx("p",{className:"text-sm text-blue-700",children:c.overallConfidence>=80?"Analysis completed with adequate evidence. High confidence in root cause identification.":c.overallConfidence>=50?"Analysis completed with moderate evidence. Some assumptions required for root cause analysis.":"Analysis based primarily on hypothesis due to limited evidence. Results should be validated with additional data."}),i.jsxs("div",{className:"mt-2 text-xs text-blue-600",children:["Evidence Adequacy: ",c.overallConfidence,"% | Files Analyzed: ",(($=c.crossMatchResults)==null?void 0:$.libraryMatches)||0," | Confidence Level: ",c.overallConfidence>=80?"High":c.overallConfidence>=50?"Medium":"Low"]})]})]})}),(((O=c.evidenceGaps)==null?void 0:O.length)||0)>0?i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3 text-orange-700",children:"Evidence Gaps Identified"}),i.jsx("ul",{className:"space-y-2",children:(c.evidenceGaps||[]).map((P,I)=>i.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[i.jsx(xt,{className:"h-4 w-4 text-orange-500 mt-0.5"}),P]},I))})]}):i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3 text-green-700",children:"Evidence Status"}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[i.jsx(Yt,{className:"h-4 w-4"}),"No critical evidence gaps identified based on available data"]})]}),(((T=c.additionalInvestigation)==null?void 0:T.length)||0)>0?i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3 text-blue-700",children:"Additional Investigation Recommended"}),i.jsx("ul",{className:"space-y-2",children:(c.additionalInvestigation||[]).map((P,I)=>i.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[i.jsx(va,{className:"h-4 w-4 text-blue-500 mt-0.5"}),P]},I))})]}):i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3 text-blue-700",children:"Investigation Status"}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-600",children:[i.jsx(Yt,{className:"h-4 w-4"}),"Current analysis appears complete based on available evidence"]})]})]})]})})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx(H,{variant:"outline",onClick:()=>e(`/evidence-collection?incident=${r}`),children:" Back to Evidence Collection"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(H,{variant:"outline",onClick:()=>e(`/summary-report/${r}`),children:" Generate Summary Report"}),i.jsxs(H,{onClick:v,className:"flex items-center gap-2",children:["Proceed to Engineer Review",i.jsx(Yf,{className:"h-4 w-4"})]})]})]})]})]})]})}function $0e(){var c,u,d,f,p,h;const[,e]=Iv("/incidents/:id/fallback-analysis"),t=e==null?void 0:e.id,[n,r]=N.useState(null),[a,s]=N.useState(!1),{data:o}=Ye({queryKey:[`/api/incidents/${t}`],enabled:!!t}),l=Je({mutationFn:async()=>{s(!0);const x={},m=(o==null?void 0:o.evidenceResponses)||[],g=await fetch(`/api/incidents/${t}/fallback-analysis`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({evidenceAvailability:x,uploadedFiles:m})});if(!g.ok)throw new Error(`Fallback analysis failed: ${g.status}`);return g.json()},onSuccess:x=>{console.log("Fallback analysis completed:",x),r(x),s(!1)},onError:x=>{console.error("Fallback analysis failed:",x),s(!1)}});return N.useEffect(()=>{o&&!n&&!a&&l.mutate()},[o]),o?i.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx(fn,{href:`/incidents/${t}/evidence-collection`,children:i.jsxs(H,{variant:"outline",size:"sm",children:[i.jsx(Oa,{className:"h-4 w-4 mr-2"}),"Back to Evidence Collection"]})}),i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[i.jsx(on,{className:"h-6 w-6 text-purple-600"}),"AI Fallback Analysis"]}),i.jsx("p",{className:"text-muted-foreground",children:"Universal RCA Fallback and Hybrid Inference Logic"})]})]}),i.jsxs(Qt,{className:"border-purple-200 bg-purple-50",children:[i.jsx(on,{className:"h-4 w-4"}),i.jsxs(Xt,{children:[i.jsx("strong",{children:"AI Fallback Mode:"})," When Evidence Library matching fails (<80% confidence), this system uses GPT to generate plausible failure hypotheses and engineering assumptions. Analysis proceeds with documented limitations and confidence flags."]})]})]}),a&&i.jsx(ee,{className:"mb-6",children:i.jsx(re,{className:"p-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Running AI Fallback Analysis..."}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Extracting symptoms  Checking Evidence Library  Generating AI hypotheses  Assessing evidence  Creating analysis"})]})]})})}),n&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(Yt,{className:"h-5 w-5 text-green-600"}),"Fallback Analysis Complete"]})}),i.jsxs(re,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[i.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[((c=n.fallbackAnalysis)==null?void 0:c.confidence)||"N/A","%"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"AI Confidence"})]}),i.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:((u=n.hypotheses)==null?void 0:u.length)||0}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"AI Hypotheses"})]}),i.jsxs("div",{className:"text-center p-4 bg-amber-50 rounded-lg",children:[i.jsx("p",{className:"text-2xl font-bold text-amber-600",children:((f=(d=n.fallbackAnalysis)==null?void 0:d.confidenceFlags)==null?void 0:f.length)||0}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Warning Flags"})]})]}),((p=n.fallbackAnalysis)==null?void 0:p.primaryRootCause)&&i.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[i.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Primary Root Cause (AI Inferred)"}),i.jsx("p",{className:"text-green-700 font-medium",children:n.fallbackAnalysis.primaryRootCause}),n.fallbackAnalysis.aiReasoning&&i.jsx("p",{className:"text-sm text-green-600 mt-2",children:n.fallbackAnalysis.aiReasoning})]}),((h=n.fallbackAnalysis)==null?void 0:h.confidenceFlags)&&n.fallbackAnalysis.confidenceFlags.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[i.jsx(xt,{className:"h-4 w-4 text-amber-600"}),"Analysis Limitations"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:n.fallbackAnalysis.confidenceFlags.map((x,m)=>i.jsx(ne,{variant:"outline",className:"text-amber-700 border-amber-300 bg-amber-50",children:x.replace(/_/g," ")},m))})]})]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx(fn,{href:`/incidents/${t}/evidence-collection`,children:i.jsxs(H,{variant:"outline",children:[i.jsx(Oa,{className:"h-4 w-4 mr-2"}),"Back to Evidence Collection"]})}),i.jsx(fn,{href:`/incidents/${t}/analysis`,children:i.jsx(H,{children:"View Standard Analysis "})})]})]})]}):i.jsx("div",{className:"max-w-4xl mx-auto p-6",children:i.jsx("div",{className:"text-center py-12",children:i.jsx("p",{className:"text-muted-foreground",children:"Loading incident..."})})})}function M0e(){var b,v,y;const[,e]=Xr(),[t,n]=N.useState(null),[r,a]=N.useState(!1),[s,o]=N.useState({reviewerId:"ENG001",reviewerName:"Senior RCA Engineer",reviewDate:new Date,approved:!1,comments:"",modifications:{rootCauses:[],recommendations:[]},additionalFindings:"",followUpActions:[],signoffRequired:!0});N.useEffect(()=>{const j=new URLSearchParams(window.location.search).get("incident");j&&n(parseInt(j))},[]);const{data:l,isLoading:c}=Ye({queryKey:["/api/incidents",t],enabled:!!t}),{data:u}=Ye({queryKey:["/api/incidents",t,"analysis"],enabled:!!t}),{data:d,refetch:f}=Ye({queryKey:["/api/incidents",t,"completeness-check"],enabled:!!t}),p=Je({mutationFn:async w=>gt(`/api/incidents/${t}/engineer-review`,{method:"POST",body:JSON.stringify({...w,currentStep:8,workflowStatus:w.approved?"approved":"under_review"})}),onSuccess:w=>{s.approved&&e(`/final-rca?incident=${t}`)},onError:w=>{var j;(j=w==null?void 0:w.message)!=null&&j.includes("minimum evidence")&&console.error("Investigation completeness validation failed:",w)}}),h=Je({mutationFn:async()=>gt(`/api/incidents/${t}/generate-final-report`,{method:"POST",body:JSON.stringify({engineerReview:s})}),onSuccess:w=>{window.open(w.reportUrl,"_blank")}}),x=w=>{o(j=>({...j,approved:w}))},m=()=>{p.mutate(s)},g=()=>{h.mutate()};return c||!l?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(xc,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),i.jsx("p",{children:"Loading engineer review..."})]})}):i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("header",{className:"bg-card shadow-sm border-b border-border",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between items-center h-16",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(H,{variant:"ghost",onClick:()=>e("/"),children:" Back to Home"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(xc,{className:"h-5 w-5 text-primary"}),i.jsx("h1",{className:"text-xl font-bold",children:"Step 8: Engineer Review & Finalization"})]})]}),i.jsxs(ne,{variant:"outline",className:"text-sm",children:["Incident #",l.id]})]})})}),i.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsx(ee,{className:"mb-8",children:i.jsx(ae,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(vn,{className:"h-5 w-5"}),"Final RCA Review"]}),i.jsxs(yt,{children:[l.title," - ",l.equipmentGroup,"  ",l.equipmentType]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(H,{variant:"outline",onClick:()=>a(!r),className:"flex items-center gap-2",children:[i.jsx(Vr,{className:"h-4 w-4"}),r?"View Mode":"Edit Mode"]}),s.approved&&i.jsxs(ne,{variant:"default",className:"bg-green-600",children:[i.jsx(Yt,{className:"h-3 w-3 mr-1"}),"Approved"]})]})]})})}),i.jsxs(ea,{defaultValue:"review",className:"w-full",children:[i.jsxs(Ci,{className:"grid w-full grid-cols-4",children:[i.jsx(Ze,{value:"review",children:"Review Summary"}),i.jsx(Ze,{value:"findings",children:"AI Findings"}),i.jsx(Ze,{value:"modifications",children:"Modifications"}),i.jsx(Ze,{value:"approval",children:"Final Approval"})]}),i.jsx(tt,{value:"review",className:"space-y-6",children:i.jsxs(ee,{children:[i.jsxs(ae,{children:[i.jsx(se,{children:"Review Summary"}),i.jsx(yt,{children:"Engineer assessment of AI analysis and findings"})]}),i.jsxs(re,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ve,{children:"Reviewer Name"}),i.jsx(ke,{value:s.reviewerName,onChange:w=>o(j=>({...j,reviewerName:w.target.value})),disabled:!r})]}),i.jsxs("div",{children:[i.jsx(ve,{children:"Reviewer ID"}),i.jsx(ke,{value:s.reviewerId,onChange:w=>o(j=>({...j,reviewerId:w.target.value})),disabled:!r})]})]}),i.jsxs("div",{children:[i.jsx(ve,{children:"Review Comments"}),i.jsx(Te,{placeholder:"Provide detailed comments on the AI analysis, evidence quality, and findings...",value:s.comments,onChange:w=>o(j=>({...j,comments:w.target.value})),disabled:!r,rows:4})]}),i.jsxs("div",{children:[i.jsx(ve,{children:"Additional Engineering Findings"}),i.jsx(Te,{placeholder:"Any additional findings or observations not captured by the AI analysis...",value:s.additionalFindings,onChange:w=>o(j=>({...j,additionalFindings:w.target.value})),disabled:!r,rows:3})]})]})]})}),i.jsx(tt,{value:"findings",className:"space-y-6",children:i.jsxs(ee,{children:[i.jsxs(ae,{children:[i.jsx(se,{children:"AI Analysis Review"}),i.jsx(yt,{children:"Review and validate AI-generated findings"})]}),i.jsx(re,{children:u?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"Root Causes Identified"}),(b=u.rootCauses)==null?void 0:b.map((w,j)=>i.jsxs("div",{className:"p-3 border rounded-lg mb-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-medium",children:w.description}),i.jsxs(ne,{variant:"outline",children:[w.confidence,"% confidence"]})]}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:w.category})]},j))]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"Recommendations Generated"}),(v=u.recommendations)==null?void 0:v.map((w,j)=>i.jsxs("div",{className:"p-3 border rounded-lg mb-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-medium",children:w.title}),i.jsx(ne,{variant:w.priority==="Immediate"?"destructive":"default",children:w.priority})]}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:w.description})]},j))]})]}):i.jsxs(Qt,{children:[i.jsx(xt,{className:"h-4 w-4"}),i.jsx(Xt,{children:"AI analysis results are not available. Please complete the AI analysis step first."})]})})]})}),i.jsx(tt,{value:"modifications",className:"space-y-6",children:i.jsxs(ee,{children:[i.jsxs(ae,{children:[i.jsx(se,{children:"Engineering Modifications"}),i.jsx(yt,{children:"Modify or add to AI findings based on engineering judgment"})]}),i.jsxs(re,{className:"space-y-4",children:[i.jsxs(Qt,{children:[i.jsx(Vr,{className:"h-4 w-4"}),i.jsx(Xt,{children:"Use this section to document any modifications to the AI analysis based on engineering expertise."})]}),i.jsxs("div",{children:[i.jsx(ve,{children:"Modified Root Causes"}),i.jsx(Te,{placeholder:"Document any changes to root cause analysis...",disabled:!r,rows:3})]}),i.jsxs("div",{children:[i.jsx(ve,{children:"Modified Recommendations"}),i.jsx(Te,{placeholder:"Document any changes to recommendations...",disabled:!r,rows:3})]}),i.jsxs("div",{children:[i.jsx(ve,{children:"Additional Preventive Measures"}),i.jsx(Te,{placeholder:"Additional preventive measures recommended by engineering...",disabled:!r,rows:3})]})]})]})}),i.jsxs(tt,{value:"approval",className:"space-y-6",children:[i.jsxs(ee,{children:[i.jsxs(ae,{children:[i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(xt,{className:"h-5 w-5"}),"Investigation Completeness Assessment"]}),i.jsx(yt,{children:"Review completeness before finalizing investigation"})]}),i.jsx(re,{children:d?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-gray-50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-3 h-3 rounded-full ${d.canBeClosed?"bg-green-500":"bg-amber-500"}`}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:d.canBeClosed?"Ready for Closure":"Closure Available with Theoretical Analysis"}),i.jsx("p",{className:"text-sm text-gray-600",children:d.closureReason})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[d.overallCompleteness,"%"]}),i.jsx("div",{className:"text-sm text-gray-500",children:"Complete"})]})]}),d.issues.length>0&&i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsx("h4",{className:"font-medium text-amber-700 mb-2",children:"Outstanding Issues"}),i.jsx("ul",{className:"space-y-1",children:d.issues.map((w,j)=>i.jsxs("li",{className:"text-sm text-amber-600 flex items-start gap-2",children:[i.jsx("span",{className:"w-1.5 h-1.5 bg-amber-500 rounded-full mt-2 flex-shrink-0"}),w]},j))})]}),d.theoreticalAnalysisRecommended&&i.jsxs("div",{className:"border rounded-lg p-4 bg-blue-50",children:[i.jsx("h4",{className:"font-medium text-blue-700 mb-3",children:"Theoretical Analysis Available"}),d.theoreticalAnalysis&&i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-blue-600",children:"Approach:"}),i.jsx("p",{className:"text-blue-700 mt-1",children:d.theoreticalAnalysis.approach})]}),((y=d.theoreticalAnalysis.theoreticalConclusions)==null?void 0:y.length)>0&&i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-blue-600",children:"Engineering Conclusions:"}),i.jsx("ul",{className:"mt-1 space-y-1",children:d.theoreticalAnalysis.theoreticalConclusions.slice(0,2).map((w,j)=>i.jsx("li",{className:"text-blue-700 pl-2",children:w},j))})]})]})]}),d.inconclusiveFindings&&d.unansweredCriticalQuestions.length>0&&i.jsxs("div",{className:"border rounded-lg p-4 bg-orange-50",children:[i.jsx("h4",{className:"font-medium text-orange-700 mb-3",children:"Inconclusive Findings Documentation"}),i.jsxs("div",{className:"text-sm space-y-2",children:[i.jsx("p",{className:"text-orange-700",children:d.inconclusiveFindings.summary}),d.inconclusiveFindings.confidenceImpact&&i.jsx("p",{className:"text-orange-600 font-medium",children:d.inconclusiveFindings.confidenceImpact})]})]}),d.potentialFailureModes.length>0&&i.jsxs("details",{className:"border rounded-lg p-4",children:[i.jsxs("summary",{className:"font-medium cursor-pointer text-gray-700",children:["Alternative Failure Modes Considered (",d.potentialFailureModes.length,")"]}),i.jsx("div",{className:"mt-3 space-y-2",children:d.potentialFailureModes.slice(0,3).map((w,j)=>i.jsxs("div",{className:"text-sm p-2 bg-gray-50 rounded",children:[i.jsx("div",{className:"font-medium",children:w.mode}),w.causes&&i.jsxs("div",{className:"text-gray-600 mt-1",children:["Potential causes: ",w.causes.slice(0,2).join(", ")]})]},j))})]})]}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(xt,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),i.jsx("p",{className:"text-gray-500",children:"Loading completeness assessment..."})]})})]}),i.jsxs(ee,{children:[i.jsxs(ae,{children:[i.jsx(se,{children:"Final Approval"}),i.jsx(yt,{children:"Complete the review and approve the RCA for publication"})]}),i.jsxs(re,{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(vr,{id:"approve",checked:s.approved,onCheckedChange:x}),i.jsx(ve,{htmlFor:"approve",className:"font-medium",children:"I approve this RCA analysis for publication"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(vr,{id:"signoff",checked:s.signoffRequired,onCheckedChange:w=>o(j=>({...j,signoffRequired:!!w}))}),i.jsx(ve,{htmlFor:"signoff",children:"Additional management signoff required"})]}),!s.approved&&i.jsxs(Qt,{className:"border-amber-200 bg-amber-50",children:[i.jsx(xt,{className:"h-4 w-4"}),i.jsx(Xt,{children:"Please review all findings and provide approval to proceed with RCA publication."})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs(H,{onClick:m,disabled:p.isPending,className:"flex items-center gap-2",children:[i.jsx(Ml,{className:"h-4 w-4"}),p.isPending?"Saving...":"Submit Review"]}),s.approved&&i.jsxs(H,{onClick:g,disabled:h.isPending,variant:"outline",className:"flex items-center gap-2",children:[i.jsx(kr,{className:"h-4 w-4"}),h.isPending?"Generating...":"Generate Final Report"]})]})]})]})]})]}),i.jsxs("div",{className:"mt-8 flex justify-between",children:[i.jsx(H,{variant:"outline",onClick:()=>e(`/ai-analysis?incident=${t}`),children:" Back to AI Analysis"}),s.approved&&i.jsxs(H,{onClick:()=>e("/"),className:"flex items-center gap-2",children:["Complete Investigation",i.jsx(Yt,{className:"h-4 w-4"})]})]})]})]})}function D0e(){const[e,t]=N.useState({equipmentType:"",failureMode:"",existingEvidence:[]}),{data:n,isLoading:r}=Ye({queryKey:["/api/nlp/analyze-questions"]}),{data:a,isLoading:s}=Ye({queryKey:["/api/nlp/analyze-root-cause-logic"]}),o=async()=>{if(!(!e.equipmentType||!e.failureMode))try{const l=await fetch("/api/nlp/generate-questions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(l.ok){const c=await l.json();console.log("Generated suggestions:",c)}}catch(l){console.error("Error generating questions:",l)}};return i.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx(fn,{href:"/",children:i.jsxs(H,{variant:"outline",className:"flex items-center gap-2",children:[i.jsx(Oa,{className:"h-4 w-4"}),"Back to Home"]})}),i.jsx(fn,{href:"/",children:i.jsxs(H,{variant:"ghost",size:"sm",className:"flex items-center gap-2",children:[i.jsx(Qf,{className:"h-4 w-4"}),"Home"]})})]}),i.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-2",children:[i.jsx(on,{className:"h-8 w-8 text-blue-600"}),"NLP Analysis Dashboard"]}),i.jsx("p",{className:"text-gray-600",children:"Natural Language Processing analysis of Evidence Library patterns for intelligent question generation"})]}),i.jsxs(ea,{defaultValue:"question-patterns",className:"space-y-6",children:[i.jsxs(Ci,{className:"grid w-full grid-cols-3",children:[i.jsx(Ze,{value:"question-patterns",children:"Question Patterns"}),i.jsx(Ze,{value:"logic-analysis",children:"Root Cause Logic"}),i.jsx(Ze,{value:"question-generator",children:"Question Generator"})]}),i.jsxs(tt,{value:"question-patterns",className:"space-y-6",children:[i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(DT,{className:"h-5 w-5"}),"Question Type Classification"]})}),i.jsx(re,{children:r?i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]}):n!=null&&n.questionTypes?i.jsx("div",{className:"space-y-4",children:n.questionTypes.slice(0,8).map((l,c)=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold capitalize",children:l.type.replace("-"," ")}),i.jsxs(ne,{variant:"secondary",children:[l.frequency," questions"]})]}),i.jsx("div",{className:"text-sm text-gray-600 space-y-1",children:l.examples.slice(0,3).map((u,d)=>i.jsxs("div",{className:"bg-gray-50 p-2 rounded italic",children:['"',u,'"']},d))})]},c))}):i.jsx(Qt,{children:i.jsx(Xt,{children:"No question patterns found. Make sure Evidence Library has AI/Investigator Questions data."})})})]}),i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(va,{className:"h-5 w-5"}),"Technical Terms Frequency"]})}),i.jsx(re,{children:n!=null&&n.keyTerms?i.jsx("div",{className:"flex flex-wrap gap-2",children:n.keyTerms.slice(0,20).map((l,c)=>i.jsxs(ne,{variant:"outline",className:"text-xs",children:[l.term," (",l.frequency,")"]},c))}):i.jsx("p",{className:"text-gray-500",children:"No technical terms identified"})})]}),i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsx(se,{children:"Equipment-Specific Question Patterns"})}),i.jsx(re,{children:n!=null&&n.equipmentSpecificPatterns?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.equipmentSpecificPatterns.slice(0,6).map((l,c)=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsx("h4",{className:"font-medium mb-2",children:l.equipment}),i.jsx("div",{className:"space-y-1 text-sm text-gray-600",children:l.commonQuestions.slice(0,3).map((u,d)=>i.jsxs("div",{className:"bg-blue-50 p-2 rounded",children:[" ",u]},d))})]},c))}):i.jsx("p",{className:"text-gray-500",children:"No equipment-specific patterns identified"})})]})]}),i.jsxs(tt,{value:"logic-analysis",className:"space-y-6",children:[i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(Pa,{className:"h-5 w-5"}),"Logic Structure Patterns"]})}),i.jsx(re,{children:s?i.jsxs("div",{className:"animate-pulse space-y-4",children:[i.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]}):a!=null&&a.logicStructures?i.jsx("div",{className:"space-y-4",children:a.logicStructures.map((l,c)=>i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold capitalize",children:l.structure.replace("-"," ")}),i.jsx("p",{className:"text-sm text-gray-600",children:l.description})]}),i.jsxs(ne,{className:"bg-green-100 text-green-800",children:[l.frequency," cases"]})]},c))}):i.jsx(Qt,{children:i.jsx(Xt,{children:"No logic structure patterns found. Check Root Cause Logic data in Evidence Library."})})})]}),i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsx(se,{children:"Common Reasoning Patterns"})}),i.jsx(re,{children:a!=null&&a.commonPatterns?i.jsx("div",{className:"space-y-3",children:a.commonPatterns.slice(0,6).map((l,c)=>i.jsxs("div",{className:"border-l-4 border-blue-500 pl-4 py-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("p",{className:"font-medium",children:l.pattern}),i.jsxs(ne,{variant:"secondary",children:[l.frequency,"x"]})]}),i.jsx("div",{className:"text-sm text-gray-600",children:l.examples.slice(0,2).map((u,d)=>i.jsxs("div",{className:"mt-1 italic",children:['"',u,'"']},d))})]},c))}):i.jsx("p",{className:"text-gray-500",children:"No common patterns identified"})})]}),i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsx(se,{children:"Causal Language Analysis"})}),i.jsx(re,{children:a!=null&&a.causalWords?i.jsx("div",{className:"flex flex-wrap gap-2",children:a.causalWords.map((l,c)=>i.jsxs(ne,{variant:"outline",className:"bg-orange-50",children:[l.word," (",l.frequency,")"]},c))}):i.jsx("p",{className:"text-gray-500",children:"No causal words identified"})})]})]}),i.jsx(tt,{value:"question-generator",className:"space-y-6",children:i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx($T,{className:"h-5 w-5"}),"Intelligent Question Generator"]})}),i.jsxs(re,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ve,{htmlFor:"equipment-type",children:"Equipment Type"}),i.jsx(ke,{id:"equipment-type",placeholder:"e.g., Pumps, Motors, Valves",value:e.equipmentType,onChange:l=>t(c=>({...c,equipmentType:l.target.value}))})]}),i.jsxs("div",{children:[i.jsx(ve,{htmlFor:"failure-mode",children:"Failure Mode"}),i.jsx(ke,{id:"failure-mode",placeholder:"e.g., Seal Leak, Bearing Failure",value:e.failureMode,onChange:l=>t(c=>({...c,failureMode:l.target.value}))})]})]}),i.jsx(H,{onClick:o,disabled:!e.equipmentType||!e.failureMode,className:"w-full",children:"Generate Contextual Questions"}),i.jsx(Qt,{children:i.jsx(Xt,{children:"Enter equipment type and failure mode to generate contextual follow-up questions based on Evidence Library patterns. The NLP engine will analyze similar cases and suggest relevant questions to gather missing evidence."})})]})]})})]})]})}function F0e(){const{incidentId:e}=Tw(),{data:t,isLoading:n}=Ye({queryKey:[`/api/incidents/${e}/summary-report`],enabled:!!e});if(n)return i.jsx("div",{className:"container mx-auto p-6",children:i.jsx("div",{className:"flex items-center justify-center py-20",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Generating comprehensive summary report..."})]})})});if(!(t!=null&&t.report))return i.jsx("div",{className:"container mx-auto p-6",children:i.jsx(ee,{className:"border-red-200",children:i.jsx(re,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center gap-3 text-red-600",children:[i.jsx(xt,{className:"h-5 w-5"}),i.jsx("span",{children:"Failed to generate summary report. Please try again."})]})})})});const r=t.report;return i.jsxs("div",{className:"container mx-auto p-6 max-w-6xl",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(vn,{className:"h-8 w-8 text-blue-600"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Incident Summary Report"}),i.jsxs("p",{className:"text-gray-600",children:["Investigation ID: ",r.metadata.investigationId]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(H,{variant:"outline",asChild:!0,children:i.jsx(fn,{href:"/",children:" Back to Home"})}),i.jsxs(H,{className:"flex items-center gap-2",children:[i.jsx(kr,{className:"h-4 w-4"}),"Export PDF"]})]})]}),i.jsxs(ee,{className:"mb-6",children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm font-medium",children:"1"}),"Incident Overview"]})}),i.jsx(re,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold text-gray-700",children:"Incident Title"}),i.jsx("p",{className:"text-gray-900",children:r.incidentOverview.incidentTitle})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold text-gray-700",children:"Date of Incident"}),i.jsxs("p",{className:"text-gray-900 flex items-center gap-2",children:[i.jsx(Y6,{className:"h-4 w-4"}),r.incidentOverview.dateOfIncident]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold text-gray-700",children:"Reported By"}),i.jsx("p",{className:"text-gray-900",children:r.incidentOverview.reportedBy})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold text-gray-700",children:"Equipment Tag"}),i.jsx("p",{className:"text-gray-900 font-mono",children:r.incidentOverview.equipmentTag})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold text-gray-700",children:"Location"}),i.jsxs("p",{className:"text-gray-900 flex items-center gap-2",children:[i.jsx(MT,{className:"h-4 w-4"}),r.incidentOverview.location]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold text-gray-700",children:"System/Process"}),i.jsx(ne,{variant:"outline",className:"text-sm",children:r.incidentOverview.systemProcess})]})]})]})})]}),i.jsxs(ee,{className:"mb-6",children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-sm font-medium",children:"2"}),"Incident Description"]})}),i.jsx(re,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold text-gray-700",children:"What Failed?"}),i.jsx("p",{className:"text-gray-900 mb-3",children:r.incidentDescription.whatFailed}),i.jsx("label",{className:"font-semibold text-gray-700",children:"When did it happen?"}),i.jsx("p",{className:"text-gray-900",children:r.incidentDescription.whenHappened})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold text-gray-700",children:"How was it discovered?"}),i.jsx("p",{className:"text-gray-900 mb-3",children:r.incidentDescription.howDiscovered}),i.jsx("label",{className:"font-semibold text-gray-700",children:"Initial Consequence"}),i.jsx("p",{className:"text-gray-900",children:r.incidentDescription.initialConsequence})]})]})})]}),i.jsxs(ee,{className:"mb-6",children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-sm font-medium",children:"3"}),"Impact Summary"]})}),i.jsx(re,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsx("h4",{className:"font-semibold text-red-600 mb-2",children:"Safety"}),i.jsx("p",{className:"text-sm text-gray-700",children:r.impactSummary.safety})]}),i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsx("h4",{className:"font-semibold text-green-600 mb-2",children:"Environment"}),i.jsx("p",{className:"text-sm text-gray-700",children:r.impactSummary.environment})]}),i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsx("h4",{className:"font-semibold text-blue-600 mb-2",children:"Production"}),i.jsx("p",{className:"text-sm text-gray-700",children:r.impactSummary.production})]}),i.jsxs("div",{className:"p-3 border rounded-lg md:col-span-2 lg:col-span-1",children:[i.jsx("h4",{className:"font-semibold text-purple-600 mb-2",children:"Cost Estimate"}),i.jsx("p",{className:"text-sm text-gray-700",children:r.impactSummary.costEstimate})]}),i.jsxs("div",{className:"p-3 border rounded-lg md:col-span-2",children:[i.jsx("h4",{className:"font-semibold text-orange-600 mb-2",children:"Regulatory/Compliance"}),i.jsx("p",{className:"text-sm text-gray-700",children:r.impactSummary.regulatory})]})]})})]}),i.jsxs(ee,{className:"mb-6",children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx("span",{className:"bg-indigo-100 text-indigo-800 px-2 py-1 rounded text-sm font-medium",children:"4"}),"Timeline of Events"]})}),i.jsx(re,{children:i.jsx("div",{className:"space-y-3",children:r.timeline.map((a,s)=>i.jsxs("div",{className:"flex gap-4 p-3 border-l-4 border-blue-200 bg-gray-50 rounded-r-lg",children:[i.jsx("div",{className:"font-mono text-sm font-semibold text-blue-600 min-w-[60px]",children:a.time}),i.jsx("div",{className:"text-gray-900",children:a.event})]},s))})})]}),i.jsxs(ee,{className:"mb-6",children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded text-sm font-medium",children:"5"}),"Evidence Collected"]})}),i.jsx(re,{children:r.evidenceCollected.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-50",children:[i.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Type"}),i.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Source / File"}),i.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Observations"})]})}),i.jsx("tbody",{children:r.evidenceCollected.map((a,s)=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"border border-gray-300 px-4 py-2",children:i.jsx(ne,{variant:"outline",className:"text-xs",children:a.type})}),i.jsx("td",{className:"border border-gray-300 px-4 py-2 font-mono text-sm",children:a.source}),i.jsx("td",{className:"border border-gray-300 px-4 py-2 text-sm",children:a.observations})]},s))})]})}):i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(vn,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),i.jsx("p",{children:"No evidence files collected yet"})]})})]}),i.jsxs(ee,{className:"mb-6",children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded text-sm font-medium",children:"6"}),"Root Cause Summary"]})}),i.jsx(re,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"font-semibold text-gray-700 block mb-2",children:"Primary Root Cause"}),i.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:i.jsx("p",{className:"text-red-900",children:r.rootCauseSummary.primaryRootCause})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold text-gray-700 block mb-2",children:"Contributing Factors"}),i.jsx("div",{className:"space-y-2",children:r.rootCauseSummary.contributingFactors.length>0?r.rootCauseSummary.contributingFactors.map((a,s)=>i.jsx("div",{className:"p-2 bg-orange-50 border border-orange-200 rounded text-sm",children:i.jsx("p",{className:"text-orange-900",children:a})},s)):i.jsx("p",{className:"text-gray-500 text-sm",children:"No contributing factors identified"})})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"font-semibold text-gray-700 block mb-2",children:"Latent/Systemic Cause"}),i.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:i.jsx("p",{className:"text-yellow-900",children:r.rootCauseSummary.latentCause})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold text-gray-700 block mb-2",children:"Detection Gaps"}),i.jsx("div",{className:"space-y-2",children:r.rootCauseSummary.detectionGaps.length>0?r.rootCauseSummary.detectionGaps.map((a,s)=>i.jsx("div",{className:"p-2 bg-blue-50 border border-blue-200 rounded text-sm",children:i.jsx("p",{className:"text-blue-900",children:a})},s)):i.jsx("p",{className:"text-gray-500 text-sm",children:"No detection gaps identified"})})]})]})]})})]}),i.jsxs(ee,{className:"mb-6",children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx("span",{className:"bg-cyan-100 text-cyan-800 px-2 py-1 rounded text-sm font-medium",children:"7"}),"Root Cause Analysis Methodology"]})}),i.jsx(re,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"font-semibold text-gray-700 block mb-2",children:"Method Used"}),i.jsx(ne,{className:"mb-3",children:r.rcaMethodology.method}),i.jsx("p",{className:"text-sm text-gray-600",children:r.rcaMethodology.description})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"text-sm font-semibold",children:"Confidence Level"}),i.jsxs(ne,{variant:r.rcaMethodology.confidenceLevel>80?"default":"secondary",children:[r.rcaMethodology.confidenceLevel,"%"]})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"text-sm font-semibold",children:"Evidence Library Used"}),i.jsx(Yt,{className:"h-5 w-5 text-green-500"})]}),i.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"text-sm font-semibold block mb-1",children:"ISO Compliance"}),i.jsx("span",{className:"text-xs text-gray-600",children:r.rcaMethodology.isoCompliance})]})]})]})})]}),i.jsxs(ee,{className:"mb-6",children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx("span",{className:"bg-emerald-100 text-emerald-800 px-2 py-1 rounded text-sm font-medium",children:"8"}),"Corrective and Preventive Actions (CAPA)"]})}),i.jsx(re,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full border-collapse border border-gray-300",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-gray-50",children:[i.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Action"}),i.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Type"}),i.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Owner"}),i.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Due Date"}),i.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left font-semibold",children:"Status"})]})}),i.jsx("tbody",{children:r.correctiveActions.map((a,s)=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"border border-gray-300 px-4 py-2 text-sm",children:a.action}),i.jsx("td",{className:"border border-gray-300 px-4 py-2",children:i.jsx(ne,{variant:a.type==="Corrective"?"destructive":"default",className:"text-xs",children:a.type})}),i.jsx("td",{className:"border border-gray-300 px-4 py-2 text-sm",children:a.owner}),i.jsx("td",{className:"border border-gray-300 px-4 py-2 text-sm font-mono",children:a.dueDate}),i.jsx("td",{className:"border border-gray-300 px-4 py-2",children:i.jsx(ne,{variant:"outline",className:"text-xs",children:a.status})})]},s))})]})})})]}),i.jsxs(ee,{className:"mb-6",children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx("span",{className:"bg-teal-100 text-teal-800 px-2 py-1 rounded text-sm font-medium",children:"9"}),"Lessons Learned"]})}),i.jsx(re,{children:i.jsx("ul",{className:"space-y-3",children:r.lessonsLearned.map((a,s)=>i.jsxs("li",{className:"flex items-start gap-3 p-3 border-l-4 border-teal-200 bg-teal-50 rounded-r-lg",children:[i.jsx(Yt,{className:"h-5 w-5 text-teal-600 mt-0.5 flex-shrink-0"}),i.jsx("span",{className:"text-gray-900",children:a})]},s))})})]}),i.jsx(ee,{className:"border-gray-200",children:i.jsx(re,{className:"pt-4",children:i.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[i.jsxs("span",{children:["Report Generated: ",new Date(r.metadata.reportGeneratedDate).toLocaleString()]}),i.jsx(Sa,{orientation:"vertical",className:"h-4"}),i.jsxs("span",{children:["Generated by: ",r.metadata.reportGeneratedBy]}),i.jsx(Sa,{orientation:"vertical",className:"h-4"}),i.jsxs("span",{children:["Evidence Files: ",r.metadata.totalEvidenceFiles]}),i.jsx(Sa,{orientation:"vertical",className:"h-4"}),i.jsxs("span",{children:["Overall Confidence: ",r.metadata.overallConfidence,"%"]})]})})})]})}function L0e(){var d;const{incidentId:e}=Tw(),{data:t,isLoading:n}=Ye({queryKey:[`/api/incidents/${e}`],enabled:!!e}),{data:r,isLoading:a}=Ye({queryKey:[`/api/incidents/${e}/analysis`],enabled:!!e}),{data:s,isLoading:o}=Ye({queryKey:[`/api/incidents/${e}/summary-report`],enabled:!!e});if(n||a)return i.jsx("div",{className:"container mx-auto p-6",children:i.jsx("div",{className:"flex items-center justify-center py-20",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading analysis details..."})]})})});if(!t||!r)return i.jsx("div",{className:"container mx-auto p-6",children:i.jsx(ee,{className:"border-yellow-200",children:i.jsx(re,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center gap-3 text-yellow-600",children:[i.jsx(xt,{className:"h-5 w-5"}),i.jsx("span",{children:"Incident or analysis not found."})]})})})});if(!r||Object.keys(r).length===0)return i.jsx("div",{className:"container mx-auto p-6",children:i.jsx(ee,{className:"border-yellow-200",children:i.jsx(re,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center gap-3 text-yellow-600",children:[i.jsx(xt,{className:"h-5 w-5"}),i.jsx("span",{children:"Analysis data not available. Please complete the analysis first."})]})})})});const l=((r==null?void 0:r.overallConfidence)||0)>=80?"text-green-600":((r==null?void 0:r.overallConfidence)||0)>=60?"text-yellow-600":"text-red-600",c=f=>new Date(f).toLocaleString(),u=f=>{switch(f){case"finalized":case"completed":return i.jsx(ne,{className:"bg-green-100 text-green-800",children:"Completed"});case"analysis_complete":return i.jsx(ne,{className:"bg-blue-100 text-blue-800",children:"Analysis Complete"});case"under_review":return i.jsx(ne,{className:"bg-yellow-100 text-yellow-800",children:"Under Review"});default:return i.jsx(ne,{className:"bg-gray-100 text-gray-800",children:"In Progress"})}};return i.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(H,{variant:"ghost",size:"sm",asChild:!0,children:i.jsxs(fn,{href:"/",children:[i.jsx(Oa,{className:"h-4 w-4 mr-2"}),"Back"]})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analysis Details"}),i.jsxs("p",{className:"text-gray-600",children:[(t==null?void 0:t.equipmentId)||"N/A","  ",(t==null?void 0:t.equipmentGroup)||"N/A","  ",(t==null?void 0:t.equipmentType)||"N/A",t!=null&&t.equipmentSubtype?`  ${t.equipmentSubtype}`:""]})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"text-right mr-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-medium",children:"Confidence:"}),i.jsxs("span",{className:`text-2xl font-bold ${l}`,children:[(r==null?void 0:r.overallConfidence)||0,"%"]})]}),u((t==null?void 0:t.workflowStatus)||"in_progress")]}),i.jsxs(H,{className:"flex items-center gap-2",children:[i.jsx(kr,{className:"h-4 w-4"}),"Export"]})]})]}),i.jsxs(ea,{defaultValue:"overview",className:"w-full",children:[i.jsxs(Ci,{className:"grid w-full grid-cols-8",children:[i.jsx(Ze,{value:"overview",children:"Overview"}),i.jsx(Ze,{value:"diagrams",children:"Diagrams"}),i.jsx(Ze,{value:"rca-tree",children:"RCA Tree"}),i.jsx(Ze,{value:"evidence",children:"Evidence"}),i.jsx(Ze,{value:"reasoning",children:"AI Reasoning"}),i.jsx(Ze,{value:"engineer-review",children:"Engineer Review"}),i.jsx(Ze,{value:"export",children:"Export"}),i.jsx(Ze,{value:"history",children:"History"})]}),i.jsxs(tt,{value:"overview",className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(vn,{className:"h-5 w-5"}),"Issue Description"]})}),i.jsxs(re,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:(t==null?void 0:t.title)||"No title"}),i.jsx("p",{className:"text-gray-600 mt-2",children:(t==null?void 0:t.description)||"No description"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Reported:"}),i.jsx("p",{className:"font-medium",children:t!=null&&t.incidentDateTime?c(t.incidentDateTime):"N/A"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Priority:"}),i.jsx("p",{className:"font-medium",children:(t==null?void 0:t.priority)||"Medium"})]})]})]})]}),i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(Lv,{className:"h-5 w-5"}),"Equipment Details"]})}),i.jsxs(re,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Type:"}),i.jsxs("p",{className:"font-medium",children:[t.equipmentGroup,"  ",t.equipmentType,t.equipmentSubtype?`  ${t.equipmentSubtype}`:""]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"ID:"}),i.jsx("p",{className:"font-medium",children:t.equipmentId})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Location:"}),i.jsx("p",{className:"font-medium",children:t.location})]})]})]})]}),i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(Fd,{className:"h-5 w-5"}),"Root Cause Analysis"]})}),i.jsx(re,{children:r.rootCauses&&r.rootCauses.length>0?i.jsx("div",{className:"space-y-4",children:r.rootCauses.map((f,p)=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:f.description}),i.jsxs(ne,{variant:"outline",className:"ml-2",children:[f.confidence,"% confidence"]})]}),i.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:[i.jsx("span",{className:"font-medium",children:"Category:"})," ",f.category," ",i.jsx("span",{className:"font-medium ml-2",children:"Impact:"})," ",f.impact," ",i.jsx("span",{className:"font-medium ml-2",children:"Likelihood:"})," ",f.likelihood]}),f.evidence&&f.evidence.length>0&&i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Evidence:"}),i.jsx("ul",{className:"text-sm text-gray-600 ml-4 mt-1",children:f.evidence.map((h,x)=>i.jsx("li",{className:"list-disc",children:h},x))})]})]},f.id||p))}):i.jsx("p",{className:"text-gray-500 italic",children:"No root causes identified yet."})})]}),i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(LT,{className:"h-5 w-5"}),"Recommendations"]})}),i.jsx(re,{children:r.recommendations&&r.recommendations.length>0?i.jsx("div",{className:"space-y-4",children:r.recommendations.map((f,p)=>i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:f.title}),i.jsx(ne,{variant:f.priority==="Immediate"?"destructive":f.priority==="Short-term"?"default":"secondary",children:f.priority})]}),i.jsx("p",{className:"text-gray-600 mb-3",children:f.description}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Cost:"}),i.jsx("p",{className:"font-medium",children:f.estimatedCost})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Timeframe:"}),i.jsx("p",{className:"font-medium",children:f.timeframe})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Responsible:"}),i.jsx("p",{className:"font-medium",children:f.responsible})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Prevention:"}),i.jsxs("p",{className:"font-medium",children:[f.preventsProbability,"%"]})]})]})]},f.id||p))}):i.jsx("p",{className:"text-gray-500 italic",children:"No recommendations available."})})]})]}),i.jsx(tt,{value:"evidence",className:"space-y-6",children:i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsx(se,{children:"Evidence Collection Summary"})}),i.jsx(re,{children:t.evidenceChecklist&&t.evidenceChecklist.length>0?i.jsx("div",{className:"space-y-4",children:t.evidenceChecklist.map((f,p)=>i.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[i.jsx("div",{className:"mt-0.5",children:f.completed?i.jsx(Yt,{className:"h-5 w-5 text-green-600"}):i.jsx(xt,{className:"h-5 w-5 text-yellow-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium",children:f.title}),i.jsx("p",{className:"text-sm text-gray-600",children:f.description}),i.jsxs("div",{className:"flex gap-2 mt-2",children:[i.jsxs(ne,{variant:"outline",className:"text-xs",children:[f.priority," Priority"]}),i.jsx(ne,{variant:"outline",className:"text-xs",children:f.category})]}),f.files&&f.files.length>0&&i.jsxs("div",{className:"mt-2",children:[i.jsx("span",{className:"text-xs text-gray-500",children:"Files: "}),i.jsxs("span",{className:"text-xs",children:[f.files.length," uploaded"]})]})]})]},f.id||p))}):i.jsx("p",{className:"text-gray-500 italic",children:"No evidence checklist available."})})]})}),i.jsxs(tt,{value:"reasoning",className:"space-y-6",children:[i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(hm,{className:"h-5 w-5"}),"Analysis Metrics"]})}),i.jsx(re,{children:r.crossMatchResults&&i.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.crossMatchResults.libraryMatches||0}),i.jsx("div",{className:"text-sm text-gray-500",children:"Library Matches"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[r.crossMatchResults.patternSimilarity||0,"%"]}),i.jsx("div",{className:"text-sm text-gray-500",children:"Pattern Similarity"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[r.overallConfidence,"%"]}),i.jsx("div",{className:"text-sm text-gray-500",children:"Overall Confidence"})]})]})})]}),r.evidenceGaps&&r.evidenceGaps.length>0&&i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(xt,{className:"h-5 w-5 text-yellow-500"}),"Evidence Gaps"]})}),i.jsx(re,{children:i.jsx("ul",{className:"space-y-2",children:r.evidenceGaps.map((f,p)=>i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500"}),i.jsx("span",{className:"text-gray-700",children:f})]},p))})})]}),((d=r.crossMatchResults)==null?void 0:d.historicalData)&&r.crossMatchResults.historicalData.length>0&&i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx($l,{className:"h-5 w-5"}),"Historical References"]})}),i.jsx(re,{children:i.jsx("ul",{className:"space-y-2",children:r.crossMatchResults.historicalData.map((f,p)=>i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),i.jsx("span",{className:"text-gray-700",children:f})]},p))})})]})]}),i.jsx(tt,{value:"rca-tree",className:"space-y-6",children:i.jsxs(ee,{children:[i.jsxs(ae,{children:[i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(Dd,{className:"h-5 w-5"}),"RCA Tree Visualization"]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Interactive root cause analysis tree with cause-and-effect relationships"})]}),i.jsx(re,{children:r?i.jsx(PD,{analysis:r,incident:t}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Dd,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"No analysis data available for RCA Tree visualization"})]})})]})}),i.jsx(tt,{value:"diagrams",className:"space-y-6",children:i.jsxs(ee,{children:[i.jsxs(ae,{children:[i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(hm,{className:"h-5 w-5"}),"Interactive RCA Diagrams"]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Multiple diagram views: Fault Tree, Fishbone, Timeline, and Bowtie analysis"})]}),i.jsx(re,{children:r?i.jsx(JD,{analysisData:r,investigationType:"equipment_failure",onNodeUpdate:(f,p)=>console.log("Node updated:",f,p),onNodeAdd:(f,p)=>console.log("Node added:",f,p),onNodeDelete:f=>console.log("Node deleted:",f)}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(hm,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"No analysis data available for diagram visualization"})]})})]})}),i.jsx(tt,{value:"engineer-review",className:"space-y-6",children:i.jsx(q0e,{incident:t,analysis:r})}),i.jsx(tt,{value:"export",className:"space-y-6",children:i.jsxs(ee,{children:[i.jsxs(ae,{children:[i.jsx(se,{children:"Export Options"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Generate comprehensive reports in various formats"})]}),i.jsx(re,{children:!o&&s?i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs(H,{className:"h-12 flex items-center gap-3",variant:"outline",children:[i.jsx(vn,{className:"h-5 w-5"}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"font-medium",children:"Summary Report"}),i.jsx("div",{className:"text-xs text-gray-500",children:"Comprehensive 9-section report"})]})]}),i.jsxs(H,{className:"h-12 flex items-center gap-3",variant:"outline",children:[i.jsx(kr,{className:"h-5 w-5"}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"font-medium",children:"Export PDF"}),i.jsx("div",{className:"text-xs text-gray-500",children:"Professional format"})]})]})]}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Preparing export options..."})]})})]})}),i.jsx(tt,{value:"history",className:"space-y-6",children:i.jsxs(ee,{children:[i.jsx(ae,{children:i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx($l,{className:"h-5 w-5"}),"Investigation Timeline"]})}),i.jsx(re,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg",children:[i.jsx(Yt,{className:"h-5 w-5 text-green-600"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:"Analysis Completed"}),i.jsx("div",{className:"text-sm text-gray-600",children:c(r.analysisDate)})]})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 rounded-lg",children:[i.jsx(Yt,{className:"h-5 w-5 text-blue-600"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:"Investigation Started"}),i.jsx("div",{className:"text-sm text-gray-600",children:c(t.createdAt)})]})]})]})})]})})]})]})}function q0e({incident:e,analysis:t}){var u,d,f,p,h,x,m;const{toast:n}=Cn(),[r,a]=N.useState(!1),[s,o]=N.useState({reviewerId:"",reviewerName:"",reviewDate:new Date().toISOString(),approved:!1,comments:"",additionalFindings:"",signoffRequired:!1}),l=Je({mutationFn:async g=>gt(`/api/incidents/${e.id}/engineer-review`,{method:"POST",body:JSON.stringify({...g,workflowStatus:g.approved?"finalized":"under_review"})}),onSuccess:()=>{n({title:"Review Submitted",description:s.approved?"Investigation approved and finalized.":"Review comments saved."}),a(!1)},onError:g=>{n({title:"Error",description:"Failed to submit review: "+g.message,variant:"destructive"})}}),c=()=>{if(!s.reviewerName||!s.reviewerId){n({title:"Required Fields",description:"Please provide reviewer name and ID.",variant:"destructive"});return}l.mutate(s)};return i.jsxs("div",{className:"space-y-6",children:[i.jsx(ee,{children:i.jsx(ae,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs(se,{className:"flex items-center gap-2",children:[i.jsx(ru,{className:"h-5 w-5"}),"Engineer Review & Approval"]}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Investigation Status: ",(e==null?void 0:e.workflowStatus)==="finalized"?"Approved":"Pending Review"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ne,{variant:(e==null?void 0:e.workflowStatus)==="finalized"?"default":"secondary",children:(e==null?void 0:e.workflowStatus)==="finalized"?"Finalized":"Needs Review"}),i.jsxs(H,{variant:"outline",onClick:()=>a(!r),className:"flex items-center gap-2",children:[i.jsx(Vr,{className:"h-4 w-4"}),r?"View Mode":"Review Mode"]})]})]})})}),i.jsxs(ee,{children:[i.jsxs(ae,{children:[i.jsx(se,{children:"Investigation Review"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Provide professional engineering review and approval for this RCA investigation"})]}),i.jsxs(re,{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(ve,{children:"Reviewer Name"}),i.jsx(ke,{value:s.reviewerName,onChange:g=>o(b=>({...b,reviewerName:g.target.value})),disabled:!r,placeholder:"Enter your full name"})]}),i.jsxs("div",{children:[i.jsx(ve,{children:"Reviewer ID / License"}),i.jsx(ke,{value:s.reviewerId,onChange:g=>o(b=>({...b,reviewerId:g.target.value})),disabled:!r,placeholder:"Engineer ID or License #"})]})]}),i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"font-semibold mb-3",children:"AI Analysis Summary"}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Confidence:"}),i.jsxs("p",{className:"font-medium",children:[(t==null?void 0:t.overallConfidence)||0,"%"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Failure Mode:"}),i.jsx("p",{className:"font-medium",children:(t==null?void 0:t.failureMode)||"N/A"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Severity:"}),i.jsx("p",{className:"font-medium",children:(t==null?void 0:t.severity)||"N/A"})]})]}),i.jsxs("div",{className:"mt-3",children:[i.jsx("span",{className:"text-gray-600",children:"Root Causes:"}),i.jsx("ul",{className:"list-disc list-inside mt-1",children:((u=t==null?void 0:t.rootCauses)==null?void 0:u.slice(0,3).map((g,b)=>i.jsxs("li",{className:"text-sm",children:[(g==null?void 0:g.description)||"N/A"," (",(g==null?void 0:g.confidence)||0,"%)"]},b)))||i.jsx("li",{className:"text-sm",children:"No root causes available"})})]})]}),i.jsxs("div",{children:[i.jsx(ve,{children:"Review Comments & Professional Assessment"}),i.jsx(Te,{placeholder:"Provide detailed engineering review of the AI analysis, evidence quality, methodology, and conclusions...",value:s.comments,onChange:g=>o(b=>({...b,comments:g.target.value})),disabled:!r,rows:4,className:"mt-2"})]}),i.jsxs("div",{children:[i.jsx(ve,{children:"Additional Engineering Findings"}),i.jsx(Te,{placeholder:"Any additional findings, observations, or recommendations not captured by the AI analysis...",value:s.additionalFindings,onChange:g=>o(b=>({...b,additionalFindings:g.target.value})),disabled:!r,rows:3,className:"mt-2"})]}),r&&i.jsxs("div",{className:"border-t pt-6",children:[i.jsx("h4",{className:"font-semibold mb-4",children:"Final Approval"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(vr,{id:"approved",checked:s.approved,onCheckedChange:g=>o(b=>({...b,approved:!!g}))}),i.jsx(ve,{htmlFor:"approved",className:"font-medium",children:"I approve this RCA investigation and findings"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(vr,{id:"signoff",checked:s.signoffRequired,onCheckedChange:g=>o(b=>({...b,signoffRequired:!!g}))}),i.jsx(ve,{htmlFor:"signoff",children:"Additional management signoff required"})]})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsxs(H,{onClick:c,disabled:l.isPending,className:"flex items-center gap-2",children:[i.jsx(Ml,{className:"h-4 w-4"}),l.isPending?"Submitting...":"Submit Review"]}),i.jsx(H,{variant:"outline",onClick:()=>a(!1),children:"Cancel"})]})]}),(e==null?void 0:e.engineerReview)&&!r&&i.jsxs("div",{className:"border-t pt-6",children:[i.jsx("h4",{className:"font-semibold mb-4",children:"Current Review Status"}),i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(xc,{className:"h-4 w-4"}),i.jsxs("span",{className:"font-medium",children:["Reviewed by: ",((d=e==null?void 0:e.engineerReview)==null?void 0:d.reviewerName)||"N/A"]})]}),i.jsx("p",{className:"text-sm text-gray-700 mb-2",children:((f=e==null?void 0:e.engineerReview)==null?void 0:f.comments)||"No comments"}),((p=e==null?void 0:e.engineerReview)==null?void 0:p.additionalFindings)&&i.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[i.jsx("strong",{children:"Additional findings:"})," ",e.engineerReview.additionalFindings]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[i.jsx(ne,{variant:(h=e==null?void 0:e.engineerReview)!=null&&h.approved?"default":"secondary",children:(x=e==null?void 0:e.engineerReview)!=null&&x.approved?"Approved":"Under Review"}),i.jsxs("span",{className:"text-gray-600",children:["Reviewed: ",(m=e==null?void 0:e.engineerReview)!=null&&m.reviewDate?new Date(e.engineerReview.reviewDate).toLocaleString():"N/A"]})]})]})]})]})]})]})}function z0e(){return i.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:i.jsx(ee,{className:"w-full max-w-md mx-4",children:i.jsxs(re,{className:"pt-6",children:[i.jsxs("div",{className:"flex mb-4 gap-2",children:[i.jsx(Ki,{className:"h-8 w-8 text-red-500"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),i.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function B0e(){return i.jsx("div",{className:"min-h-screen p-6",children:i.jsxs(ee,{className:"max-w-4xl mx-auto",children:[i.jsx(ae,{children:i.jsx(se,{children:"Debug Routes Page"})}),i.jsxs(re,{children:[i.jsx("p",{children:"This page loads to test if routing is working."}),i.jsxs("div",{className:"mt-4 space-y-2",children:[i.jsx(fn,{href:"/",className:"block text-blue-600 hover:underline",children:"Go to Home"}),i.jsx(fn,{href:"/incident-reporting",className:"block text-blue-600 hover:underline",children:"Go to Incident Reporting"}),i.jsx(fn,{href:"/equipment-selection",className:"block text-blue-600 hover:underline",children:"Go to Equipment Selection"})]})]})]})})}function U0e(){const[e,t]=N.useState(""),[n,r]=N.useState(""),[a,s]=N.useState(!1),[o,l]=N.useState(null),[c,u]=N.useState(!1),[d,f]=N.useState(null),{toast:p}=Cn(),h=Wo(),{data:x=[],isLoading:m}=Ye({queryKey:["/api/admin/fault-reference-library"],retry:!1}),{data:g=[]}=Ye({queryKey:["/api/admin/fault-reference-library/search",{q:e,evidenceType:n}],enabled:e.length>0||n.length>0,retry:!1}),b=e||n?g:x,v=Je({mutationFn:async k=>await gt("/api/admin/fault-reference-library","POST"),onSuccess:()=>{h.invalidateQueries({queryKey:["/api/admin/fault-reference-library"]}),s(!1),p({title:"Success",description:"Fault reference entry created successfully"})},onError:k=>{p({title:"Error",description:k.message||"Failed to create entry",variant:"destructive"})}}),y=Je({mutationFn:async({id:k,data:$})=>await gt(`/api/admin/fault-reference-library/${k}`,"PUT"),onSuccess:()=>{h.invalidateQueries({queryKey:["/api/admin/fault-reference-library"]}),l(null),p({title:"Success",description:"Fault reference entry updated successfully"})},onError:k=>{p({title:"Error",description:k.message||"Failed to update entry",variant:"destructive"})}}),w=Je({mutationFn:async k=>await gt(`/api/admin/fault-reference-library/${k}`,"DELETE"),onSuccess:()=>{h.invalidateQueries({queryKey:["/api/admin/fault-reference-library"]}),p({title:"Success",description:"Fault reference entry deleted successfully"})},onError:k=>{p({title:"Error",description:k.message||"Failed to delete entry",variant:"destructive"})}}),j=Je({mutationFn:async k=>{const $=new FormData;$.append("file",k);const O=await fetch("/api/admin/fault-reference-library/import",{method:"POST",body:$});if(!O.ok){const T=await O.json();throw new Error(T.message||"Import failed")}return O.json()},onSuccess:k=>{h.invalidateQueries({queryKey:["/api/admin/fault-reference-library"]}),u(!1),f(null),p({title:"Import Complete",description:`Successfully imported ${k.imported} entries. ${k.errors>0?`${k.errors} errors encountered.`:""}`})},onError:k=>{p({title:"Import Failed",description:k.message||"Failed to import entries",variant:"destructive"})}}),S=async k=>{try{const $=await fetch(`/api/admin/fault-reference-library/export/${k}`);if(!$.ok)throw new Error("Export failed");const O=await $.blob(),T=window.URL.createObjectURL(O),P=document.createElement("a");P.style.display="none",P.href=T,P.download=`fault-reference-library.${k==="csv"?"csv":"xlsx"}`,document.body.appendChild(P),P.click(),window.URL.revokeObjectURL(T),p({title:"Success",description:`Library exported as ${k.toUpperCase()}`})}catch{p({title:"Export Failed",description:"Failed to export library",variant:"destructive"})}},C=()=>{d&&j.mutate(d)},E=({entry:k,onSubmit:$,onCancel:O})=>{const[T,P]=N.useState({evidenceType:(k==null?void 0:k.evidenceType)||"",pattern:(k==null?void 0:k.pattern)||"",matchingCriteria:(k==null?void 0:k.matchingCriteria)||"",probableFault:(k==null?void 0:k.probableFault)||"",confidence:(k==null?void 0:k.confidence)||0,recommendations:(k==null?void 0:k.recommendations)||"",referenceStandard:(k==null?void 0:k.referenceStandard)||"",notes:(k==null?void 0:k.notes)||""}),I=D=>{D.preventDefault(),$(T)};return i.jsxs("form",{onSubmit:I,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{htmlFor:"evidenceType",children:"Evidence Type *"}),i.jsxs(ut,{value:T.evidenceType,onValueChange:D=>P({...T,evidenceType:D}),children:[i.jsx(ot,{children:i.jsx(dt,{placeholder:"Select evidence type"})}),i.jsxs(lt,{children:[i.jsx(X,{value:"vibration",children:"Vibration"}),i.jsx(X,{value:"temperature",children:"Temperature"}),i.jsx(X,{value:"pressure",children:"Pressure"}),i.jsx(X,{value:"acoustic",children:"Acoustic"}),i.jsx(X,{value:"visual",children:"Visual"}),i.jsx(X,{value:"electrical",children:"Electrical"}),i.jsx(X,{value:"chemical",children:"Chemical"}),i.jsx(X,{value:"process",children:"Process"}),i.jsx(X,{value:"operational",children:"Operational"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{htmlFor:"confidence",children:"Confidence (%) *"}),i.jsx(ke,{type:"number",min:"0",max:"100",value:T.confidence,onChange:D=>P({...T,confidence:parseInt(D.target.value)||0}),required:!0})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{htmlFor:"pattern",children:"Pattern *"}),i.jsx(ke,{value:T.pattern,onChange:D=>P({...T,pattern:D.target.value}),placeholder:"e.g., High frequency vibration at 2x RPM",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{htmlFor:"probableFault",children:"Probable Fault *"}),i.jsx(ke,{value:T.probableFault,onChange:D=>P({...T,probableFault:D.target.value}),placeholder:"e.g., Bearing misalignment",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{htmlFor:"matchingCriteria",children:"Matching Criteria *"}),i.jsx(Te,{value:T.matchingCriteria,onChange:D=>P({...T,matchingCriteria:D.target.value}),placeholder:"Describe the conditions that must be met for this pattern to match...",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{htmlFor:"recommendations",children:"Recommendations"}),i.jsx(Te,{value:T.recommendations,onChange:D=>P({...T,recommendations:D.target.value}),placeholder:"Recommended actions and next steps..."})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{htmlFor:"referenceStandard",children:"Reference Standard"}),i.jsx(ke,{value:T.referenceStandard,onChange:D=>P({...T,referenceStandard:D.target.value}),placeholder:"e.g., ISO 14224, API 610"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{htmlFor:"notes",children:"Notes"}),i.jsx(ke,{value:T.notes,onChange:D=>P({...T,notes:D.target.value}),placeholder:"Additional notes..."})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(H,{type:"button",variant:"outline",onClick:O,children:"Cancel"}),i.jsxs(H,{type:"submit",disabled:v.isPending||y.isPending,children:[k?"Update":"Create"," Entry"]})]})]})};return i.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(ru,{className:"h-8 w-8 text-blue-600"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Fault Reference Library"}),i.jsx("p",{className:"text-muted-foreground",children:"Admin-only Feature-to-Fault mapping knowledge base"})]})]}),i.jsxs(ne,{variant:"secondary",className:"flex items-center space-x-1",children:[i.jsx(er,{className:"h-4 w-4"}),i.jsxs("span",{children:[x.length," entries"]})]})]}),i.jsx(ee,{children:i.jsx(re,{className:"pt-6",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[i.jsxs("div",{className:"flex-1 flex gap-3",children:[i.jsxs("div",{className:"relative flex-1 max-w-sm",children:[i.jsx(Pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(ke,{placeholder:"Search patterns, faults, criteria...",value:e,onChange:k=>t(k.target.value),className:"pl-10"})]}),i.jsxs(ut,{value:n,onValueChange:r,children:[i.jsx(ot,{className:"w-40",children:i.jsx(dt,{placeholder:"Evidence Type"})}),i.jsxs(lt,{children:[i.jsx(X,{value:"",children:"All Types"}),i.jsx(X,{value:"vibration",children:"Vibration"}),i.jsx(X,{value:"temperature",children:"Temperature"}),i.jsx(X,{value:"pressure",children:"Pressure"}),i.jsx(X,{value:"acoustic",children:"Acoustic"}),i.jsx(X,{value:"visual",children:"Visual"}),i.jsx(X,{value:"electrical",children:"Electrical"}),i.jsx(X,{value:"chemical",children:"Chemical"}),i.jsx(X,{value:"process",children:"Process"}),i.jsx(X,{value:"operational",children:"Operational"})]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Vl,{open:a,onOpenChange:s,children:[i.jsx(Sj,{asChild:!0,children:i.jsxs(H,{className:"flex items-center space-x-2",children:[i.jsx(Un,{className:"h-4 w-4"}),i.jsx("span",{children:"Add Entry"})]})}),i.jsxs(Hl,{className:"max-w-2xl",children:[i.jsx(Wl,{children:i.jsx(Gl,{children:"Create New Fault Reference Entry"})}),i.jsx(E,{onSubmit:k=>v.mutate(k),onCancel:()=>s(!1)})]})]}),i.jsxs(Vl,{open:c,onOpenChange:u,children:[i.jsx(Sj,{asChild:!0,children:i.jsxs(H,{variant:"outline",className:"flex items-center space-x-2",children:[i.jsx(Po,{className:"h-4 w-4"}),i.jsx("span",{children:"Import"})]})}),i.jsxs(Hl,{children:[i.jsx(Wl,{children:i.jsx(Gl,{children:"Import Fault Reference Library"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[i.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:k=>{var $;return f((($=k.target.files)==null?void 0:$[0])||null)},className:"hidden",id:"import-file"}),i.jsxs("label",{htmlFor:"import-file",className:"cursor-pointer",children:[i.jsx(Po,{className:"mx-auto h-12 w-12 text-gray-400"}),i.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Click to upload CSV or Excel file"})]}),d&&i.jsxs("p",{className:"mt-2 text-sm text-green-600",children:["Selected: ",d.name]})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(H,{variant:"outline",onClick:()=>{u(!1),f(null)},children:"Cancel"}),i.jsx(H,{onClick:C,disabled:!d||j.isPending,children:"Import"})]})]})]})]}),i.jsxs(H,{variant:"outline",onClick:()=>S("csv"),className:"flex items-center space-x-2",children:[i.jsx(vn,{className:"h-4 w-4"}),i.jsx("span",{children:"CSV"})]}),i.jsxs(H,{variant:"outline",onClick:()=>S("excel"),className:"flex items-center space-x-2",children:[i.jsx(RT,{className:"h-4 w-4"}),i.jsx("span",{children:"Excel"})]})]})]})})}),i.jsxs(ee,{children:[i.jsxs(ae,{children:[i.jsx(se,{children:"Knowledge Base Entries"}),i.jsx(yt,{children:"Dynamic fault pattern mapping for evidence analysis"})]}),i.jsx(re,{children:m?i.jsx("div",{className:"text-center py-8",children:"Loading fault reference library..."}):b.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e||n?"No entries match your search criteria":"No fault reference entries found. Create your first entry to get started."}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(Di,{children:[i.jsx(Fi,{children:i.jsxs(ln,{children:[i.jsx(we,{children:"Evidence Type"}),i.jsx(we,{children:"Pattern"}),i.jsx(we,{children:"Probable Fault"}),i.jsx(we,{children:"Confidence"}),i.jsx(we,{children:"Reference"}),i.jsx(we,{children:"Actions"})]})}),i.jsx(Li,{children:b.map(k=>i.jsxs(ln,{children:[i.jsx(je,{children:i.jsx(ne,{variant:"outline",children:k.evidenceType})}),i.jsx(je,{className:"max-w-xs truncate",title:k.pattern,children:k.pattern}),i.jsx(je,{className:"max-w-xs truncate",title:k.probableFault,children:k.probableFault}),i.jsx(je,{children:i.jsxs(ne,{variant:k.confidence>=80?"default":k.confidence>=60?"secondary":"outline",children:[k.confidence,"%"]})}),i.jsx(je,{children:k.referenceStandard||"N/A"}),i.jsx(je,{children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(H,{size:"sm",variant:"outline",onClick:()=>l(k),children:i.jsx(qv,{className:"h-4 w-4"})}),i.jsx(H,{size:"sm",variant:"outline",onClick:()=>{confirm("Are you sure you want to delete this entry?")&&w.mutate(k.id)},children:i.jsx(D0,{className:"h-4 w-4"})})]})})]},k.id))})]})})})]}),o&&i.jsx(Vl,{open:!!o,onOpenChange:()=>l(null),children:i.jsxs(Hl,{className:"max-w-2xl",children:[i.jsx(Wl,{children:i.jsx(Gl,{children:"Edit Fault Reference Entry"})}),i.jsx(E,{entry:o,onSubmit:k=>y.mutate({id:o.id,data:k}),onCancel:()=>l(null)})]})})]})}function V0e(){return console.log("Current route:",window.location.pathname+window.location.search),console.log("Full URL:",window.location.href),i.jsxs(vq,{children:[i.jsx($t,{path:"/",component:Pve}),i.jsx($t,{path:"/new",component:Xge}),i.jsx($t,{path:"/investigation/:id/type",component:Zge}),i.jsx($t,{path:"/investigation/:id/evidence",component:Y2}),i.jsx($t,{path:"/investigation/:id",component:Yge}),i.jsx($t,{path:"/admin",component:D2}),i.jsx($t,{path:"/admin-settings",component:D2}),i.jsx($t,{path:"/admin/evidence-library",component:Gxe}),i.jsx($t,{path:"/admin/evidence-management",component:Ny}),i.jsx($t,{path:"/admin/fault-reference-library",component:U0e}),i.jsx($t,{path:"/evidence-library-management",component:Ny}),i.jsx($t,{path:"/evidence-library",component:Ny}),i.jsx($t,{path:"/incident-reporting",component:_0e}),i.jsx($t,{path:"/debug",component:B0e}),i.jsx($t,{path:"/equipment-selection",component:P0e}),i.jsx($t,{path:"/evidence-checklist",component:R0e}),i.jsx($t,{path:"/evidence-collection",component:Y2}),i.jsx($t,{path:"/human-review",component:d_}),i.jsx($t,{path:"/incidents/:id/human-review",component:d_}),i.jsx($t,{path:"/incidents/:id/analysis",component:f_}),i.jsx($t,{path:"/ai-analysis",component:f_}),i.jsx($t,{path:"/engineer-review",component:M0e}),i.jsx($t,{path:"/nlp-analysis",component:D0e}),i.jsx($t,{path:"/incidents/:id/fallback-analysis",component:$0e}),i.jsx($t,{path:"/summary-report/:incidentId",component:F0e}),i.jsx($t,{path:"/analysis-details/:incidentId",component:L0e}),i.jsx($t,{component:z0e})]})}function H0e(){return i.jsx(NB,{children:i.jsx(Mq,{client:Dt,children:i.jsxs(gB,{children:[i.jsx(H8,{}),i.jsx(V0e,{})]})})})}$P(document.getElementById("root")).render(i.jsx(H0e,{}));
